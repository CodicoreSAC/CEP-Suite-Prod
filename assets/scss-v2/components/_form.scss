// =============================================================================
// Components -> Form
// =============================================================================
// Contiene estilos para elementos de formulario como .form-control, .form-select,
// switches, input de archivos, etc.
// Incluye contenido de _form.scss y _input.scss originales, más estilos
// para el tema oscuro extraídos de _theme.scss.
// =============================================================================

// --- Contenido original de _form.scss ---
.form-select,
.form-select-xs,
.form-select-sm,
.form-select-md,
.form-select-lg,
.form-control,
.form-control-xs,
.form-control-sm,
.form-control-md,
.form-control-lg {
    box-shadow: none;
    color: var(--form-control-color);
    font-size: 15px;
    background-color: var(--form-control-bg);
    border: 1px solid var(--form-control-border);
    border-radius: var(--control-radius);
    align-content: center;

    &:focus,
    &.control-focus {
        outline: 0;
        box-shadow: none;
        box-shadow:
            0 0 0 1px var(--primary) inset,
            0 0 0 1px #e0e0e0 inset;
        border-color: var(--primary) !important;
    }
    &:disabled,
    &.disabled {
        border-color: var(--form-control-border);
        background-color: var(--form-control-border);
    }
}

:where(.form-select, .form-select-xs, .form-select-sm, .form-select-md, .form-select-lg, .form-control, .form-control-xs, .form-control-sm, .form-control-md, .form-control-lg):not(textarea) {
    white-space: nowrap;
    text-overflow: ellipsis;
}

body {
    .form-select[size]:not([size='1']) {
        background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23343a40' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m2 5 6 6 6-6'/%3e%3c/svg%3e");
    }
    .has-danger {
        .form-control,
        .form-control-xs,
        .form-control-sm,
        .form-control-md,
        .form-control-lg,
        .form-select,
        .form-select-xs,
        .form-select-sm,
        .form-select-md,
        .form-select-lg,
        .ng-select .ng-select-container {
            background-color: #ffe3e3 !important;
            border-color: #ff0e24 !important;
        }
    }

    &.fdark,
    &.dark {
        .has-danger {
            .form-control,
            .form-control-xs,
            .form-control-sm,
            .form-control-md,
            .form-control-lg,
            .form-select,
            .form-select-xs,
            .form-select-sm,
            .form-select-md,
            .form-select-lg,
            .ng-select .ng-select-container {
                background-color: rgb(255 0 0 / 15%) !important;
            }
        }
    }
}

.form-control {
    padding: 0 0.75rem;
    min-height: unset !important;
    line-height: normal;
    font-size: var(--control-fs-md);

    &:not(textarea) {
        height: var(--control-form-md-height);
        align-content: center;
    }

    &-lg { padding: 0 0.75rem; height: var(--control-form-lg-height) !important; font-size: var(--control-fs-lg); }
    &-sm { padding: 0 0.5rem; height: var(--control-form-sm-height) !important; font-size: var(--control-fs-sm); }
    &-xs { height: var(--control-form-xs-height) !important; padding: 0 0.25rem; font-size: var(--control-fs-xs); }
}

.form-select {
    --padding-select: 0.5rem;
    padding-top: 0;
    padding-bottom: 0;
    min-height: unset !important;
    line-height: normal;
    font-size: var(--control-fs-md);
    background-size: 16px 12px;
    background-position: right var(--padding-select) center;
    padding-left: var(--padding-select);
    padding-right: calc(16px + var(--padding-select) * 2) !important;

    &:not(textarea) {
        height: var(--control-form-md-height);
        align-content: center;
    }
    &-xs { height: var(--control-form-xs-height) !important; --padding-select: 0.25rem; font-size: var(--control-fs-xs); }
    &-sm { --padding-select: 0.5rem; height: var(--control-form-sm-height) !important; font-size: var(--control-fs-sm); background-position: right 0.5rem center; }
    &-md { --padding-select: 0.75rem; height: var(--control-form-md-height) !important; font-size: var(--control-fs-md); background-position: right 0.75rem center; }
    &-lg { --padding-select: 0.75rem; height: var(--control-form-lg-height) !important; font-size: var(--control-fs-lg); background-position: right 0.75rem center; }
}

.input-group-text {
    .input-group > & { min-height: unset !important; align-content: center; line-height: normal; font-size: var(--control-fs-md); }
    .input-group-sm > & { height: var(--control-form-sm-height); font-size: var(--control-fs-sm); }
    .input-group-lg > & { height: var(--control-form-lg-height); font-size: var(--control-fs-lg); }
    .input-group-xs > & { height: var(--control-form-xs-height); font-size: var(--control-fs-xs); }
}

.form-select {
    align-content: center;
    height: var(--control-form-md-height);
    &-lg { height: var(--control-form-lg-height); }
    &-sm { height: var(--control-form-sm-height); }
    &-xs { height: var(--control-form-xs-height); }
}

.form-img { padding: 10px; background-color: #f5f6fa; img { padding: 0; border: 1px solid #e4e4e4; box-shadow: 0px 3px 7px rgba(0, 0, 0, 0.13); } }
.form-label { margin-bottom: 0.1rem; }
label { font-weight: 700; font-size: 13px; }
*::placeholder { color: #c9d3dc; }

.form-control, .form-control-sm { &:focus { border-color: transparent; } }

.has-danger {
    .form-select, .form-select-sm, .form-control, .form-control-sm {
        border-color: transparent;
        &::placeholder { color: #ff9b9b; }
        &:focus { box-shadow: 0 0 0 2px #ff5f6e inset, 0 0 0 1px #e0e0e0 inset; }
    }
}

.switch { position: relative; display: inline-block; width: 56px; height: 34px; --slider-box: 26px; --slider-box-gap: 4px; cursor: pointer; input { opacity: 0; width: 0; height: 0; } .slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: var(--bg-card-200); transition: 0.2s; pointer-events: none; } .slider:before { position: absolute; content: ''; height: var(--slider-box); width: var(--slider-box); left: var(--slider-box-gap); transform: translateY(-50%); top: 50%; background-color: white; transition: 0.15s cubic-bezier(0.25, 0.46, 0.45, 0.94); } input:checked + .slider { background-color: var(--primary); } input:focus + .slider, input:focus-visible + .slider { box-shadow: none; } input:checked + .slider:before { left: calc(100% - var(--slider-box-gap) - var(--slider-box)); } .slider.round { border-radius: 34px; } .slider.round:before { border-radius: 50%; } &.sm { width: 42px; height: 24px; --slider-box: 20px; --slider-box-gap: 2px; } &.xs { width: 34px; height: 18px; --slider-box: 15px; --slider-box-gap: 2px; } }

.control-primary { background-color: #1b7bff; border-color: #1b7bff; color: #fff; font-size: 20px; font-weight: 700; border-radius: 10px; padding: 2px 2.25rem 2px 0.75rem; background-image: url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'><path fill='none' stroke='WHITE' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m2 5 6 6 6-6'/></svg>"); &:focus { background-color: white; color: black; } }

// --- Contenido original de _input.scss ---
.inputfile { width: 0.1px; height: 0.1px; opacity: 0; overflow: hidden; position: absolute; z-index: -1; & + label { font-weight: 100; text-overflow: ellipsis; white-space: nowrap; cursor: pointer; display: inline-block; overflow: hidden; padding: 0.25rem 1.25rem; border-radius: 10px; display: flex; align-items: center; gap: 5px; margin: auto; width: fit-content; font-weight: bold; } &:focus + label, &.has-focus + label { outline: 1px dotted #000; outline: -webkit-focus-ring-color auto 5px; } & + label * {} & + label svg { fill: #e91e63; } &-1 + label { color: #f1e5e6; background-color: #d3394c; } &-1:focus + label, &-1.has-focus + label, &-1 + label:hover { background-color: #722040; } &-2 + label { color: #e91e63; border: 2px solid currentColor; } &-2:focus + label, &-2.has-focus + label, &-2 + label:hover { background-color: #ffeff4; } }

.no-js .inputfile + label { display: none; }
.form-group { margin-bottom: 0.5rem; }

.container-files { min-height: 200px; padding: 2rem; text-align: center; border: dashed 2px #979797; position: relative; margin: 0 auto; cursor: pointer; border-radius: 0.5rem; &.small { min-height: 100px; box-sizing: content-box; } &.medium { min-height: 180px; box-sizing: content-box; } input { opacity: 0; position: absolute; width: 100%; height: 100%; top: 0; left: 0; } &.completo { padding: 0.25rem; } h3 { font-size: 20px; font-weight: 600; color: #38424c; } }

.fileover { animation: shake 1s; animation-iteration-count: infinite; }

@keyframes shake { 0% { transform: translate(1px, 1px) rotate(0deg); } 10% { transform: translate(-1px, -2px) rotate(-1deg); } 20% { transform: translate(-3px, 0px) rotate(1deg); } 30% { transform: translate(3px, 2px) rotate(0deg); } 40% { transform: translate(1px, -1px) rotate(1deg); } 50% { transform: translate(-1px, 2px) rotate(-1deg); } 60% { transform: translate(-3px, 1px) rotate(0deg); } 70% { transform: translate(3px, 1px) rotate(-1deg); } 80% { transform: translate(-1px, -1px) rotate(1deg); } 90% { transform: translate(1px, 2px) rotate(0deg); } 100% { transform: translate(1px, -2px) rotate(-1deg); } }

._campo_filtro { position: relative; &:not(.transparente) { padding: 3px 10px; padding-bottom: 5px; background-color: var(--bg-card); border-radius: 0.5rem; --tw-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1); --tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color); box-shadow: var(--tw-ring-offset-shadow, 0 0 rgba(0, 0, 0, 0)), var(--tw-ring-shadow, 0 0 rgba(0, 0, 0, 0)), var(--tw-shadow); line-height: 1; padding-top: 12px; } label { font-size: 9px; line-height: 1; position: absolute; top: 2px; } .form-select { padding-top: 0px; padding-bottom: 0px; height: auto; font-weight: bold; max-width: 150px; } &.transparente { label { font-size: 11px; top: -3px; text-align: center; left: 0; right: 0; color: var(--primary); z-index: 1; } .form-select { max-width: 200px; font-size: 1.2rem; min-width: 150px; } } }

.sk-fading-circle.cargando-input { margin: 0; width: 20px; height: 20px; position: absolute; right: 8px; top: 8px; }
.btn-dropdown-hidden { &::after { display: none; } }
.form-check-input { &:checked { background-color: var(--bs-primary); border-color: var(--bs-primary); } &:hover { cursor: pointer; } }

// --- Estilos para tema oscuro extraídos de _theme.scss ---
body {
    &.fdark,
    &.dark {
        --form-control-color: white;
        --form-control-bg: #131212;
        --form-control-border: hsl(0, 0%, 24%);
        --form-control-primary-bg: #131212;
        --form-control-primary-color: var(--primary);

        .form-select {
            background-image: url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'><path fill='none' stroke='WHITE' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m2 5 6 6 6-6'/></svg>");
        }

        .form-select,
        .form-control {
            &:focus {
                background-color: black;
                color: white;
            }
        }
    }
}
