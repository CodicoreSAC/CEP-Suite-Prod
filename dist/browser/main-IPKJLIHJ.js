import{b as je}from"./chunk-GUQDTDME.js";import{a as Te}from"./chunk-NAFU6GNN.js";import"./chunk-HFZLJHYR.js";import{a as Ee}from"./chunk-V6QKETSR.js";import{Aa as de,B as P,Bb as h,C as re,E as G,Ea as me,Fc as ye,Hc as L,Kc as B,M as oe,Ma as b,Mb as M,Nc as be,Oc as Ce,Qa as fe,Qb as O,Rc as _e,T as ae,Ua as C,Uc as Me,V as H,Va as A,Vc as Ie,W as U,Xa as ge,Xc as Pe,Yc as Oe,Z as se,Za as D,Zc as Se,_c as De,a as d,ab as he,ad as ke,b as R,ba as le,bd as k,ca as T,cd as Ne,da as F,db as Z,ea as y,ed as we,fa as p,fd as Re,ga as ce,gd as N,ha as pe,hd as Fe,id as v,jd as Ae,kc as J,kd as Le,lc as Q,m as ne,mb as _,nb as m,ne as $e,o as ie,ob as f,oc as xe,pb as g,q as z,sa as ue,tb as K,ub as Y,wd as Be,z as q,zb as ve}from"./chunk-AFPYJGSO.js";var $=(e,t)=>ne(null,null,function*(){let i=p(Fe),n=p(Be),r=p(k),o=p(Le),a=t.url.split("/"),x=a[0],u=a[1];v.isMultipleSystem&&(x=a[1],u=a[2]),console.log(`${x}/${u}`);let I=e.queryParams.r||"",c=0;if(isNaN(Number(I))||(c=Number(I)),i.token==""){let l=yield n.isAuthenticated(u);if(l.state!="success"||!l.data?.user)return r.parseUrl("/login");n.setUserToken(l.data,i.token)}if(v.isMultipleSystem)for(let l=0;l<n.roles().length;l++)n.roles()[l].system==""&&(n.roles()[l].system="suite");let s=n.roles().find(l=>c>0?l.id==c:v.isMultipleSystem?l.rol==u&&l.system==x:l.rol==u);if(!s)return o.error("No tiene permisos para acceder a esta secci\xF3n."),r.navigate(["/"]);let S=v.isMultipleSystem?s.system:v.sistema;return v.sistema=S,n.currentSystem.set(S),n.userData.rol=s.rol,n.userData.privileges=s.privileges,n.userData.subPrivileges=s.subPrivileges,console.log(`SE DEBE DE SETEAR AL ROL: ${s.rol}`),n.currentRol.set(s.rol),n.setUbicacion({microgrid_id:s.field1,area_id:s.field3,establishment_id:s.field2,institucion_id:n.userData.idinstitucion+"",area:s.area,microgrid:s.microgrid,establishment:s.establishment,serie_id:s.field4,typeDocument:s.field5}),!0});var E=class e{location=p(ye);goBack(){this.location.back()}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=C({type:e,selectors:[["app-not-found-page"]],decls:13,vars:0,consts:[[1,"not-found-container"],[1,"text-secondary"],[1,"mt-4"],[1,"bt","btn-lg-custom","btn-primary","me-2",3,"click"],[1,"ion-md-arrow-back"],["routerLink","/",1,"btn","btn-lg-custom","btn-primary"]],template:function(i,n){i&1&&(m(0,"div",0)(1,"h1"),O(2,"404"),f(),m(3,"p"),O(4,"\xA1Ups! Parece que te has perdido."),f(),m(5,"p",1),O(6,"La p\xE1gina que buscas no existe."),f(),m(7,"div",2)(8,"button",3),ve("click",function(){return n.goBack()}),g(9,"i",4),O(10," Volver "),f(),m(11,"a",5),O(12,"Volver al inicio"),f()()())},dependencies:[Ne],styles:[".not-found-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh;text-align:center;background-color:#f4f4f9;color:#333}.not-found-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:6rem;margin:0;color:#ff6b6b}.not-found-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.25rem}"]})};var Ve=[{path:"",loadChildren:()=>import("./chunk-XWQNWHCI.js").then(e=>e.HomeModule)},{path:"portal",children:[{path:"maker",canActivate:[$],loadChildren:()=>import("./chunk-S4RLOS54.js").then(e=>e.MakerRoutes)},{path:"maker-visor",canActivate:[$],loadChildren:()=>import("./chunk-S4RLOS54.js").then(e=>e.MakerRoutes)}]},{path:"rrhh",children:[{path:"account-management",canActivate:[$],loadChildren:()=>import("./chunk-BFATKC7S.js").then(e=>e.routes)}]},{path:"404",component:E},{path:"**",redirectTo:"404",pathMatch:"full"}];String.prototype.toFloat=function(){let e=this;return e=e.replace(/[^0-9.,]/g,""),parseFloat(e.replace(/,/g,""))};String.prototype.redondear=function(e){var t=parseFloat(this+""),i=Math.pow(10,e);return t=parseFloat((t*i).toFixed(11)),Math.round(t)/i};Number.prototype.redondear=function(e){var t=parseFloat(this+""),i=Math.pow(10,e);return t=parseFloat((t*i).toFixed(11)),Math.round(t)/i};String.prototype.clear_coma=function(){let e=this+"";var t=e.substring(0,1),i=e.substring(e.length-1);return t==","&&(e=e.substring(1)),i==","&&(e=e.substring(0,e.length-1)),e};String.prototype.zfill=function(e){for(var t=this+"";t.length<(e||2);)t="0"+t;return t};Number.prototype.zfill=function(e){for(var t=String(this);t.length<(e||2);)t="0"+t;return t};Date.prototype.addDays=function(e){var t=new Date(this.valueOf());return t.setDate(t.getDate()+e),t};Array.prototype.filterBy=function(e,t=!0){return this.filter(i=>{let n=!0;for(let r in e)if(Object.prototype.hasOwnProperty.call(e,r)){let o=(e[r]+"").toLowerCase(),a=(i[r]+"").toLowerCase();t?a!=o&&(n=!1):a.includes(o)||(n=!1)}return n})};String.prototype.toDate=function(e){var t=this.replace(/[^a-zA-Z0-9]/g,"-"),i=e.toLowerCase().replace(/[^a-zA-Z0-9]/g,"-"),n=i.split("-"),r=t.split("-");console.log(r);var o=n.indexOf("mm"),a=n.indexOf("dd"),x=n.indexOf("yyyy"),u=n.indexOf("hh"),w=n.indexOf("ii"),I=n.indexOf("ss"),c=new Date;console.log({monthIndex:o,dayIndex:a,yearIndex:x,hourIndex:u,minutesIndex:w,secondsIndex:I});var s=x>-1?r[x]:c.getFullYear(),S=o>-1?r[o]-1:c.getMonth(),S=o>-1?r[o]-1:c.getMonth()-1,l=a>-1?r[a]:c.getDate(),Ye=u>-1?r[u]:c.getHours(),Je=w>-1?r[w]:c.getMinutes(),Qe=I>-1?r[I]:c.getSeconds();return new Date(+s,S,+l,+Ye,+Je,+Qe)};var Xe={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"],["table"]]},et=new F("config",{providedIn:"root",factory:()=>({modules:Xe})});var ze=e=>ce([{provide:et,useValue:e}]);var qe=(e,t)=>{let i=e,n=!1;if(e.params.keys().length>0){let r=e.params;e.params.keys().forEach(o=>{let a=e.params.get(o);Ge(a)&&(r=r.delete(o),n=!0)}),n&&(i=e.clone({params:r}))}if(e.body&&typeof e.body=="object"){let r=X(e.body);JSON.stringify(r)!==JSON.stringify(e.body)&&(i=i.clone({body:r}),n=!0)}return t(i)};function Ge(e){return e==="undefined"||e==="null"||e===void 0}function X(e){if(e==null)return e;if(Array.isArray(e))return e.map(t=>X(t));if(typeof e=="object"){let t={};for(let i in e)if(e.hasOwnProperty(i)){let n=e[i];Ge(n)||(t[i]=X(n))}return t}return e}function tt(){return()=>{let e=window.monaco;e&&(e.languages.registerCompletionItemProvider("html",{provideCompletionItems:()=>({suggestions:[{label:"for",kind:e.languages.CompletionItemKind.Snippet,insertText:'<for item="${1:item}" list="${2:items}">\n	$0\n</for>',insertTextRules:e.languages.CompletionItemInsertTextRule.InsertAsSnippet,documentation:"For loop snippet"},{label:"if",kind:e.languages.CompletionItemKind.Snippet,insertText:`<if compare="\${1:true}">
	$0
</if>`,insertTextRules:e.languages.CompletionItemInsertTextRule.InsertAsSnippet,documentation:"If condition snippet"}]})}),e.languages.registerCompletionItemProvider("javascript",{provideCompletionItems:()=>({suggestions:[{label:"ctx",kind:e.languages.CompletionItemKind.Snippet,insertText:"context",insertTextRules:e.languages.CompletionItemInsertTextRule.InsertAsSnippet,documentation:"Variable context"},{label:"log",kind:e.languages.CompletionItemKind.Snippet,insertText:"console.log($1)",insertTextRules:e.languages.CompletionItemInsertTextRule.InsertAsSnippet,documentation:"Console log snippet"}]})}))}}var nt={onMonacoLoad:tt()},He={providers:[ue(),xe({eventCoalescing:!0}),we(Ve,Re({paramsInheritanceStrategy:"always"})),Me(Ie([qe])),Te(),ze({modules:{syntax:!1}}),pe(je.forRoot(d({},nt)))]};function it(e,t){if(e&1&&(m(0,"div",3),g(1,"div",4),f()),e&2){let i=h(2);b(),M("width",i.diameter)("height",i.diameter)}}function rt(e,t){if(e&1&&g(0,"div",5),e&2){let i=h().ngIf,n=h();M("background",n.color)("height",n.height)("width",i+"%")}}function ot(e,t){if(e&1&&(K(0),D(1,it,2,4,"div",1)(2,rt,1,6,"div",2),Y()),e&2){let i=h();b(),_("ngIf",i.includeSpinner),b(),_("ngIf",i.includeBar)}}function at(e,t){if(e&1&&(m(0,"div",3),g(1,"div",4),f()),e&2){let i=h(2);b(),M("width",i.diameter)("height",i.diameter)}}function st(e,t){if(e&1&&g(0,"div",5),e&2){let i=h().ngIf,n=h();M("background",n.color)("height",n.height)("width",i+"%")}}function lt(e,t){if(e&1&&(K(0),D(1,at,2,4,"div",1)(2,st,1,6,"div",2),Y()),e&2){let i=h();b(),_("ngIf",i.includeSpinner),b(),_("ngIf",i.includeBar)}}var ct="[_nghost-%COMP%]{position:relative;display:block;pointer-events:none}[_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{transition:.35s linear all;display:block;position:absolute;top:5px;left:0}[_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]   .ngx-spinner-icon[_ngcontent-%COMP%]{width:14px;height:14px;border:solid 2px transparent;border-top-color:inherit;border-left-color:inherit;border-radius:50%;animation:_ngcontent-%COMP%_loading-bar-spinner .4s linear infinite}[_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{transition:width .35s;position:absolute;top:0;left:0;width:100%;height:2px;border-bottom-right-radius:1px;border-top-right-radius:1px}[dir=rtl]   [_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{right:0;left:unset}[fixed=true][_nghost-%COMP%]{z-index:10002}[fixed=true][_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{position:fixed}[fixed=true][_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{position:fixed;top:10px;left:10px}[dir=rtl]   [fixed=true][_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{right:10px;left:unset}@keyframes _ngcontent-%COMP%_loading-bar-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}",ee=class{constructor(t={}){this.config=t,this.state={action:null,value:0,initialValue:0},this.requests=null,this.disabled=!1,this.stream$=new z,this._value$=null,this.timer$=i=>{let n=q(i);switch(i.action){case"start":case"increment":case"set":{i.action==="start"&&this.config.latencyThreshold===0&&i.value===0&&(i.value=i.initialValue),this.requests>0&&(n=G(this.config.latencyThreshold,250).pipe(P(r=>R(d({},i),{value:r===0?this.state.value||i.initialValue:this._increment()}))));break}case"complete":case"stop":{n=i.value===0?q(d({},i)):G(0,500).pipe(oe(2),P(r=>({value:r===0?100:0})));break}}return n.pipe(P(r=>R(d({},r),{action:"set"})),se(r=>this.next(r,!1)))},this.config=d({latencyThreshold:0},t)}get value$(){return this._value$?this._value$:this._value$=this.stream$.pipe(H(this.state),U(t=>this.timer$(t)),ae(),P(t=>t.value))}start(t=2){this.disabled||this.next({action:"start",initialValue:t})}stop(){this.next({action:"stop"})}complete(){this.next({action:"complete"})}disable(){this.disabled=!0}set(t){this.next({action:"set",value:t})}increment(t=0){this.next({action:"increment",value:t})}next(t,i=!0){switch(t.action){case"start":this.requests=(this.requests||0)+1;break;case"complete":if(this.requests=(this.requests||1)-1,this.requests>0)return;break;case"stop":this.requests=0;break;case"increment":t.value=this._increment(t.value);break}this.state=d(R(d({},this.state),{action:null}),t),i&&this.stream$.next(this.state)}_increment(t=0){let i=this.state.value;return i>=99&&(t=0),t===0&&(i>=0&&i<25?t=Math.random()*3+3:i>=25&&i<65?t=Math.random()*3:i>=65&&i<90?t=Math.random()*2:i>=90&&i<99?t=.5:t=0),t+i}},pt=new F("LOADING_BAR_CONFIG");var j=(()=>{let t=class t{get progress$(){return this.value$}constructor(n,r={},o){this.platformId=n,this.config=r,this.zone=o,this.refs={},this.streams$=new z,this.value$=this.streams$.pipe(H(null),U(()=>re(Object.keys(this.refs).map(a=>this.refs[a].value$))),ut(this.zone),P(a=>Math.max(0,...a)))}start(n=2){this.useRef().start(n)}set(n){this.useRef().set(n)}increment(n){this.useRef().increment(n)}complete(){this.useRef().complete()}stop(){this.useRef().stop()}useRef(n="default"){return this.refs[n]||(this.refs[n]=new ee(this.config),this.streams$.next(),Ce(this.platformId)||this.refs[n].disable()),this.refs[n]}};t.\u0275fac=function(r){return new(r||t)(y(me),y(pt,8),y(he,8))},t.\u0275prov=le({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function ut(e){return e?t=>new ie(i=>t.subscribe(n=>e.run(()=>i.next(n)),n=>e.run(()=>i.error(n)),()=>e.run(()=>i.complete()))):t=>t}var dt=(()=>{let t=class t{get value$(){return this.ref?this.loader.useRef(this.ref).value$:this.loader.value$}constructor(n){this.loader=n,this.includeSpinner=!0,this.includeBar=!0,this.fixed=!0,this.color="#29d"}};t.\u0275fac=function(r){return new(r||t)(fe(j))},t.\u0275cmp=C({type:t,selectors:[["ngx-loading-bar"]],hostVars:3,hostBindings:function(r,o){r&2&&(Z("fixed",o.fixed),M("color",o.color))},inputs:{includeSpinner:"includeSpinner",includeBar:"includeBar",fixed:"fixed",color:"color",value:"value",ref:"ref",height:"height",diameter:"diameter"},decls:2,vars:3,consts:[[4,"ngIf"],["class","ngx-spinner",4,"ngIf"],["class","ngx-bar",3,"background","height","width",4,"ngIf"],[1,"ngx-spinner"],[1,"ngx-spinner-icon"],[1,"ngx-bar"]],template:function(r,o){r&1&&(D(0,ot,3,2,"ng-container",0),J(1,"async")),r&2&&_("ngIf",o.value!=null?o.value:Q(1,1,o.value$))},dependencies:[B,L],styles:["[_nghost-%COMP%]{position:relative;display:block;pointer-events:none}[_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{transition:.35s linear all;display:block;position:absolute;top:5px;left:0}[_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]   .ngx-spinner-icon[_ngcontent-%COMP%]{width:14px;height:14px;border:solid 2px transparent;border-top-color:inherit;border-left-color:inherit;border-radius:50%;animation:_ngcontent-%COMP%_loading-bar-spinner .4s linear infinite}[_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{transition:width .35s;position:absolute;top:0;left:0;width:100%;height:2px;border-bottom-right-radius:1px;border-top-right-radius:1px}[dir=rtl]   [_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{right:0;left:unset}[fixed=true][_nghost-%COMP%]{z-index:10002}[fixed=true][_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{position:fixed}[fixed=true][_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{position:fixed;top:10px;left:10px}[dir=rtl]   [fixed=true][_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{right:10px;left:unset}@keyframes _ngcontent-%COMP%_loading-bar-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"],changeDetection:0});let e=t;return e})(),Ue=(()=>{let t=class t extends dt{};t.\u0275fac=(()=>{let n;return function(o){return(n||(n=de(t)))(o||t)}})(),t.\u0275cmp=C({type:t,selectors:[["ngx-loading-bar"]],hostVars:3,hostBindings:function(r,o){r&2&&(Z("fixed",o.fixed),M("color",o.color))},standalone:!1,features:[ge],decls:2,vars:3,consts:[[4,"ngIf"],["class","ngx-spinner",4,"ngIf"],["class","ngx-bar",3,"background","height","width",4,"ngIf"],[1,"ngx-spinner"],[1,"ngx-spinner-icon"],[1,"ngx-bar"]],template:function(r,o){r&1&&(D(0,lt,3,2,"ng-container",0),J(1,"async")),r&2&&_("ngIf",o.value!=null?o.value:Q(1,1,o.value$))},dependencies:[L,B],styles:[ct],changeDetection:0});let e=t;return e})(),te=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=A({type:t}),t.\u0275inj=T({imports:[be]});let e=t;return e})();function ft(e){let t=e.getCurrentNavigation&&e.getCurrentNavigation();return t&&t.extras?t.extras.state:{}}function gt(e,t){return()=>{let i=t.useRef("router");e.events.subscribe(n=>{let r=ft(e);r&&r.ignoreLoadingBar||(n instanceof Pe&&i.start(),(n instanceof De||n instanceof Oe||n instanceof Se)&&i.complete())})}}var Ke=(()=>{let t=class t{constructor(n,r){gt(n,r)()}};t.\u0275fac=function(r){return new(r||t)(y(k),y(j))},t.\u0275mod=A({type:t}),t.\u0275inj=T({imports:[N,te,N,te]});let e=t;return e})();var V=class e{loading=p(Ee);modalService=p($e);constructor(){this.modalService.activeInstances.subscribe(t=>{if(t.length>0){let i=t[t.length-1];document.querySelectorAll(".modal").forEach(o=>{o.classList.remove("active")});let r=i._windowCmptRef.instance._elRef.nativeElement;r.classList.contains("active")||r.classList.add("active")}})}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=C({type:e,selectors:[["app-root"]],decls:3,vars:0,consts:[["richColors",""]],template:function(i,n){i&1&&g(0,"router-outlet")(1,"ngx-loading-bar")(2,"ngx-sonner-toaster",0)},dependencies:[N,ke,Ke,Ue,Ae],encapsulation:2})};_e(V,He).catch(e=>console.error(e));v.production&&(console.log=function(){});
