import"./chunk-NAFU6GNN.js";import{c as fr}from"./chunk-C267R3UF.js";import{c as ct,d as pe,f as q,g as st,h as ue,i as V1,j as k1}from"./chunk-HFZLJHYR.js";import{Ab as kr,B as Mr,Bb as Dr,Db as Le,Ea as wr,Eb as Mn,Fa as Er,Fb as zn,Gb as Ir,Jb as I1,Kb as dt,Lb as mt,Mb as pt,Nb as ut,Ob as wt,Pb as X,Qb as ht,Rb as Yt,Tb as Et,Ub as Or,Vb as so,Wb as mo,Xb as Fr,a as Cr,b as xr,c as br,d as Sr,e as yr,f as ro,fa as zr,lb as yn,nb as D1,sb as lo,tb as Tr,wb as co,xb as Pr,zb as Vr}from"./chunk-CZFE3RJ6.js";import{a as Oe}from"./chunk-V6QKETSR.js";import{a as Pe,b as zt,c as _r,e as ao,g as Zt,h as ie}from"./chunk-TTQ5IRBO.js";import{$a as H,$b as R,$c as Gn,$d as sr,A as Sa,Ac as Lt,Ad as qe,B as zi,Ba as Ue,Bb as u,C as ya,Cb as Ve,Cc as ge,Cd as N,D as Ma,Db as Me,Dc as Vi,Dd as de,Ea as Rn,Eb as Cn,Ed as ze,F as za,Fa as Ua,Fb as jt,Fd as xe,G as E1,Ga as La,Gb as Ct,Gc as U,Gd as F,H as Un,Ha as Ya,Hb as xt,Hd as Qt,Ia as Ra,Ib as Ei,Ic as Ka,Id as we,J as wa,Ja as _e,Jb as xn,Jc as Ot,Kb as Kt,Kd as Ee,L as Ea,Lb as G,Lc as Ne,Ld as Te,M as Ta,Ma as l,Mb as lt,Mc as Xa,Md as We,Na as kt,Nb as me,Nc as Xt,Nd as Ge,O as Pa,Oa as Na,Ob as jn,Oc as Wn,Od as Ke,P as Ln,Pa as hi,Pb as Ce,Qa as ee,Qb as c,Ra as Nn,Rb as b,S as Va,Sb as O,Sc as Qa,Sd as Jn,Tb as Be,Tc as Za,Ua as z,Ud as Se,V as Yn,Va as _t,Vb as oe,Vd as ye,W as ka,Wa as rt,Wb as Q,Wc as Ja,Wd as De,Xa as Ba,Xb as le,Ya as ja,Yb as $i,Yd as rr,Z as Da,Za as E,Zb as qi,Zd as lr,_ as Ia,_a as $a,_b as Ti,_d as cr,a as re,aa as vn,ab as Wt,ac as he,ad as Kn,ae as dr,b as ve,ba as Z,bb as ri,be as mr,ca as ft,cc as Ga,cd as Xn,ce as pr,da as Ze,db as wi,dc as Ut,dd as er,de as ur,e as An,ea as ui,eb as _n,ee as hr,fa as g,fb as qa,fc as y,fe as vr,ga as gn,gb as _,gc as be,gd as Qn,ge as eo,h as ji,hb as C,he as to,ib as J,id as K,ie as io,jb as Wa,je as no,ka as h,kb as L,kc as je,kd as ce,ke as oo,l as fa,la as v,lb as Y,le as Je,m as x,ma as fn,mb as d,mc as $e,md as fe,me as ae,na as Oa,nb as r,nc as Pi,ne as Ie,o as hn,oa as T1,ob as o,od as tr,pa as Fa,pb as p,pc as vi,pd as ir,pe as gr,q as qt,qa as at,qb as Ht,qc as te,qd as ke,qe as Mt,r as He,rb as Gt,rc as bt,s as _a,sb as Bt,t as Ca,tb as Dt,tc as Wi,u as xa,ua as W,ub as It,uc as B,v as ba,va as Ha,vb as At,vc as bn,vd as nr,w as mi,wc as Sn,wd as A,x as yt,xb as S,xc as P1,xd as Zn,ya as Aa,yb as Bn,yc as $n,yd as or,z as pi,za as Ae,zb as f,zc as qn,zd as ar}from"./chunk-AFPYJGSO.js";var z0=n=>({active:n}),po=class n{item={};isActived=!1;card="box";openMenu=new H;openMenuEmit(t){this.openMenu.emit(t)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=z({type:n,selectors:[["app-ui-user-change-card"]],inputs:{item:"item",isActived:"isActived",card:"card"},outputs:{openMenu:"openMenu"},decls:10,vars:8,consts:[[1,"items","box-main",3,"ngClass"],[1,"text-truncate"],["type","button",1,"btn","btn-more",3,"click"],[1,"icon","ion-md-more"]],template:function(e,i){e&1&&(r(0,"div",0)(1,"div")(2,"div",1),c(3),o(),r(4,"div",1),c(5),je(6,"date"),o()(),r(7,"div")(8,"button",2),f("click",function(s){return i.openMenuEmit(s)}),p(9,"i",3),o()()()),e&2&&(d("ngClass",y(6,z0,i.isActived)),l(3),b(i.item.field),l(2),b($e(6,3,i.item.createAt,"dd/MM/yyyy")))},dependencies:[U,Ne],encapsulation:2})};var w0=n=>({"modal-body":n});function E0(n,t){if(n&1){let e=S();r(0,"div",0)(1,"h4",5),c(2,"DATOS"),o(),r(3,"button",6),f("click",function(){h(e);let a=u();return v(a.close())}),o()()}}var uo=class n{constructor(t){this.activeModal=t}isModal=!0;item={};eventChange=new H;close(){this.isModal?this.activeModal.close():this.eventChange.emit({event:"close",data:this.item})}static \u0275fac=function(e){return new(e||n)(ee(ae,8))};static \u0275cmp=z({type:n,selectors:[["app-ui-user-change-detail"]],inputs:{isModal:"isModal",item:"item"},outputs:{eventChange:"eventChange"},decls:51,vars:14,consts:[[1,"modal-header"],[1,"",3,"ngClass"],[1,"table","table-datos","box-main"],[2,"width","100px"],["nowrap",""],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"]],template:function(e,i){e&1&&(_(0,E0,4,0,"div",0),r(1,"div",1)(2,"table",2)(3,"thead")(4,"tr"),p(5,"th",3)(6,"th"),o()(),r(7,"tbody")(8,"tr")(9,"td",4)(10,"b"),c(11,"Campo"),o()(),r(12,"td"),c(13),o()(),r(14,"tr")(15,"td",4)(16,"b"),c(17,"Valor nuevo"),o()(),r(18,"td"),c(19),o()(),r(20,"tr")(21,"td",4)(22,"b"),c(23,"Valor anterior"),o()(),r(24,"td"),c(25),o()(),r(26,"tr")(27,"td",4)(28,"b"),c(29,"Origen"),o()(),r(30,"td"),c(31),o()(),r(32,"tr")(33,"td",4)(34,"b"),c(35,"Fecha de registro"),o()(),r(36,"td"),c(37),je(38,"date"),o()(),r(39,"tr")(40,"td",4)(41,"b"),c(42,"Createuser"),o()(),r(43,"td"),c(44),o()(),r(45,"tr")(46,"td",4)(47,"b"),c(48,"Nota"),o()(),r(49,"td"),c(50),o()()()()()),e&2&&(C(i.isModal?0:-1),l(),d("ngClass",y(12,w0,i.isModal)),l(12),b(i.item.field),l(6),b(i.item.newValue),l(6),b(i.item.oldValue),l(6),b(i.item.origin),l(6),b($e(38,9,i.item.createAt,"dd/MM/yyyy HH:mm:ss")),l(7),b(i.item.createUser),l(6),b(i.item.note))},dependencies:[U,Ne],encapsulation:2})};var Gi=class n{API=`${K.account2}/user-change`;apiService=g(fe);loadingService=g(Oe);confirmationService=g(X);auth=g(A);toastrService=g(ce);states=[];stateMap=this.states.reduce((t,e)=>(t[e.code]=e.denomination,t),{});canAdd=!1;canEdit=!1;canRemove=!1;canChangeState=!1;canExport=!1;canExportExcel=!1;canExportPdf=!1;constructor(){this.canAdd=this.auth.hasSubPermission("user-change-ADD"),this.canEdit=this.auth.hasSubPermission("user-change-EDIT"),this.canRemove=this.auth.hasSubPermission("user-change-REMOVE"),this.canChangeState=this.auth.hasSubPermission("user-change-CHANGE-STATE"),this.canExport=this.auth.hasPermission("user-change-EXPORT"),this.canExportExcel=this.auth.hasSubPermission("user-change-EXPORT-EXCEL"),this.canExportPdf=this.auth.hasSubPermission("user-change-EXPORT-PDF")}list(t){return x(this,null,function*(){return yield this.apiService.getPrivate(`${this.API}/list`,t)})}add(t){return x(this,null,function*(){let e=yield this.apiService.postPrivate(`${this.API}/create`,t);return e.state=="success"&&e.data&&this.toastrService.success(e.message),e})}data(t){return x(this,null,function*(){return yield this.apiService.getPrivate(`${this.API}/data/${t.id}`,t)})}update(t){return x(this,null,function*(){let e=yield this.apiService.putPrivate(`${this.API}/update/${t.id}`,t);return e.state=="success"&&this.toastrService.success(e.message),e})}changeState(t){return x(this,null,function*(){})}delete(t){return x(this,null,function*(){return this.apiService.deletePrivate(`${this.API}/delete/${t.id}`,t)})}export(t,e){return x(this,null,function*(){if(!(yield this.confirmationService.create("Confirmar","\xBFEst\xE1 seguro de exportar los datos?")))return;this.loadingService.open();let a=ve(re({},t),{type_export:e,url:K.storage}),s=yield this.apiService.getPrivate(`${this.API}/export`,a);return this.loadingService.hide(),s&&s.state=="success"&&window.open(s.url),s})}static \u0275fac=function(e){return new(e||n)};static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})};function T0(n,t){if(n&1){let e=S();r(0,"div",0),f("click",function(){h(e);let a=u();return v(a.copyText())}),c(1),o()}if(n&2){let e=u();l(),O(" ",e.displayTitle()," ")}}function P0(n,t){if(n&1&&(r(0,"span"),c(1),o()),n&2){let e=u(2);l(),O(" ",e.displayTitle()," ")}}function V0(n,t){if(n&1){let e=S();_(0,P0,2,1,"span"),r(1,"div",1),f("click",function(){h(e);let a=u();return v(a.copyText())}),p(2,"i",2),o()}if(n&2){let e=u();C(e.mode()!="icono"?0:-1),l(),d("title",e.mode()=="icono"?"copiar "+e.displayTitle():"copiar")}}var Ki=class n{text=B();title=B();mode=B("boton");displayTitle=te(()=>this.title()||this.text());toastr=g(ce);copyText(){return x(this,null,function*(){let t=this.displayTitle();if(t)try{if(navigator.clipboard&&window.isSecureContext)yield navigator.clipboard.writeText(t.toString());else{let e=document.createElement("textarea");e.style.position="fixed",e.style.left="0",e.style.top="0",e.style.opacity="0",e.value=t.toString(),document.body.appendChild(e),e.focus(),e.select(),document.execCommand("copy"),document.body.removeChild(e)}this.toastr.success("Exito",'"'+t.toString()+'" copiado al portapapeles')}catch(e){console.error("Error al copiar texto:",e)}})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=z({type:n,selectors:[["app-text-copy"],["text-copy"]],inputs:{text:[1,"text"],title:[1,"title"],mode:[1,"mode"]},decls:2,vars:1,consts:[[3,"click"],["app-icon-button","","variant","text","color","dark","size","xs",3,"click","title"],[1,"bi","bi-copy"]],template:function(e,i){e&1&&_(0,T0,2,1,"div")(1,V0,3,2),e&2&&C(i.mode()=="boton"?0:1)},dependencies:[zt,ao],styles:["[_nghost-%COMP%]{display:inline-flex;align-items:center;gap:.25rem;width:100%;justify-content:space-between}[_nghost-%COMP%]   span[_ngcontent-%COMP%]{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}"]})};var Hr=n=>({active:n});function k0(n,t){if(n&1){let e=S();r(0,"div",0)(1,"div")(2,"div",2),c(3),o(),r(4,"div",2),c(5),o()(),r(6,"div")(7,"button",3),f("click",function(a){h(e);let s=u();return v(s.openMenuEmit(a))}),p(8,"i",4),o()()()}if(n&2){let e=u();d("ngClass",y(3,Hr,e.isActived)),l(3),b(e.item.name),l(2),b(e.item.surname)}}function D0(n,t){if(n&1&&(r(0,"div",1)(1,"div",5),p(2,"img",6),o(),r(3,"div",7)(4,"table",8)(5,"thead")(6,"tr"),p(7,"th",9)(8,"th"),o()(),r(9,"tbody")(10,"tr")(11,"td")(12,"div")(13,"b"),c(14),o()()(),r(15,"td",10)(16,"div",11),p(17,"app-text-copy",12),o()()(),r(18,"tr")(19,"td")(20,"div")(21,"b"),c(22,"Nombre(s)"),o()()(),r(23,"td"),c(24),o()(),r(25,"tr")(26,"td")(27,"div")(28,"b"),c(29,"Apellidos"),o()()(),r(30,"td"),c(31),o()(),r(32,"tr")(33,"td")(34,"div")(35,"b"),c(36,"Sexo"),o()()(),r(37,"td"),c(38),o()(),r(39,"tr")(40,"td")(41,"div")(42,"b"),c(43,"Celular"),o()()(),r(44,"td"),c(45),o()(),r(46,"tr")(47,"td")(48,"div")(49,"b"),c(50,"Correo"),o()()(),r(51,"td"),c(52),o()()()()()()),n&2){let e=u();d("ngClass",y(10,Hr,e.isActived)),l(2),d("src",R(e.item.imgUrl),_e),l(12),b(e.item.typeDocument),l(3),d("text",e.item.numberDocument),l(7),b(e.item.name),l(7),b(e.item.surname),l(7),b(e.item.sex),l(7),b(e.item.cellphone),l(7),b(e.item.email)}}var Xi=class n{item={};isActived=!1;card="box";openMenu=new H;openMenuEmit(t){this.openMenu.emit(t)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=z({type:n,selectors:[["app-ui-user-card"]],inputs:{item:"item",isActived:"isActived",card:"card"},outputs:{openMenu:"openMenu"},decls:2,vars:1,consts:[[1,"items","box-main",3,"ngClass"],[1,"items","box-main","_card",3,"ngClass"],[1,"text-truncate"],["type","button",1,"btn","btn-more",3,"click"],[1,"icon","ion-md-more"],[1,"_img"],["alt","",3,"src"],[1,"flex-grow-1"],[1,"table","table-datos","box-main","table-sm"],[2,"width","100px"],["nowrap",""],[1,"d-flex","align-items-center"],[3,"text"]],template:function(e,i){e&1&&_(0,k0,9,5,"div",0)(1,D0,53,12,"div",1),e&2&&C(i.card!="box"?0:1)},dependencies:[U,Ki],styles:["._card[_ngcontent-%COMP%], ._img[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:1rem}._img[_ngcontent-%COMP%]{width:150px;height:150px;background:#e9e9e9;border-radius:1em}._img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:150px;max-height:150px;border-radius:50%}"]})};var I0=n=>({"modal-body":n}),ho=n=>({"has-danger":n});function O0(n,t){if(n&1){let e=S();r(0,"div",0)(1,"h4",21),c(2),o(),r(3,"button",22),f("click",function(){h(e);let a=u();return v(a.close())}),o()()}if(n&2){let e=u();l(2),b(e.title)}}function F0(n,t){n&1&&p(0,"app-loading")}var vo=class n{constructor(t){this.modalActive=t}accion="add";userChange;isModal=!0;idinstitucion="";uid="";campo="username";valor_anterior="";title="CAMBIO DE USERNAME";user={};eventChange=new H;userChangeService=g(Gi);authService=g(A);toastrService=g(ce);labelNew="";labelOld="";states=this.userChangeService.states;username="";ngOnInit(){return x(this,null,function*(){if(this.idinstitucion===""&&(this.idinstitucion=this.authService.institucionData?.idinstitucion+""),this.uid===""&&(this.uid=this.authService.userData.id+""),this.accion=="update"){if(!this.userChange)return;this.username=this.userChange.oldValue,this.form.patchValue({campo:this.userChange.field,valor_nuevo:this.userChange.newValue,valor_anterior:this.userChange.oldValue,origen:this.userChange.origin,nota:this.userChange.note})}else this.campo==""&&(this.campo="username"),this.username=this.user.user?.username,this.form.patchValue({campo:this.campo,valor_anterior:this.valor_anterior});this.changeCampo()})}ngAfterViewInit(){document.getElementById("valor_anterior")?.focus()}form=new xe({campo:new F("",{validators:[N.required],nonNullable:!0}),valor_nuevo:new F("",{validators:[N.required],nonNullable:!0}),valor_anterior:new F("",{validators:[N.required],nonNullable:!0}),origen:new F("",{validators:[],nonNullable:!0}),nota:new F("",{validators:[N.required],nonNullable:!0})});get campoControl(){return this.form.get("campo")}get valor_nuevoControl(){return this.form.get("valor_nuevo")}get valor_anteriorControl(){return this.form.get("valor_anterior")}get origenControl(){return this.form.get("origen")}get notaControl(){return this.form.get("nota")}close(){this.isModal?this.modalActive.dismiss():this.eventChange.emit({event:"close",data:void 0})}submit=!1;loading=!1;save(){return x(this,null,function*(){if(this.submit=!0,!this.form.valid)return;this.submit=!1;let t=this.form.value;if(this.accion=="add"){if(this.campoControl.value=="password"&&this.valor_nuevoControl.value!=this.valor_anteriorControl.value){this.toastrService.error("Las contrase\xF1as no coinciden");return}let e={field:t.campo,newValue:t.valor_nuevo,oldValue:t.valor_anterior,origin:t.origen,user_id:this.user.user?.id+"",createBy:this.uid,createUser:`${this.authService.userData.personDetail?.person?.name} ${this.authService.userData.personDetail?.person?.surname}`,note:t.nota,idinstitucion:this.idinstitucion};this.loading=!0;let i=yield this.userChangeService.add(e);this.loading=!1,i.state=="success"&&(this.isModal?this.modalActive.close(i.data):this.eventChange.emit({event:"add",data:i.data}))}else if(this.accion=="update"){let e={id:+this.userChange.id,newValue:t.valor_nuevo,oldValue:t.valor_anterior,note:t.nota,idinstitucion:this.idinstitucion};this.loading=!0;let i=yield this.userChangeService.update(e);this.loading=!1,i.state=="success"&&(this.isModal?this.modalActive.close(e):this.eventChange.emit({event:"update",data:i.data}))}})}changeCampo(){switch(this.campoControl.value){case"username":this.title="CAMBIO DE USERNAME",this.labelNew="Nuevo usuario",this.labelOld="Usuario anterior",this.valor_anteriorControl.setValue(this.username);break;case"password":this.title="CAMBIO DE PASSWORD",this.labelNew="Nueva contrase\xF1a",this.labelOld="Confirmar contrase\xF1a",this.valor_anteriorControl.setValue("");break}}static \u0275fac=function(e){return new(e||n)(ee(ae,8))};static \u0275cmp=z({type:n,selectors:[["app-ui-user-change-form"]],inputs:{accion:"accion",userChange:"userChange",isModal:"isModal",idinstitucion:"idinstitucion",uid:"uid",campo:"campo",valor_anterior:"valor_anterior",title:"title",user:"user"},outputs:{eventChange:"eventChange"},decls:39,vars:29,consts:[[1,"modal-header"],[1,"",3,"ngClass"],[1,"container",3,"submit","formGroup"],[1,"mb-3"],["card","box",3,"item"],[1,"form-group","row",3,"ngClass"],["for","campo",1,"control-label","col-12","col-md-4"],[1,"col-12","col-md-8"],["name","campo","id","campo","formControlName","campo",1,"form-select",3,"change"],["value","username"],["value","password"],[1,"left",3,"control","show"],["for","valor_anterior",1,"control-label","col-12","col-md-4"],["type","text","name","valor_anterior","id","valor_anterior","formControlName","valor_anterior",1,"form-control"],["for","valor_nuevo",1,"control-label","col-12","col-md-4"],["type","text","name","valor_nuevo","id","valor_nuevo","formControlName","valor_nuevo",1,"form-control"],["for","nota",1,"control-label","col-12","col-md-4"],["name","nota","id","nota","rows","3","formControlName","nota",1,"form-control"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary","btn-lg-medio","mr-1",3,"click"],["type","button",1,"btn","btn-primary","btn-lg-medio",3,"click"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"]],template:function(e,i){e&1&&(_(0,O0,4,1,"div",0),r(1,"div",1)(2,"form",2),f("submit",function(){return i.save()}),r(3,"div",3),p(4,"app-ui-user-card",4),o(),r(5,"div",5)(6,"label",6),c(7,"Campo "),o(),r(8,"div",7)(9,"select",8),f("change",function(){return i.changeCampo()}),r(10,"option",9),c(11,"Cambio de usuario"),o(),r(12,"option",10),c(13,"Cambio de contrase\xF1a"),o()(),p(14,"app-control-messages",11),o()(),r(15,"div",5)(16,"label",12),c(17),o(),r(18,"div",7),p(19,"input",13)(20,"app-control-messages",11),o()(),r(21,"div",5)(22,"label",14),c(23),o(),r(24,"div",7),p(25,"input",15)(26,"app-control-messages",11),o()(),r(27,"div",5)(28,"label",16),c(29,"Observaci\xF3n: "),o(),r(30,"div",7),p(31,"textarea",17)(32,"app-control-messages",11),o()()()(),r(33,"div",18)(34,"button",19),f("click",function(){return i.close()}),c(35,"Cancelar"),o(),r(36,"button",20),f("click",function(){return i.save()}),c(37,"Guardar"),o()(),_(38,F0,1,0,"app-loading")),e&2&&(C(i.isModal?0:-1),l(),d("ngClass",y(19,I0,i.isModal)),l(),d("formGroup",i.form),l(2),d("item",i.user),l(),d("ngClass",y(21,ho,i.campoControl.invalid&&(i.campoControl.touched||i.submit))),l(9),d("control",i.campoControl)("show",i.submit),l(),d("ngClass",y(23,ho,i.valor_anteriorControl.invalid&&(i.valor_anteriorControl.touched||i.submit))),l(2),O("",i.labelOld," "),l(3),d("control",i.valor_anteriorControl)("show",i.submit),l(),d("ngClass",y(25,ho,i.valor_nuevoControl.invalid&&(i.valor_nuevoControl.touched||i.submit))),l(2),O("",i.labelNew," "),l(3),d("control",i.valor_nuevoControl)("show",i.submit),l(),d("ngClass",y(27,ho,i.notaControl.invalid&&(i.notaControl.touched||i.submit))),l(5),d("control",i.notaControl)("show",i.submit),l(6),C(i.loading?38:-1))},dependencies:[ye,we,Ge,Ke,qe,We,de,ze,Ee,Te,Pe,U,ie,Xi],encapsulation:2})};var O1=(n=>n)(O1||{});var H0=n=>({active:n}),Ar=(n,t)=>({item:n,indice:t}),A0=(n,t)=>t.id;function U0(n,t){if(n&1&&c(0),n&2){let e=u().$implicit;O(" ",e.newValue," ")}}function L0(n,t){if(n&1&&c(0),n&2){let e=u().$implicit;O(" ",e.oldValue," ")}}function Y0(n,t){if(n&1){let e=S();r(0,"tr",13,2),f("elementEvents",function(a){let s=h(e).$implicit,m=u(2);return v(m.select(s,a))}),r(2,"td",14),c(3),o(),r(4,"td",15)(5,"small"),c(6),je(7,"date"),o()(),r(8,"td",14),c(9),o(),r(10,"td",14),_(11,U0,1,1),o(),r(12,"td",14),_(13,L0,1,1),o(),r(14,"td"),c(15),o(),r(16,"td",14)(17,"button",16),f("click",function(a){let s=h(e).$implicit,m=G(1);return u(2).select(s),v(m.open(a))}),p(18,"i",17),o()()()}if(n&2){let e=t.$implicit,i=t.$index,a=u(2),s=G(4);d("ngClass",y(12,H0,e.id==a.selected.id))("contextMenu",s)("contextMenuValue",be(14,Ar,e,i)),l(3),O(" ",(i+1).zfill(2)," "),l(3),b($e(7,9,e.createAt,"dd/MM/YYYY HH:mm:ss")),l(3),b(e.field),l(2),C(e.field!="password"?11:-1),l(2),C(e.field!="password"?13:-1),l(2),b(e.note)}}function R0(n,t){if(n&1&&(r(0,"div")(1,"table",9)(2,"thead")(3,"tr")(4,"th",10),c(5,"#"),o(),r(6,"th",11),c(7,"F. registro"),o(),r(8,"th"),c(9,"Campo"),o(),r(10,"th"),c(11,"Valor nuevo"),o(),r(12,"th"),c(13,"Valor anterior"),o(),r(14,"th"),c(15,"Nota"),o(),p(16,"th",10),o()(),r(17,"tbody"),L(18,Y0,19,17,"tr",12,A0),o()()()),n&2){let e=u();l(18),Y(e.userChanges)}}function N0(n,t){if(n&1){let e=S();r(0,"app-ui-user-change-card",19,2),f("elementEvents",function(a){let s=h(e).$implicit,m=u(2);return v(m.select(s,a))})("openMenu",function(a){let s=h(e).$implicit,m=G(1);return u(2).select(s),v(m.open(a))}),o()}if(n&2){let e=t.$implicit,i=t.$index,a=u(2),s=G(4);d("card",R(a.mode))("item",e)("isActived",e.id==a.selected.id)("contextMenu",s)("contextMenuValue",be(6,Ar,e,i))}}function B0(n,t){n&1&&p(0,"app-ui-message-empty")}function j0(n,t){if(n&1&&(r(0,"div"),L(1,N0,2,9,"app-ui-user-change-card",18,J,!1,B0,1,0,"app-ui-message-empty"),o()),n&2){let e=u();Ce(he("_",e.mode)),l(),Y(e.userChanges)}}function $0(n,t){n&1&&(r(0,"div",20)(1,"div",21),p(2,"i",22),o(),r(3,"div",23),c(4,"Ver detalles"),o(),p(5,"div",24),o())}function q0(n,t){n&1&&(r(0,"div",20)(1,"div",21),p(2,"i",25),o(),r(3,"div",23),c(4,"Adicionar"),o(),r(5,"div",24),c(6,"F1"),o()())}function W0(n,t){n&1&&(r(0,"div",20)(1,"div",21),p(2,"i",26),o(),r(3,"div",23),c(4,"Editar"),o(),p(5,"div",24),o())}function G0(n,t){n&1&&(r(0,"div",20)(1,"div",21),p(2,"i",27),o(),r(3,"div",23),c(4,"Eliminar"),o(),p(5,"div",24),o())}function K0(n,t){}function X0(n,t){n&1&&(r(0,"div",20)(1,"div",21),p(2,"img",28),o(),r(3,"div",23),c(4,"Exportar"),o(),p(5,"div",24),o())}function Q0(n,t){}function Z0(n,t){n&1&&(r(0,"div",20)(1,"div",21),p(2,"i",29),o(),r(3,"div",23),c(4,"Actualizar lista"),o(),p(5,"div",24),o())}function J0(n,t){n&1&&(r(0,"div",20)(1,"div",21),p(2,"img",30),o(),r(3,"div",23),c(4,"En formato PDF"),o(),p(5,"div",24),o())}function e2(n,t){n&1&&(r(0,"div",20)(1,"div",21),p(2,"img",31),o(),r(3,"div",23),c(4,"En formato Excel"),o(),p(5,"div",24),o())}function t2(n,t){n&1&&p(0,"app-loading")}var Qi=class n{user={};campo="";origen="";usuario_id="";idinstitucion="";mode="table";size="lg";eventChange=new H;userChangeService=g(Gi);authService=g(A);confirmationService=g(X);modalService=g(Ie);filter={texto:""};userChanges=[];EUserChangeState=O1;loading=!1;ngOnInit(){return x(this,null,function*(){this.filter.origin=this.origen,this.filter.field=this.campo,this.filter.user_id=this.usuario_id,this.idinstitucion===""&&(this.idinstitucion=this.authService.institucionData?.idinstitucion+""),this.filter.idinstitucion=this.idinstitucion,this.list()})}list(){return x(this,null,function*(){this.loading=!0;let t=yield this.userChangeService.list(this.filter);this.loading=!1,t&&t.state=="success"&&(this.userChanges=t.data??[])})}add(){this.openForm()}update(t){this.openForm("update",t)}openForm(t="add",e){return x(this,null,function*(){try{let i=yield this.modalService.open(vo,{backdrop:"static",keyboard:!1,size:"lg"});i.componentInstance.accion=t,i.componentInstance.origen=this.filter.origin,i.componentInstance.campo=this.filter.field,i.componentInstance.usuario_id=this.filter.user_id,i.componentInstance.user=this.user,i.componentInstance.idinstitucion=this.filter.idinstitucion,t=="update"&&(i.componentInstance.userChange=JSON.parse(JSON.stringify(e)));let a=yield i.result;if(t=="add")this.userChanges.unshift(a);else if(t=="update"){if(!e)return;Object.assign(e,a)}}catch{}})}remove(t,e=-1){return x(this,null,function*(){if(!(yield this.confirmationService.create("Eliminar","\xBFEst\xE1 seguro de eliminar el registro?")))return;this.loading=!0;let a=yield this.userChangeService.delete(t);this.loading=!1,a.state=="success"&&(this.userChanges.splice(e,1),this.selected={})})}openDetail(t){return x(this,null,function*(){try{let e=yield this.modalService.open(uo,{backdrop:"static",keyboard:!1,size:"lg"});e.componentInstance.item=t,e.componentInstance.idusuario_cambio=t.id,e.componentInstance.idinstitucion=t.idinstitucion;let i=yield e.result}catch{}})}changeState(t,e){return x(this,null,function*(){})}searchChange(){this.list()}stateFilterChange(){this.list()}suiteFilterChange(){this.list()}selected={};select(t,e="click"){t.id==this.selected.id&&e!="dblclick"||(this.selected=t,e=="dblclick"&&this.openDetail(t),this.eventChange.emit({event:e,data:JSON.parse(JSON.stringify(t))}))}canAdd=()=>this.userChangeService.canAdd;canEdit=()=>this.userChangeService.canEdit;canRemove=()=>this.userChangeService.canRemove;canChangeState=()=>this.userChangeService.canChangeState;canExport=()=>this.userChangeService.canExport;canExportExcel=()=>this.userChangeService.canExportExcel;canExportPdf=()=>this.userChangeService.canExportPdf;export(t="pdf"){return x(this,null,function*(){yield this.userChangeService.export(this.filter,t)})}changeMode(t){this.mode=t}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=z({type:n,selectors:[["app-ui-user-change-list"]],inputs:{user:"user",campo:"campo",origen:"origen",usuario_id:"usuario_id",idinstitucion:"idinstitucion",mode:"mode",size:"size"},outputs:{eventChange:"eventChange"},decls:18,vars:19,consts:[["menu",""],["SubMenu",""],["ngxContextMenu","ngxContextMenu"],[3,"searchChange","onAdd","onExport","onSearch","reload","modeChange","search","states","canExport","canExportExcel","canExportPdf","canNew","mode","size"],[3,"class"],["contextMenuItem","",3,"execute"],["contextMenuItem","",3,"execute","visible"],["contextMenuItem","",3,"divider"],["contextMenuItem","",3,"visible","subMenu"],[1,"table","table-sm","table-box","table-fixed"],[2,"width","40px"],[2,"width","50px"],[3,"ngClass","contextMenu","contextMenuValue"],[3,"elementEvents","ngClass","contextMenu","contextMenuValue"],[1,"text-center"],["nowrap","",1,"text-center"],[1,"btn","btn-more","btn-more-sm",3,"click"],[1,"ion-md-more"],[3,"item","isActived","card","contextMenu","contextMenuValue"],[3,"elementEvents","openMenu","item","isActived","card","contextMenu","contextMenuValue"],[1,"_items"],[1,"icons"],[1,"icons","icon","ion-md-list-box"],[1,"label","w-100"],[1,"atajo"],[1,"icons","icon","ion-md-add"],[1,"icons","icon","ion-md-create"],[1,"icons","icon","ion-md-trash"],["src","https://cdn-icons-png.flaticon.com/512/5414/5414637.png","alt",""],[1,"icons","icon","ion-md-refresh"],["src","assets/img/icons/pdf.png","alt",""],["src","assets/img/icons/excel.png","alt",""]],template:function(e,i){if(e&1){let a=S();r(0,"app-ui-header-management",3),le("searchChange",function(m){return h(a),Q(i.filter.texto,m)||(i.filter.texto=m),v(m)}),f("onAdd",function(){return h(a),v(i.add())})("onExport",function(m){return h(a),v(i.export(m))})("onSearch",function(){return h(a),v(i.searchChange())})("reload",function(){return h(a),v(i.list())}),le("modeChange",function(m){return h(a),Q(i.mode,m)||(i.mode=m),v(m)}),o(),_(1,R0,20,0,"div")(2,j0,4,4,"div",4),r(3,"context-menu",null,0),E(5,$0,6,0,"ng-template",5),f("execute",function(m){return h(a),v(i.openDetail(m.value.item))}),E(6,q0,7,0,"ng-template",6),f("execute",function(){return h(a),v(i.add())}),E(7,W0,6,0,"ng-template",6),f("execute",function(m){return h(a),v(i.update(m.value.item))}),E(8,G0,6,0,"ng-template",6),f("execute",function(m){return h(a),v(i.remove(m.value.item,m.value.indice))}),E(9,K0,0,0,"ng-template",7)(10,X0,6,0,"ng-template",8)(11,Q0,0,0,"ng-template",7)(12,Z0,6,0,"ng-template",5),f("execute",function(){return h(a),v(i.list())}),o(),r(13,"context-menu",null,1),E(15,J0,6,0,"ng-template",6),f("execute",function(){return h(a),v(i.export())}),E(16,e2,6,0,"ng-template",6),f("execute",function(){return h(a),v(i.export("excel"))}),o(),_(17,t2,1,0,"app-loading")}if(e&2){let a=G(14);oe("search",i.filter.texto),d("states",i.userChangeService.states)("canExport",i.userChangeService.canExport)("canExportExcel",i.userChangeService.canExportExcel)("canExportPdf",i.userChangeService.canExportPdf)("canNew",i.userChangeService.canAdd),oe("mode",i.mode),d("size",i.size),l(),C(i.mode=="table"?1:2),l(5),d("visible",i.canAdd),l(),d("visible",i.canEdit),l(),d("visible",i.canRemove),l(),d("divider",!0),l(),d("visible",i.canExport)("subMenu",a),l(),d("divider",!0),l(4),d("visible",i.canExportPdf),l(),d("visible",i.canExportExcel),l(),C(i.loading?17:-1)}},dependencies:[ut,pt,mt,dt,U,Se,ie,Je,Mt,po,wt,ht,Yt,Ne],encapsulation:2})};var Jt=class n{API=`${K.account2}/user-login`;apiService=g(fe);loadingService=g(Oe);confirmationService=g(X);auth=g(A);toastrService=g(ce);canAdd=!1;canEdit=!1;canRemove=!1;canChangeState=!1;canExport=!1;canExportExcel=!1;canExportPdf=!1;constructor(){this.canAdd=this.auth.hasSubPermission("user-login-ADD"),this.canEdit=this.auth.hasSubPermission("user-login-EDIT"),this.canRemove=this.auth.hasSubPermission("user-login-REMOVE"),this.canChangeState=this.auth.hasSubPermission("user-login-CHANGE-STATE"),this.canExport=this.auth.hasPermission("user-login-EXPORT"),this.canExportExcel=this.auth.hasSubPermission("user-login-EXPORT-EXCEL"),this.canExportPdf=this.auth.hasSubPermission("user-login-EXPORT-PDF")}list(t){return x(this,null,function*(){return yield this.apiService.getPrivate(`${this.API}/list`,t)})}add(t){return x(this,null,function*(){let e=yield this.apiService.postPrivate(`${this.API}/create`,t);return e.state=="success"&&e.data&&this.toastrService.success(e.message),e})}data(t){return x(this,null,function*(){return yield this.apiService.getPrivate(`${this.API}/data/${t.id}`,t)})}update(t){return x(this,null,function*(){let e=yield this.apiService.putPrivate(`${this.API}/update/${t.id}`,t);return e.state=="success"&&this.toastrService.success(e.message),e})}patch(t){return x(this,null,function*(){let e=yield this.apiService.putPrivate(`${this.API}/update/${t.id}`,t);return e.state=="success"&&this.toastrService.success(e.message),e})}delete(t){return x(this,null,function*(){let e=yield this.apiService.deletePrivate(`${this.API}/delete/${t.id}`,t);return e.state=="success"&&this.toastrService.success(e.message),e})}export(t,e,i=!0){return x(this,null,function*(){if(i&&!(yield this.confirmationService.create("Confirmar","\xBFEst\xE1 seguro de exportar los datos?")))return;this.loadingService.open();let a=ve(re({},t),{type_export:e,url:K.storage_view}),s=yield this.apiService.getPrivate(`${this.API}/export`,a);return this.loadingService.hide(),s&&s.state=="success"&&window.open(s.url),s})}static \u0275fac=function(e){return new(e||n)};static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})};var i2=n=>({active:n});function n2(n,t){if(n&1&&(r(0,"table",0)(1,"thead")(2,"tr"),p(3,"th",2)(4,"th"),o()(),r(5,"tbody")(6,"tr")(7,"td",3)(8,"b"),c(9," Fecha "),o()(),r(10,"td"),c(11),je(12,"date"),o()(),r(13,"tr")(14,"td",3)(15,"b"),c(16," Hora "),o()(),r(17,"td"),c(18),o()(),r(19,"tr")(20,"td",3)(21,"b"),c(22," Host "),o()(),r(23,"td"),c(24),o()(),r(25,"tr")(26,"td",3)(27,"b"),c(28," Origen "),o()(),r(29,"td"),c(30),o()(),r(31,"tr")(32,"td",3)(33,"b"),c(34," Useragent "),o()(),r(35,"td"),c(36),o()(),r(37,"tr")(38,"td",3)(39,"b"),c(40," Medio "),o()(),r(41,"td"),c(42),o()()()()),n&2){let e=u();l(11),b($e(12,6,e.item.date,"dd/MM/yyyy")),l(7),b(e.item.hour),l(6),b(e.item.host),l(6),b(e.item.origin),l(6),b(e.item.userAgent),l(6),b(e.item.means)}}function o2(n,t){if(n&1){let e=S();r(0,"div")(1,"button",5),f("click",function(a){h(e);let s=u(2);return v(s.openMenuEmit(a))}),p(2,"i",6),o()()}}function a2(n,t){if(n&1&&(r(0,"div",1)(1,"div")(2,"div",4),c(3),o(),r(4,"div",4),c(5),o(),r(6,"div",4),c(7),o(),r(8,"div",4),c(9),o(),r(10,"div",4),c(11),o(),r(12,"div",4),c(13),o(),r(14,"div",4),c(15),o(),r(16,"div",4),c(17),o()(),_(18,o2,3,0,"div"),o()),n&2){let e=u();d("ngClass",y(10,i2,e.isActived)),l(3),b(e.item.id),l(2),b(e.item.date),l(2),b(e.item.hour),l(2),b(e.item.host),l(2),b(e.item.origin),l(2),b(e.item.userAgent),l(2),b(e.item.user_id),l(2),b(e.item.means),l(),C(e.showOption?18:-1)}}var Zi=class n{item={};isActived=!1;card="box";showOption=!1;openMenu=new H;modeData="";userLoginService=g(Jt);openMenuEmit(t){this.openMenu.emit(t)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=z({type:n,selectors:[["app-ui-user-login-card"]],inputs:{item:"item",isActived:"isActived",card:"card",showOption:"showOption",modeData:"modeData"},outputs:{openMenu:"openMenu"},decls:2,vars:1,consts:[[1,"table","table-datos","box-main"],[1,"items","box-main",3,"ngClass"],[2,"width","100px"],["nowrap",""],[1,"text-truncate"],["type","button",1,"btn","btn-more",3,"click"],[1,"icon","ion-md-more"]],template:function(e,i){e&1&&_(0,n2,43,9,"table",0)(1,a2,19,12,"div",1),e&2&&C(i.card=="table"?0:1)},dependencies:[U,Ne],encapsulation:2})};var r2=n=>({"modal-body":n});function l2(n,t){if(n&1){let e=S();r(0,"div",0)(1,"h4",3),c(2,"DATOS DEL ACCESO"),o(),r(3,"button",4),f("click",function(){h(e);let a=u();return v(a.close())}),o()()}}var go=class n{constructor(t){this.activeModal=t}isModal=!0;item={};eventChange=new H;userLoginService=g(Jt);close(){this.isModal?this.activeModal.close():this.eventChange.emit({event:"close",data:this.item})}static \u0275fac=function(e){return new(e||n)(ee(ae,8))};static \u0275cmp=z({type:n,selectors:[["app-ui-user-login-detail"]],inputs:{isModal:"isModal",item:"item"},outputs:{eventChange:"eventChange"},decls:3,vars:5,consts:[[1,"modal-header"],[1,"",3,"ngClass"],["card","table",3,"item"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"]],template:function(e,i){e&1&&(_(0,l2,4,0,"div",0),r(1,"div",1),p(2,"app-ui-user-login-card",2),o()),e&2&&(C(i.isModal?0:-1),l(),d("ngClass",y(3,r2,i.isModal)),l(),d("item",i.item))},dependencies:[U,Zi],encapsulation:2})};var c2=n=>({"modal-body":n}),Ji=n=>({"has-danger":n});function s2(n,t){if(n&1){let e=S();r(0,"div",0)(1,"h4",19),c(2,"DATOS DEL ACCESO"),o(),r(3,"button",20),f("click",function(){h(e);let a=u();return v(a.close())}),o()()}}function d2(n,t){if(n&1){let e=S();r(0,"div",18)(1,"button",21),f("click",function(){h(e);let a=u();return v(a.close())}),c(2,"Cancelar"),o(),r(3,"button",22),f("click",function(){h(e);let a=u();return v(a.save())}),c(4,"Guardar"),o()()}}function m2(n,t){n&1&&p(0,"app-loading")}var fo=class n{constructor(t){this.modalActive=t}accion="add";userLogin;isModal=!0;institution_id="";uid="";user_id="";showOption=!0;onSave=new He(!1);eventChange=new H;userLoginService=g(Jt);authService=g(A);datePipe=g(Ne);subscriptions=[];ngOnInit(){return x(this,null,function*(){this.institution_id===""&&(this.institution_id=this.authService.institucionData?.idinstitucion+""),this.uid===""&&(this.uid=this.authService.userData.id+"");let t=this.onSave.subscribe(e=>{e&&this.save()});if(this.subscriptions.push(t),this.accion=="update"){if(!this.userLogin)return;this.form.patchValue({date:this.userLogin.date,hour:this.userLogin.hour,host:this.userLogin.host,origin:this.userLogin.origin,userAgent:this.userLogin.userAgent,userId:this.userLogin.user_id+"",means:this.userLogin.means})}else this.accion=="add"&&this.form.patchValue({date:this.datePipe.transform(new Date,"yyyy-MM-dd"),hour:this.datePipe.transform(new Date,"HH:mm:ss"),userId:this.user_id})})}ngAfterViewInit(){setTimeout(()=>{document.getElementById("date")?.focus()},150)}form=new xe({date:new F("",{validators:[N.required],nonNullable:!0}),hour:new F("",{validators:[N.required],nonNullable:!0}),host:new F("",{validators:[N.required],nonNullable:!0}),origin:new F("",{validators:[N.required],nonNullable:!0}),userAgent:new F("",{validators:[N.required],nonNullable:!0}),userId:new F("0",{validators:[N.required],nonNullable:!0}),means:new F("",{validators:[N.required],nonNullable:!0})});get dateControl(){return this.form.get("date")}get hourControl(){return this.form.get("hour")}get hostControl(){return this.form.get("host")}get originControl(){return this.form.get("origin")}get userAgentControl(){return this.form.get("userAgent")}get userIdControl(){return this.form.get("userId")}get meansControl(){return this.form.get("means")}close(){this.isModal?this.modalActive.dismiss():this.eventChange.emit({event:"close",data:void 0})}submit=!1;loading=!1;save(){return x(this,null,function*(){if(this.submit=!0,!this.form.valid)return;this.submit=!1;let t=this.form.value;if(this.accion=="add"){let e={date:t.date,hour:t.hour,host:t.host,origin:t.origin,userAgent:t.userAgent,user_id:+t.userId,means:t.means};this.loading=!0;let i=yield this.userLoginService.add(e);this.loading=!1,i.state=="success"&&(this.isModal?this.modalActive.close(i.data):this.eventChange.emit({event:"add",data:i.data}))}else if(this.accion=="update"){let e={id:+this.userLogin?.id,date:t.date,hour:t.hour,host:t.host,origin:t.origin,userAgent:t.userAgent,user_id:+t.userId,means:t.means};this.loading=!0;let i=yield this.userLoginService.update(e);this.loading=!1,i.state=="success"&&(this.isModal?this.modalActive.close(e):this.eventChange.emit({event:"update",data:e}))}})}ngOnDestroy(){this.subscriptions.forEach(t=>{t.unsubscribe()})}static \u0275fac=function(e){return new(e||n)(ee(ae,8))};static \u0275cmp=z({type:n,selectors:[["app-ui-user-login-form"]],inputs:{accion:"accion",userLogin:"userLogin",isModal:"isModal",institution_id:"institution_id",uid:"uid",user_id:"user_id",showOption:"showOption",onSave:"onSave"},outputs:{eventChange:"eventChange"},features:[Ut([Ne])],decls:41,vars:37,consts:[[1,"modal-header"],[1,"",3,"ngClass"],[1,"container",3,"submit","formGroup"],[1,"form-group","row",3,"ngClass"],["for","dateUs",1,"control-label","col-12","col-md-4"],[1,"col-12","col-md-8"],["type","date","name","dateUs","id","dateUs","formControlName","date",1,"form-control"],[1,"left",3,"control","show"],["for","hourUs",1,"control-label","col-12","col-md-4"],["type","time","name","hourUs","id","hourUs","formControlName","hour",1,"form-control"],["for","hostUs",1,"control-label","col-12","col-md-4"],["type","text","name","hostUs","id","hostUs","formControlName","host",1,"form-control"],["for","originUs",1,"control-label","col-12","col-md-4"],["type","text","name","originUs","id","originUs","formControlName","origin",1,"form-control"],["for","userAgentUs",1,"control-label","col-12","col-md-4"],["type","text","name","userAgentUs","id","userAgentUs","formControlName","userAgent",1,"form-control"],["for","meansUs",1,"control-label","col-12","col-md-4"],["type","text","name","meansUs","id","meansUs","formControlName","means",1,"form-control"],[1,"modal-footer"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["type","button",1,"btn","btn-outline-secondary","btn-lg-medio","mr-1",3,"click"],["type","button",1,"btn","btn-primary","btn-lg-medio",3,"click"]],template:function(e,i){e&1&&(_(0,s2,4,0,"div",0),r(1,"div",1)(2,"form",2),f("submit",function(){return i.save()}),r(3,"div",3)(4,"label",4),c(5,"Fecha "),o(),r(6,"div",5),p(7,"input",6)(8,"app-control-messages",7),o()(),r(9,"div",3)(10,"label",8),c(11,"Hora "),o(),r(12,"div",5),p(13,"input",9)(14,"app-control-messages",7),o()(),r(15,"div",3)(16,"label",10),c(17,"Host "),o(),r(18,"div",5),p(19,"input",11)(20,"app-control-messages",7),o()(),r(21,"div",3)(22,"label",12),c(23,"Origen "),o(),r(24,"div",5),p(25,"input",13)(26,"app-control-messages",7),o()(),r(27,"div",3)(28,"label",14),c(29,"Useragent "),o(),r(30,"div",5),p(31,"input",15)(32,"app-control-messages",7),o()(),r(33,"div",3)(34,"label",16),c(35,"Medio "),o(),r(36,"div",5),p(37,"input",17)(38,"app-control-messages",7),o()()()(),_(39,d2,5,0,"div",18),_(40,m2,1,0,"app-loading")),e&2&&(C(i.isModal?0:-1),l(),d("ngClass",y(23,c2,i.isModal)),l(),d("formGroup",i.form),l(),d("ngClass",y(25,Ji,i.dateControl.invalid&&(i.dateControl.touched||i.submit))),l(5),d("control",i.dateControl)("show",i.submit),l(),d("ngClass",y(27,Ji,i.hourControl.invalid&&(i.hourControl.touched||i.submit))),l(5),d("control",i.hourControl)("show",i.submit),l(),d("ngClass",y(29,Ji,i.hostControl.invalid&&(i.hostControl.touched||i.submit))),l(5),d("control",i.hostControl)("show",i.submit),l(),d("ngClass",y(31,Ji,i.originControl.invalid&&(i.originControl.touched||i.submit))),l(5),d("control",i.originControl)("show",i.submit),l(),d("ngClass",y(33,Ji,i.userAgentControl.invalid&&(i.userAgentControl.touched||i.submit))),l(5),d("control",i.userAgentControl)("show",i.submit),l(),d("ngClass",y(35,Ji,i.meansControl.invalid&&(i.meansControl.touched||i.submit))),l(5),d("control",i.meansControl)("show",i.submit),l(),C(i.showOption?39:-1),l(),C(i.loading?40:-1))},dependencies:[ye,we,qe,de,ze,Ee,Te,Pe,U,ie],encapsulation:2})};var p2=n=>({active:n}),Ur=(n,t)=>({item:n,indice:t}),u2=(n,t)=>t.id;function h2(n,t){n&1&&(r(0,"th"),c(1,"Documento"),o(),r(2,"th"),c(3,"Usuario"),o())}function v2(n,t){if(n&1&&(r(0,"td"),c(1),o(),r(2,"td"),c(3),o()),n&2){let e=u().$implicit;l(),b(e.user==null||e.user.personDetail==null||e.user.personDetail.person==null?null:e.user.personDetail.person.numberDocument),l(2),Be("",e.user==null||e.user.personDetail==null||e.user.personDetail.person==null?null:e.user.personDetail.person.name," ",e.user==null||e.user.personDetail==null||e.user.personDetail.person==null?null:e.user.personDetail.person.surname)}}function g2(n,t){if(n&1){let e=S();r(0,"tr",12,2),f("elementEvents",function(a){let s=h(e).$implicit,m=u(2);return v(m.select(s,a))}),r(2,"td",13),c(3),o(),_(4,v2,4,3),r(5,"td",14),c(6),je(7,"date"),o(),r(8,"td",13),c(9),o(),r(10,"td",13),c(11),o(),r(12,"td",13),c(13),o(),r(14,"td",13),c(15),o(),r(16,"td",13)(17,"button",15),f("click",function(a){let s=h(e).$implicit,m=G(1);return u(2).select(s),v(m.open(a))}),p(18,"i",16),o()()()}if(n&2){let e=t.$implicit,i=t.$index,a=u(2),s=G(4);d("ngClass",y(13,p2,e.id==a.selected.id))("contextMenu",s)("contextMenuValue",be(15,Ur,e,i)),l(3),O(" ",(i+1).zfill(2)," "),l(),C(a.user_id==""?4:-1),l(2),b($e(7,10,e.date,"dd/MM/yyyy")),l(3),b(e.hour),l(2),b(e.host),l(2),b(e.origin),l(2),b(e.means)}}function f2(n,t){if(n&1&&(r(0,"div")(1,"table",9)(2,"thead")(3,"tr")(4,"th",10),c(5,"#"),o(),_(6,h2,4,0),r(7,"th"),c(8,"Fecha"),o(),r(9,"th"),c(10,"Hora"),o(),r(11,"th"),c(12,"Host"),o(),r(13,"th"),c(14,"Origen"),o(),r(15,"th"),c(16,"Medio"),o(),p(17,"th",10),o()(),r(18,"tbody"),L(19,g2,19,18,"tr",11,u2),o()()()),n&2){let e=u();l(6),C(e.user_id==""?6:-1),l(13),Y(e.userLogins)}}function _2(n,t){if(n&1){let e=S();r(0,"app-ui-user-login-card",18,2),f("elementEvents",function(a){let s=h(e).$implicit,m=u(2);return v(m.select(s,a))})("openMenu",function(a){let s=h(e).$implicit,m=G(1);return u(2).select(s),v(m.open(a))}),o()}if(n&2){let e=t.$implicit,i=t.$index,a=u(2),s=G(4);d("card",R(a.mode))("item",e)("isActived",e.id==a.selected.id)("contextMenu",s)("showOption",!0)("contextMenuValue",be(7,Ur,e,i))}}function C2(n,t){n&1&&p(0,"app-ui-message-empty")}function x2(n,t){if(n&1&&(r(0,"div"),L(1,_2,2,10,"app-ui-user-login-card",17,J,!1,C2,1,0,"app-ui-message-empty"),o()),n&2){let e=u();Ce(he("_",e.mode)),l(),Y(e.userLogins)}}function b2(n,t){n&1&&(r(0,"div",19)(1,"div",20),p(2,"i",21),o(),r(3,"div",22),c(4,"Ver detalles"),o(),p(5,"div",23),o())}function S2(n,t){n&1&&(r(0,"div",19)(1,"div",20),p(2,"i",24),o(),r(3,"div",22),c(4,"Adicionar"),o(),r(5,"div",23),c(6,"F1"),o()())}function y2(n,t){n&1&&(r(0,"div",19)(1,"div",20),p(2,"i",25),o(),r(3,"div",22),c(4,"Editar"),o(),p(5,"div",23),o())}function M2(n,t){n&1&&(r(0,"div",19)(1,"div",20),p(2,"i",26),o(),r(3,"div",22),c(4,"Eliminar"),o(),p(5,"div",23),o())}function z2(n,t){}function w2(n,t){n&1&&(r(0,"div",19)(1,"div",20),p(2,"img",27),o(),r(3,"div",22),c(4,"Exportar"),o(),p(5,"div",23),o())}function E2(n,t){}function T2(n,t){n&1&&(r(0,"div",19)(1,"div",20),p(2,"i",28),o(),r(3,"div",22),c(4,"Actualizar lista"),o(),p(5,"div",23),o())}function P2(n,t){n&1&&(r(0,"div",19)(1,"div",20),p(2,"img",29),o(),r(3,"div",22),c(4,"En formato PDF"),o(),p(5,"div",23),o())}function V2(n,t){n&1&&(r(0,"div",19)(1,"div",20),p(2,"img",30),o(),r(3,"div",22),c(4,"En formato Excel"),o(),p(5,"div",23),o())}function k2(n,t){n&1&&p(0,"app-loading")}var en=class n{user_id="";showPagination=!0;mode="table";size="lg";eventChange=new H;userLogins=[];load=!0;userLoginService=g(Jt);authService=g(A);confirmationService=g(X);modalService=g(Ie);filter={texto:"",institution_id:""};loading=!1;ngOnInit(){return x(this,null,function*(){this.filter.user_id=this.user_id,this.filter.institution_id=this.authService.userData.idinstitucion+"",this.load&&this.resetPage()})}page=1;resetPage(){return x(this,null,function*(){this.page=1,this.list()})}onPage(){this.list()}list(){return x(this,null,function*(){this.loading=!0,this.showPagination&&(this.filter.page=this.page);let t=yield this.userLoginService.list(this.filter);this.loading=!1,t&&t.state=="success"&&(this.userLogins=t.data??[])})}add(){this.openForm()}update(t){this.openForm("update",t)}openForm(t="add",e){return x(this,null,function*(){try{let i=yield this.modalService.open(fo,{backdrop:"static",keyboard:!1,size:"lg"});i.componentInstance.accion=t,i.componentInstance.user_id=this.filter.user_id,t=="update"&&(i.componentInstance.userLogin=JSON.parse(JSON.stringify(e)));let a=yield i.result;if(t=="add")this.userLogins.unshift(a);else if(t=="update"){if(!e)return;Object.assign(e,a)}}catch{}})}remove(t,e=-1){return x(this,null,function*(){if(!(yield this.confirmationService.create("Eliminar","\xBFEst\xE1 seguro de eliminar el registro?")))return;this.loading=!0;let a=yield this.userLoginService.delete({id:t.id});this.loading=!1,a.state=="success"&&(this.userLogins.splice(e,1),this.selected={})})}openDetail(t){return x(this,null,function*(){try{let e=yield this.modalService.open(go,{backdrop:"static",keyboard:!1,size:"lg"});e.componentInstance.item=t,e.componentInstance.id=t.id;let i=yield e.result}catch{}})}searchChange(){this.resetPage()}stateFilterChange(){this.resetPage()}selected={};select(t,e="click"){t.id==this.selected.id&&e!="dblclick"||(this.selected=t,e=="dblclick"&&this.openDetail(t),this.eventChange.emit({event:e,data:JSON.parse(JSON.stringify(t))}))}canAdd=()=>this.userLoginService.canAdd;canEdit=()=>this.userLoginService.canEdit;canRemove=()=>this.userLoginService.canRemove;canChangeState=()=>this.userLoginService.canChangeState;canExport=()=>this.userLoginService.canExport;canExportExcel=()=>this.userLoginService.canExportExcel;canExportPdf=()=>this.userLoginService.canExportPdf;export(t="pdf"){return x(this,null,function*(){yield this.userLoginService.export(this.filter,t)})}changeMode(t){this.mode=t}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=z({type:n,selectors:[["app-ui-user-login-list"]],inputs:{user_id:"user_id",showPagination:"showPagination",mode:"mode",size:"size",userLogins:"userLogins",load:"load"},outputs:{eventChange:"eventChange"},decls:18,vars:20,consts:[["menu",""],["SubMenu",""],["ngxContextMenu","ngxContextMenu"],[3,"searchChange","onAdd","onExport","onSearch","reload","pageChange","modeChange","search","canExport","canExportExcel","canExportPdf","page","showPagination","canNew","mode","size"],[3,"class"],["contextMenuItem","",3,"execute"],["contextMenuItem","",3,"execute","visible"],["contextMenuItem","",3,"divider"],["contextMenuItem","",3,"visible","subMenu"],[1,"table","table-sm","table-box","table-fixed"],[2,"width","40px"],[3,"ngClass","contextMenu","contextMenuValue"],[3,"elementEvents","ngClass","contextMenu","contextMenuValue"],[1,"text-center"],["nowrap","",1,"text-center"],[1,"btn","btn-more","btn-more-sm",3,"click"],[1,"ion-md-more"],[3,"item","isActived","card","contextMenu","showOption","contextMenuValue"],[3,"elementEvents","openMenu","item","isActived","card","contextMenu","showOption","contextMenuValue"],[1,"_items"],[1,"icons"],[1,"icons","icon","ion-md-list-box"],[1,"label","w-100"],[1,"atajo"],[1,"icons","icon","ion-md-add"],[1,"icons","icon","ion-md-create"],[1,"icons","icon","ion-md-trash"],["src","https://cdn-icons-png.flaticon.com/512/5414/5414637.png","alt",""],[1,"icons","icon","ion-md-refresh"],["src","assets/img/icons/pdf.png","alt",""],["src","assets/img/icons/excel.png","alt",""]],template:function(e,i){if(e&1){let a=S();r(0,"app-ui-header-management",3),le("searchChange",function(m){return h(a),Q(i.filter.texto,m)||(i.filter.texto=m),v(m)}),f("onAdd",function(){return h(a),v(i.add())})("onExport",function(m){return h(a),v(i.export(m))})("onSearch",function(){return h(a),v(i.searchChange())})("reload",function(){return h(a),v(i.resetPage())}),le("pageChange",function(m){return h(a),Q(i.page,m)||(i.page=m),v(m)}),f("pageChange",function(){return h(a),v(i.onPage())}),le("modeChange",function(m){return h(a),Q(i.mode,m)||(i.mode=m),v(m)}),o(),_(1,f2,21,1,"div")(2,x2,4,4,"div",4),r(3,"context-menu",null,0),E(5,b2,6,0,"ng-template",5),f("execute",function(m){return h(a),v(i.openDetail(m.value.item))}),E(6,S2,7,0,"ng-template",6),f("execute",function(){return h(a),v(i.add())}),E(7,y2,6,0,"ng-template",6),f("execute",function(m){return h(a),v(i.update(m.value.item))}),E(8,M2,6,0,"ng-template",6),f("execute",function(m){return h(a),v(i.remove(m.value.item,m.value.indice))}),E(9,z2,0,0,"ng-template",7)(10,w2,6,0,"ng-template",8)(11,E2,0,0,"ng-template",7)(12,T2,6,0,"ng-template",5),f("execute",function(){return h(a),v(i.list())}),o(),r(13,"context-menu",null,1),E(15,P2,6,0,"ng-template",6),f("execute",function(){return h(a),v(i.export())}),E(16,V2,6,0,"ng-template",6),f("execute",function(){return h(a),v(i.export("excel"))}),o(),_(17,k2,1,0,"app-loading")}if(e&2){let a=G(14);oe("search",i.filter.texto),d("canExport",i.userLoginService.canExport)("canExportExcel",i.userLoginService.canExportExcel)("canExportPdf",i.userLoginService.canExportPdf),oe("page",i.page),d("showPagination",i.showPagination)("canNew",i.userLoginService.canAdd),oe("mode",i.mode),d("size",i.size),l(),C(i.mode=="table"?1:2),l(5),d("visible",i.canAdd),l(),d("visible",i.canEdit),l(),d("visible",i.canRemove),l(),d("divider",!0),l(),d("visible",i.canExport)("subMenu",a),l(),d("divider",!0),l(4),d("visible",i.canExportPdf),l(),d("visible",i.canExportExcel),l(),C(i.loading?17:-1)}},dependencies:[ut,pt,mt,dt,U,Se,ie,Je,Mt,Zi,wt,ht,Yt,Ne],encapsulation:2})};var tn=(e=>(e.ACTIVE="1",e.INACTIVE="0",e))(tn||{});var Rt=class n{API=`${K.suite_management}/rol`;apiService=g(fe);loadingService=g(Oe);confirmationService=g(X);auth=g(A);toastrService=g(ce);states=[{code:"1",denomination:"Activo"},{code:"0",denomination:"Inactivo"}];stateMap=this.states.reduce((t,e)=>(t[e.code]=e.denomination,t),{});canAdd=!1;canEdit=!1;canRemove=!1;canChangeState=!1;canExport=!1;canExportExcel=!1;canExportPdf=!1;constructor(){this.canAdd=this.auth.hasSubPermission("USER-ROL-ADD"),this.canEdit=this.auth.hasSubPermission("USER-ROL-EDIT"),this.canRemove=this.auth.hasSubPermission("USER-ROL-REMOVE"),this.canChangeState=this.auth.hasSubPermission("USER-ROL-CHANGE-STATE"),this.canExport=this.auth.hasPermission("USER-ROL-EXPORT"),this.canExportExcel=this.auth.hasSubPermission("USER-ROL-EXPORT-EXCEL"),this.canExportPdf=this.auth.hasSubPermission("USER-ROL-EXPORT-PDF")}data(t){return x(this,null,function*(){return yield this.apiService.getPrivate(`${this.API}/data/${t.idrol}`,t)})}list(t){return x(this,null,function*(){let e=yield this.apiService.getPrivate(`${this.API}/list`,t);return e.state=="success"&&e.list.forEach(i=>{i.denominacion_estado=this.stateMap[i.estado_rol]}),e})}add(t){return x(this,null,function*(){let e=yield this.apiService.postPrivate(`${this.API}/create`,t);return e.state=="success"&&e.data&&this.toastrService.success(e.message),e})}update(t){return x(this,null,function*(){console.log("DATOS ENVIADOS PARA ACTUALIZAR"),console.log(t);let e=yield this.apiService.patchPrivate(`${this.API}/update/${t.idrol}`,t);return e.state=="success"&&this.toastrService.success(e.message),e})}changeStateMessage(t){let e=this.stateMap[t],i="";switch(t){case"1":i="text-success";break;case"0":i="text-danger";break}return{message:`
            <div class="text-center">
                <div class="mb-3">\xBFEst\xE1 seguro de cambiar el estado del registro?</div>
                <h3 >Nuevo estado: <b class="${i}">${e}</b></h3>
            </div>
        `,denomination:e}}changeStateSave(t){return x(this,null,function*(){return yield this.apiService.putPrivate(`${this.API}/state/change/${t.idrol}`,t)})}changeState(t){return x(this,null,function*(){let{message:e}=this.changeStateMessage(t.estado_rol);if(!(yield this.confirmationService.create("Confirmar",e)))return;this.loadingService.open();let a=yield this.changeStateSave(t);return this.loadingService.hide(),a})}delete(t){return x(this,null,function*(){return t.idrol?this.apiService.postPrivate(`${this.API}/delete`,t):{state:"failure",message:"No se ha enviado el id del enlace"}})}export(t,e,i=!0){return x(this,null,function*(){if(!(yield this.confirmationService.create("Confirmar","\xBFEst\xE1 seguro de exportar los datos?")))return;this.loadingService.open();let s=ve(re({},t),{type_export:e,url:K.storage}),m=yield this.apiService.getPrivate(`${this.API}/export`,s);return this.loadingService.hide(),m&&m.state=="success"&&window.open(m.url),m})}static \u0275fac=function(e){return new(e||n)};static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})};var D2=n=>({"modal-body p-0":n}),I2=(n,t)=>t.idrol;function O2(n,t){if(n&1){let e=S();r(0,"div",0)(1,"h4",7),c(2,"SELECCIONE EL ROL"),o(),r(3,"button",8),f("click",function(){h(e);let a=u();return v(a.close())}),o()()}}function F2(n,t){if(n&1){let e=S();r(0,"tr")(1,"td"),c(2),o(),r(3,"td"),c(4),o(),r(5,"td"),c(6),o(),r(7,"td"),c(8),o(),r(9,"td")(10,"button",9),f("click",function(){let a=h(e).$implicit,s=u();return v(s.select(a))}),c(11," Seleccionar "),o()()()}if(n&2){let e=t.$implicit,i=t.$index;l(2),O(" ",i+1," "),l(2),O(" ",e.codigo_rol," "),l(2),O(" ",e.denominacion_rol," "),l(2),O(" ",e.sistema," ")}}function H2(n,t){n&1&&p(0,"app-loading")}var _o=class n{rols=[];isModal=!0;sistema="";activeModal=g(ae);confirmation=g(X);rolService=g(Rt);close(){this.isModal&&this.activeModal.dismiss()}loading=!1;refresh(){return x(this,null,function*(){this.loading=!0;let t=yield this.rolService.list({sistema:this.sistema,estado_rol:"1"});this.loading=!1,console.log(t),t&&t.state=="success"&&(this.rols=t.list)})}select(t){return x(this,null,function*(){(yield this.confirmation.create("Confirmar","\xBFEsta seguro de continuar con el proceso? "))&&this.isModal&&this.activeModal.close(t)})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=z({type:n,selectors:[["app-ui-rol-selected"]],inputs:{rols:"rols",isModal:"isModal",sistema:"sistema"},decls:24,vars:5,consts:[[1,"modal-header"],[1,"",3,"ngClass"],[1,"___header","p-1"],[1,"btn","btn-primary","btn-refresh",3,"click"],[1,"ion-md-refresh"],[1,"__table","table","table-sm","table-box","table-inventario"],[2,"max-width","50px","min-width","50px","width","50px"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"btn","btn-primary","btn-md-medio",3,"click"]],template:function(e,i){e&1&&(_(0,O2,4,0,"div",0),r(1,"div",1)(2,"div",2),p(3,"div"),r(4,"div")(5,"button",3),f("click",function(){return i.refresh()}),p(6,"i",4),o()(),p(7,"div"),o(),r(8,"table",5)(9,"thead")(10,"tr")(11,"th"),c(12,"#"),o(),r(13,"th"),c(14,"Codigo"),o(),r(15,"th"),c(16,"Denominaci\xF3n"),o(),r(17,"th"),c(18,"Sistema"),o(),p(19,"th",6),o()(),r(20,"tbody"),L(21,F2,12,4,"tr",null,I2),o()()(),_(23,H2,1,0,"app-loading")),e&2&&(C(i.isModal?0:-1),l(),d("ngClass",y(3,D2,i.isModal)),l(20),Y(i.rols),l(2),C(i.loading?23:-1))},dependencies:[U,ie],styles:[".modal-body[_ngcontent-%COMP%]{min-height:calc(100vh - 200px)}"]})};var gi=class n{API=`${K.suite_management}/rol/detail`;apiService=g(fe);loadingService=g(Oe);confirmationService=g(X);auth=g(A);toastrService=g(ce);modalService=g(Ie);states=[{code:"1",denomination:"Activo"},{code:"0",denomination:"Inactivo"}];canAdd=!1;canEdit=!1;canRemove=!1;canChangeState=!1;canExport=!1;canExportExcel=!1;canExportPdf=!1;constructor(){this.canAdd=this.auth.hasSubPermission("USER-ROL-ADD"),this.canEdit=this.auth.hasSubPermission("USER-ROL-EDIT"),this.canRemove=this.auth.hasSubPermission("USER-ROL-REMOVE"),this.canChangeState=this.auth.hasSubPermission("USER-ROL-CHANGE-STATE"),this.canExport=this.auth.hasPermission("USER-ROL-EXPORT"),this.canExportExcel=this.auth.hasSubPermission("USER-ROL-EXPORT-EXCEL"),this.canExportPdf=this.auth.hasSubPermission("USER-ROL-EXPORT-PDF")}list(t){return x(this,null,function*(){return yield this.apiService.getPrivate(`${this.API}/list`,t)})}add(t){return x(this,null,function*(){let e=yield this.apiService.postPrivate(`${this.API}/create`,t);return e.state=="success"&&e.data&&this.toastrService.success(e.message),e})}update(t){return x(this,null,function*(){console.log("DATOS ENVIADOS PARA ACTUALIZAR"),console.log(t);let s=t,{iddetalle_rol:e}=s,i=An(s,["iddetalle_rol"]),a=yield this.apiService.patchPrivate(`${this.API}/update/${t.iddetalle_rol}`,i);return a.state=="success"&&this.toastrService.success(a.message),a})}delete(t){return x(this,null,function*(){return t.iddetalle_rol?this.apiService.deletePrivate(`${this.API}/delete/${t.iddetalle_rol}`,t):{state:"failure",message:"No se ha enviado el id del enlace"}})}export(t,e,i=!0){return x(this,null,function*(){if(!(yield this.confirmationService.create("Confirmar","\xBFEst\xE1 seguro de exportar los datos?")))return;this.loadingService.open();let s=ve(re({},t),{type_export:e,url:K.storage}),m=yield this.apiService.getPrivate(`${this.API}/export`,s);return this.loadingService.hide(),m&&m.state=="success"&&window.open(m.url),m})}copy(t,e){return x(this,null,function*(){let i=yield this.modalService.open(_o,{backdrop:"static",keyboard:!1,size:"lg"});i.componentInstance.sistema=e;try{let a=yield i.result;if(a.idrol==t){this.toastrService.error("No se puede copiar el mismo rol");return}this.loadingService.open();let s={idrol_origen:a.idrol,idrol_destino:t,uid:this.auth.userData.id+""},m=yield this.apiService.postPrivate(`${this.API}/copiar`,s);return this.loadingService.hide(),m.state=="success"&&this.toastrService.success(m.message),m}catch{return}})}clear(t){return x(this,null,function*(){if(!(yield this.confirmationService.create("Confirmar","\xBFEsta seguro de borrar el detalle del rol? ")))return;this.loadingService.open();let i=yield this.apiService.deletePrivate(`${this.API}/borrar`,{idrol:t,uid:this.auth.userData.id+""});return this.loadingService.hide(),i.state=="success"&&this.toastrService.success(i.message),console.log(i),i})}saveOrder(t){return x(this,null,function*(){let e=yield this.apiService.postPrivate(`${this.API}/order/list`,t);return e.state=="success"&&this.toastrService.success(e.message),e})}static \u0275fac=function(e){return new(e||n)};static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})};var nn=class n{API=`${K.suite_management}/module-detail`;apiService=g(fe);loadingService=g(Oe);confirmationService=g(X);auth=g(A);toastrService=g(ce);states=[{code:"1",denomination:"Activo"},{code:"0",denomination:"Inactivo"}];stateMap=this.states.reduce((t,e)=>(t[e.code]=e.denomination,t),{});canAdd=!1;canEdit=!1;canRemove=!1;canChangeState=!1;canExport=!1;canExportExcel=!1;canExportPdf=!1;constructor(){this.canAdd=this.auth.hasSubPermission("module-detail-ADD"),this.canEdit=this.auth.hasSubPermission("module-detail-EDIT"),this.canRemove=this.auth.hasSubPermission("module-detail-REMOVE"),this.canChangeState=this.auth.hasSubPermission("module-detail-CHANGE-STATE"),this.canExport=this.auth.hasPermission("module-detail-EXPORT"),this.canExportExcel=this.auth.hasSubPermission("module-detail-EXPORT-EXCEL"),this.canExportPdf=this.auth.hasSubPermission("module-detail-EXPORT-PDF")}list(t){return x(this,null,function*(){return yield this.apiService.getPrivate(`${this.API}/list`,t)})}add(t){return x(this,null,function*(){let e=yield this.apiService.postPrivate(`${this.API}/create`,t);return e.state=="success"&&e.data&&this.toastrService.success(e.message),e})}data(t){return x(this,null,function*(){return yield this.apiService.getPrivate(`${this.API}/data/${t.id}`,t)})}update(t){return x(this,null,function*(){let e=yield this.apiService.putPrivate(`${this.API}/update/${t.id}`,t);return e.state=="success"&&this.toastrService.success(e.message),e})}patch(t){return x(this,null,function*(){let e=yield this.apiService.putPrivate(`${this.API}/update/${t.id}`,t);return e.state=="success"&&this.toastrService.success(e.message),e})}changeStateMessage(t){let e=this.stateMap[t],i="";switch(t){case"1":i="text-success";break;case"0":i="text-danger";break}return{message:`
            <div class="text-center">
                <div class="mb-3">\xBFEst\xE1 seguro de cambiar el estado del registro?</div>
                <h3 >Nuevo estado: <b class="${i}">${e}</b></h3>
            </div>
        `,denomination:e}}changeStateSave(t){return x(this,null,function*(){let e=yield this.apiService.putPrivate(`${this.API}/state/change/${t.id}`,t);return e.state=="success"&&this.toastrService.success(e.message),e})}changeState(t){return x(this,null,function*(){let{message:e}=this.changeStateMessage(t.state);if(!(yield this.confirmationService.create("Confirmar",e)))return;this.loadingService.open();let a=yield this.changeStateSave(t);return this.loadingService.hide(),a})}delete(t){return x(this,null,function*(){let e=yield this.apiService.deletePrivate(`${this.API}/delete/${t.id}`,t);return e.state=="success"&&this.toastrService.success(e.message),e})}export(t,e,i=!0){return x(this,null,function*(){if(i&&!(yield this.confirmationService.create("Confirmar","\xBFEst\xE1 seguro de exportar los datos?")))return;this.loadingService.open();let a=ve(re({},t),{type_export:e,url:K.storage_view,institution:this.auth.getInstitution()}),s=yield this.apiService.getPrivate(`${this.API}/export`,a);return this.loadingService.hide(),s&&s.state=="success"&&window.open(s.url),s})}saveOrder(t){return x(this,null,function*(){let e=yield this.apiService.postPrivate(`${this.API}/order/list`,t);return e.state=="success"&&this.toastrService.success(e.message),e})}static \u0275fac=function(e){return new(e||n)};static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})};var A2=n=>({"modal-body":n});function U2(n,t){if(n&1){let e=S();r(0,"div",0)(1,"h4",5),c(2,"DATOS"),o(),r(3,"button",6),f("click",function(){h(e);let a=u();return v(a.close())}),o()()}}var Co=class n{constructor(t){this.activeModal=t}isModal=!0;item={};eventChange=new H;loading=!1;close(){this.isModal?this.activeModal.close():this.eventChange.emit({event:"close",data:this.item})}static \u0275fac=function(e){return new(e||n)(ee(ae,8))};static \u0275cmp=z({type:n,selectors:[["app-ui-rol-detail-detail"]],inputs:{isModal:"isModal",item:"item"},outputs:{eventChange:"eventChange"},decls:26,vars:7,consts:[[1,"modal-header"],[1,"",3,"ngClass"],[1,"table","table-datos","box-main"],[2,"width","100px"],["nowrap",""],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"]],template:function(e,i){e&1&&(_(0,U2,4,0,"div",0),r(1,"div",1)(2,"table",2)(3,"thead")(4,"tr"),p(5,"th",3)(6,"th"),o()(),r(7,"tbody")(8,"tr")(9,"td",4)(10,"b"),c(11,"C\xF3digo"),o()(),r(12,"td"),c(13),o()(),r(14,"tr")(15,"td",4)(16,"b"),c(17,"Denominaci\xF3n"),o()(),r(18,"td"),c(19),o()(),r(20,"tr")(21,"td",4)(22,"b"),c(23,"Nivel"),o()(),r(24,"td"),c(25),o()()()()()),e&2&&(C(i.isModal?0:-1),l(),d("ngClass",y(5,A2,i.isModal)),l(12),b(i.item.codigo_opcion),l(6),b(i.item.denominacion_opcion),l(6),b(i.item.nivel_opcion))},dependencies:[U],encapsulation:2})};var L2=n=>({"modal-body":n}),F1=n=>({"has-danger":n});function Y2(n,t){if(n&1){let e=S();r(0,"div",0)(1,"h4",18),c(2,"DATOS DEL ROL DETALLE"),o(),r(3,"button",19),f("click",function(){h(e);let a=u();return v(a.close())}),o()()}}function R2(n,t){if(n&1){let e=S();r(0,"div",17)(1,"button",20),f("click",function(){h(e);let a=u();return v(a.close())}),c(2," Cancelar "),o(),r(3,"button",21),f("click",function(){h(e);let a=u();return v(a.save())}),c(4," Guardar "),o()()}}var xo=class n{constructor(t){this.modalActive=t}accion="add";rolDetail;isModal=!0;idinstitution="";uid="";rol_idrol="";showOption=!0;onSave=new He(!1);eventChange=new H;rolDetailService=g(gi);authService=g(A);subscriptions=[];ngOnInit(){return x(this,null,function*(){this.idinstitution===""&&(this.idinstitution=this.authService.institucionData?.idinstitucion+""),this.uid===""&&(this.uid=this.authService.userData.id+"");let t=this.onSave.subscribe(e=>{e&&this.save()});this.subscriptions.push(t),this.accion=="update"&&this.form.patchValue({codigo:this.rolDetail?.codigo_opcion,denominacion:this.rolDetail?.denominacion_opcion,nivel:this.rolDetail?.nivel_opcion+""})})}ngAfterViewInit(){setTimeout(()=>{document.getElementById("codigo")?.focus()},150)}form=new xe({denominacion:new F("",{validators:[N.required],nonNullable:!0}),codigo:new F("",{validators:[N.required],nonNullable:!0}),nivel:new F("1",{validators:[N.required],nonNullable:!0})});get denominacionControl(){return this.form.get("denominacion")}get codigoControl(){return this.form.get("codigo")}get nivelControl(){return this.form.get("nivel")}close(){this.isModal?this.modalActive.dismiss():this.eventChange.emit({event:"close",data:void 0})}submit=!1;loading=!1;save(){return x(this,null,function*(){if(this.submit=!0,!this.form.valid)return;this.submit=!1;let t=this.form.value;if(this.accion=="add"){let e={codigo_opcion:t.codigo,denominacion_opcion:t.denominacion,nivel_opcion:parseInt(t.nivel),orden_opcion:0,rol_idrol:+this.rol_idrol,createBy:this.uid};try{this.loading=!0;let i=yield this.rolDetailService.add(e);this.loading=!1,i.state=="success"&&(this.isModal?this.modalActive.close(i.data):this.eventChange.emit({event:"add",data:i.data}))}catch(i){console.log(i.message)}}else if(this.accion=="update"){let e={iddetalle_rol:this.rolDetail?.iddetalle_rol,codigo_opcion:t.codigo,denominacion_opcion:t.denominacion,nivel_opcion:parseInt(t.nivel),orden_opcion:this.rolDetail?.orden_opcion};try{this.loading=!0;let i=yield this.rolDetailService.update(e);this.loading=!1,i.state=="success"&&(this.isModal?this.modalActive.close(e):this.eventChange.emit({event:"update",data:e}))}catch(i){console.log(i.message)}}})}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}static \u0275fac=function(e){return new(e||n)(ee(ae,8))};static \u0275cmp=z({type:n,selectors:[["app-ui-rol-detail-form"]],inputs:{accion:"accion",rolDetail:"rolDetail",isModal:"isModal",idinstitution:"idinstitution",uid:"uid",rol_idrol:"rol_idrol",showOption:"showOption",onSave:"onSave"},outputs:{eventChange:"eventChange"},decls:30,vars:21,consts:[[1,"modal-header"],[1,"",3,"ngClass"],[1,"form-horizontal","form-label-left",3,"submit","formGroup"],[1,"row"],[1,"col-md-12"],[1,"form-group","row",3,"ngClass"],["for","codigo",1,"control-label","col-12","col-md-4"],[1,"col-12","col-md-8"],["autocomplete","off","type","text","name","codigo","id","codigo","formControlName","codigo",1,"form-control"],[1,"left",3,"control","show"],["for","denominacion",1,"control-label","col-12","col-md-4"],["type","text","name","denominacion","id","denominacion","formControlName","denominacion",1,"form-control"],["for","nivel",1,"control-label","col-12","col-md-4"],["name","nivel","id","nivel","formControlName","nivel",1,"form-select"],["value",""],["value","1"],["value","2"],[1,"modal-footer"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["type","button",1,"btn","btn-outline-secondary","btn-lg-medio","mr-3",3,"click"],["type","button",1,"btn","btn-primary","btn-lg-medio",3,"click"]],template:function(e,i){e&1&&(_(0,Y2,4,0,"div",0),r(1,"div",1)(2,"form",2),f("submit",function(){return i.save()}),r(3,"div",3)(4,"div",4)(5,"div",5)(6,"label",6),c(7,"C\xF3digo "),o(),r(8,"div",7),p(9,"input",8)(10,"app-control-messages",9),o()(),r(11,"div",5)(12,"label",10),c(13,"Denominaci\xF3n "),o(),r(14,"div",7),p(15,"input",11)(16,"app-control-messages",9),o()(),r(17,"div",5)(18,"label",12),c(19,"Nivel "),o(),r(20,"div",7)(21,"select",13)(22,"option",14),c(23,"Seleccione"),o(),r(24,"option",15),c(25,"Nivel 1"),o(),r(26,"option",16),c(27,"Nivel 2"),o()(),p(28,"app-control-messages",9),o()()()()()(),_(29,R2,5,0,"div",17)),e&2&&(C(i.isModal?0:-1),l(),d("ngClass",y(13,L2,i.isModal)),l(),d("formGroup",i.form),l(3),d("ngClass",y(15,F1,(i.submit||(i.codigoControl==null?null:i.codigoControl.touched))&&(i.codigoControl==null?null:i.codigoControl.invalid))),l(5),d("control",i.codigoControl)("show",i.submit),l(),d("ngClass",y(17,F1,(i.submit||(i.denominacionControl==null?null:i.denominacionControl.touched))&&(i.denominacionControl==null?null:i.denominacionControl.invalid))),l(5),d("control",i.denominacionControl)("show",i.submit),l(),d("ngClass",y(19,F1,(i.submit||(i.nivelControl==null?null:i.nivelControl.touched))&&(i.nivelControl==null?null:i.nivelControl.invalid))),l(11),d("control",i.nivelControl)("show",i.submit),l(),C(i.showOption?29:-1))},dependencies:[Pe,U,ye,we,Ge,Ke,qe,We,de,ze,Ee,Te],encapsulation:2})};var N2=n=>({active:n}),B2=(n,t)=>({item:n,indice:t});function j2(n,t){if(n&1){let e=S();r(0,"button",18),f("click",function(){h(e);let a=u(2);return v(a.prev())}),p(1,"i",19),o()}}function $2(n,t){if(n&1){let e=S();r(0,"button",18),f("click",function(){h(e);let a=u(2);return v(a.next())}),p(1,"i",20),o()}}function q2(n,t){if(n&1&&(_(0,j2,2,0,"button",17),_(1,$2,2,0,"button",17)),n&2){let e=u();C(e.selected.nivel_opcion==2?0:-1),l(),C(e.selected.nivel_opcion==1?1:-1)}}function W2(n,t){if(n&1){let e=S();r(0,"button",21),f("click",function(){h(e);let a=u();return v(a.saveOrder())}),c(1,"Guardar orden"),o()}}function G2(n,t){if(n&1){let e=S();r(0,"tr",22,2),f("elementEvents",function(a){let s=h(e).$implicit,m=u();return v(m.select(s,a))}),r(2,"td",23),c(3),o(),r(4,"td",24)(5,"div",25),p(6,"div",26),c(7),o()(),r(8,"td")(9,"div",25),p(10,"div",26),c(11),o()(),r(12,"td",23)(13,"button",27),f("click",function(a){let s=h(e).$implicit,m=G(1);return u().select(s),v(m.open(a))}),p(14,"i",28),o()()()}if(n&2){let e=t.$implicit,i=t.$index,a=u(),s=G(24);Ce(he("nivel",e.nivel_opcion)),d("ngClass",y(10,N2,e.iddetalle_rol>0&&e.iddetalle_rol==a.selected.iddetalle_rol))("contextMenu",s)("contextMenu",s)("contextMenuValue",be(12,B2,e,i)),l(3),b(e.orden_opcion),l(4),O(" ",e.codigo_opcion," "),l(4),O(" ",e.denominacion_opcion," ")}}function K2(n,t){n&1&&(r(0,"div",29)(1,"div",30),p(2,"i",31),o(),r(3,"div",32),c(4,"Ver detalles"),o(),p(5,"div",33),o())}function X2(n,t){n&1&&(r(0,"div",29)(1,"div",30),p(2,"i",34),o(),r(3,"div",32),c(4,"Adicionar"),o(),r(5,"div",33),c(6,"F1"),o()())}function Q2(n,t){n&1&&(r(0,"div",29)(1,"div",30),p(2,"i",35),o(),r(3,"div",32),c(4,"Editar"),o(),p(5,"div",33),o())}function Z2(n,t){n&1&&(r(0,"div",29)(1,"div",30),p(2,"i",36),o(),r(3,"div",32),c(4,"Eliminar"),o(),p(5,"div",33),o())}function J2(n,t){}function ec(n,t){n&1&&(r(0,"div",29)(1,"div",30),p(2,"img",37),o(),r(3,"div",32),c(4,"Exportar"),o(),p(5,"div",33),o())}function tc(n,t){}function ic(n,t){n&1&&(r(0,"div",29)(1,"div",30),p(2,"i",38),o(),r(3,"div",32),c(4,"Actualizar lista"),o(),p(5,"div",33),o())}function nc(n,t){n&1&&(r(0,"div",29)(1,"div",30),p(2,"img",39),o(),r(3,"div",32),c(4,"En formato PDF"),o(),p(5,"div",33),o())}function oc(n,t){n&1&&(r(0,"div",29)(1,"div",30),p(2,"img",40),o(),r(3,"div",32),c(4,"En formato Excel"),o(),p(5,"div",33),o())}function ac(n,t){n&1&&p(0,"app-loading")}var bo=class n{rol_idrol="";roles=[];mode="table";size="lg";eventChange=new H;sistema="";rolDetailService=g(gi);confirmationService=g(X);modalService=g(Ie);moduleDetailService=g(nn);authService=g(A);filter={texto:"",rol_idrol:""};details=[];loading=!1;applications=[];ngOnInit(){this.filter.rol_idrol=this.rol_idrol,this.getData()}getData(){return x(this,null,function*(){yield this.list(),yield this.listModule()})}listModule(){return x(this,null,function*(){this.loading=!0;let t=yield this.moduleDetailService.list({idinstitucion:this.authService.userData.idinstitucion+"",rol_id:this.rol_idrol,state:"1"});this.loading=!1,t&&t.state=="success"&&(t.data??[]).forEach(i=>{this.details.push({iddetalle_rol:0,rol_idrol:+this.rol_idrol,codigo_opcion:i.code,createBy:"",denominacion_opcion:i.denomination,nivel_opcion:i.level,orden_opcion:0})})})}list(){return x(this,null,function*(){this.loading=!0;let t=yield this.rolDetailService.list(this.filter);this.loading=!1,t&&t.state=="success"&&(this.details=t.list)})}add(){this.openForm()}update(t){this.openForm("update",t)}openForm(t="add",e){return x(this,null,function*(){try{let i=yield this.modalService.open(xo,{backdrop:"static",keyboard:!1,size:"lg"});i.componentInstance.accion=t,i.componentInstance.rol_idrol=this.rol_idrol,t=="update"&&(i.componentInstance.rolDetail=JSON.parse(JSON.stringify(e)));let a=yield i.result;if(t=="add")this.details.unshift(a);else if(t=="update"){if(!e)return;Object.assign(e,a)}}catch{}})}remove(t,e=-1){return x(this,null,function*(){if(!(yield this.confirmationService.create("Eliminar","\xBFEst\xE1 seguro de eliminar el registro?")))return;this.loading=!0;let a=yield this.rolDetailService.delete(t);this.loading=!1,a.state=="success"&&(this.details.splice(e,1),this.selected={})})}openDetail(t){return x(this,null,function*(){try{let e=yield this.modalService.open(Co,{backdrop:"static",keyboard:!1,size:"lg"});e.componentInstance.item=t;let i=yield e.result}catch{}})}searchChange(){this.list()}stateFilterChange(){this.list()}selected={};select(t,e="click"){this.selected=t,e=="dblclick"&&this.openDetail(t)}canAdd=()=>this.rolDetailService.canAdd;canEdit=t=>(console.log("$event"),console.log(t),this.rolDetailService.canEdit&&t.item.iddetalle_rol>0);canRemove=t=>(console.log("$event"),console.log(t),this.rolDetailService.canRemove&&t.item.iddetalle_rol>0);canChangeState=t=>(console.log("$event"),console.log(t),this.rolDetailService.canChangeState&&t.item.iddetalle_rol>0);canExport=()=>this.rolDetailService.canExport;canExportExcel=()=>this.rolDetailService.canExportExcel;canExportPdf=()=>this.rolDetailService.canExportPdf;export(t="pdf"){return x(this,null,function*(){yield this.rolDetailService.export(this.filter,t)})}clear(){return x(this,null,function*(){(yield this.rolDetailService.clear(+this.rol_idrol))?.state=="success"&&(this.details=[],this.selected={})})}copy(){return x(this,null,function*(){(yield this.rolDetailService.copy(+this.rol_idrol,this.sistema))?.state=="success"&&(this.list(),this.selected={})})}changeList(t){if(this.details.forEach((e,i)=>{e.order_new=i+1}),this.detectSaveOrder(),this.mode!="table"){let e=this.mode;this.mode="table",setTimeout(()=>{this.mode=e})}}changes=[];detectSaveOrder(){this.changes=[],this.details.filter(t=>t.iddetalle_rol>0).forEach((t,e)=>{typeof t.order_new<"u"&&t.order_new!=t.orden_opcion&&this.changes.push({iddetalle_rol:t.iddetalle_rol,orden_opcion:t.order_new,rol_idrol:t.rol_idrol})}),console.log("this.changes"),console.log(this.changes)}saveOrder(){return x(this,null,function*(){if(!(yield this.confirmationService.create("Guardar Orden","\xBFEst\xE1 seguro de guardar el orden?")))return;this.loading=!0,(yield this.rolDetailService.saveOrder(this.changes)).state=="success"&&(this.details.forEach((i,a)=>{i.orden_opcion=i.order_new??i.orden_opcion}),this.changes=[]),this.loading=!1})}saveOrder2(){return x(this,null,function*(){})}prev(){this.selected.nivel_opcion--}next(){this.selected.nivel_opcion++}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=z({type:n,selectors:[["app-ui-rol-detail-list"]],inputs:{rol_idrol:"rol_idrol",roles:"roles",mode:"mode",size:"size",sistema:"sistema"},outputs:{eventChange:"eventChange"},decls:38,vars:20,consts:[["menu",""],["SubMenu",""],["ngxContextMenu","ngxContextMenu"],[1,"d-flex","aligns-item-center","justify-content-center","p-1","gap-1","b-b"],["type","button",1,"btn","btn-danger","btn-md-medio",3,"click"],["type","button",1,"btn","btn-warning","btn-md-medio","ml-1",3,"click"],["type","button",1,"btn","btn-primary","btn-md-custom"],[3,"searchChange","onAdd","onExport","onSearch","reload","modeChange","search","canExport","canExportExcel","canExportPdf","canNew","mode","size"],[1,"table","table-sm","table-box","table-fixed"],[2,"width","50px"],[2,"width","25px"],["sortablejs","",3,"onUpdate","items"],[3,"class","ngClass","contextMenu","contextMenuValue"],["contextMenuItem","",3,"execute"],["contextMenuItem","",3,"execute","visible"],["contextMenuItem","",3,"divider"],["contextMenuItem","",3,"visible","subMenu"],["type","button",1,"btn","btn-outline-primary","btn-md-medio","ml-1"],["type","button",1,"btn","btn-outline-primary","btn-md-medio","ml-1",3,"click"],[1,"icons","ion-md-arrow-back"],[1,"icons","ion-md-arrow-forward"],["type","button",1,"btn","btn-primary","btn-md-custom",3,"click"],[3,"elementEvents","ngClass","contextMenu","contextMenuValue"],[1,"text-center"],["nowrap",""],[1,"d-flex"],[1,"nivel"],[1,"btn","btn-more","btn-more-sm",3,"click"],[1,"ion-md-more"],[1,"_items"],[1,"icons"],[1,"icons","icon","ion-md-list-box"],[1,"label","w-100"],[1,"atajo"],[1,"icons","icon","ion-md-add"],[1,"icons","icon","ion-md-create"],[1,"icons","icon","ion-md-trash"],["src","https://cdn-icons-png.flaticon.com/512/5414/5414637.png","alt",""],[1,"icons","icon","ion-md-refresh"],["src","assets/img/icons/pdf.png","alt",""],["src","assets/img/icons/excel.png","alt",""]],template:function(e,i){if(e&1){let a=S();r(0,"header",3)(1,"button",4),f("click",function(){return h(a),v(i.clear())}),c(2,"Borrar"),o(),r(3,"button",5),f("click",function(){return h(a),v(i.copy())}),c(4,"Copiar de"),o(),_(5,q2,2,2),_(6,W2,2,0,"button",6),o(),r(7,"app-ui-header-management",7),le("searchChange",function(m){return h(a),Q(i.filter.texto,m)||(i.filter.texto=m),v(m)}),f("onAdd",function(){return h(a),v(i.add())})("onExport",function(m){return h(a),v(i.export(m))})("onSearch",function(){return h(a),v(i.searchChange())})("reload",function(){return h(a),v(i.getData())}),le("modeChange",function(m){return h(a),Q(i.mode,m)||(i.mode=m),v(m)}),o(),r(8,"div")(9,"table",8)(10,"thead")(11,"tr")(12,"th",9),c(13,"#"),o(),r(14,"th",9),c(15,"C\xF3digo"),o(),r(16,"th"),c(17,"Denominaci\xF3n"),o(),r(18,"th",10),c(19,"..."),o()()(),r(20,"tbody",11),f("onUpdate",function(m){return h(a),v(i.changeList(m))}),L(21,G2,15,15,"tr",12,J),o()()(),r(23,"context-menu",null,0),E(25,K2,6,0,"ng-template",13),f("execute",function(m){return h(a),v(i.openDetail(m.value.item))}),E(26,X2,7,0,"ng-template",14),f("execute",function(){return h(a),v(i.add())}),E(27,Q2,6,0,"ng-template",14),f("execute",function(m){return h(a),v(i.update(m.value.item))}),E(28,Z2,6,0,"ng-template",14),f("execute",function(m){return h(a),v(i.remove(m.value.item,m.value.indice))}),E(29,J2,0,0,"ng-template",15)(30,ec,6,0,"ng-template",16)(31,tc,0,0,"ng-template",15)(32,ic,6,0,"ng-template",13),f("execute",function(){return h(a),v(i.getData())}),o(),r(33,"context-menu",null,1),E(35,nc,6,0,"ng-template",14),f("execute",function(){return h(a),v(i.export())}),E(36,oc,6,0,"ng-template",14),f("execute",function(){return h(a),v(i.export("excel"))}),o(),_(37,ac,1,0,"app-loading")}if(e&2){let a=G(34);l(5),C(i.selected.iddetalle_rol!=0?5:-1),l(),C(i.changes.length>0?6:-1),l(),oe("search",i.filter.texto),d("canExport",i.rolDetailService.canExport)("canExportExcel",i.rolDetailService.canExportExcel)("canExportPdf",i.rolDetailService.canExportPdf)("canNew",i.rolDetailService.canAdd),oe("mode",i.mode),d("size",i.size),l(13),d("items",i.details),l(),Y(i.details),l(5),d("visible",i.canAdd),l(),d("visible",i.canEdit),l(),d("visible",i.canRemove),l(),d("divider",!0),l(),d("visible",i.canExport)("subMenu",a),l(),d("divider",!0),l(4),d("visible",i.canExportPdf),l(),d("visible",i.canExportExcel),l(),C(i.loading?37:-1)}},dependencies:[ie,ut,pt,mt,dt,Xt,U,Se,Je,mo,wt,ht],styles:["tr.nivel1[_ngcontent-%COMP%]{color:#3f51b5;font-weight:700}tr.nivel2[_ngcontent-%COMP%]   .nivel[_ngcontent-%COMP%]{width:30px}"]})};var ei=class n{API=`${K.suite_management}/rol-module`;apiService=g(fe);loadingService=g(Oe);confirmationService=g(X);auth=g(A);toastrService=g(ce);canAdd=!1;canEdit=!1;canRemove=!1;canChangeState=!1;canExport=!1;canExportExcel=!1;canExportPdf=!1;constructor(){this.canAdd=this.auth.hasSubPermission("rol-module-ADD"),this.canEdit=this.auth.hasSubPermission("rol-module-EDIT"),this.canRemove=this.auth.hasSubPermission("rol-module-REMOVE"),this.canChangeState=this.auth.hasSubPermission("rol-module-CHANGE-STATE"),this.canExport=this.auth.hasPermission("rol-module-EXPORT"),this.canExportExcel=this.auth.hasSubPermission("rol-module-EXPORT-EXCEL"),this.canExportPdf=this.auth.hasSubPermission("rol-module-EXPORT-PDF")}list(t){return x(this,null,function*(){return yield this.apiService.getPrivate(`${this.API}/list`,t)})}add(t){return x(this,null,function*(){let e=yield this.apiService.postPrivate(`${this.API}/create`,t);return e.state=="success"&&e.data&&this.toastrService.success(e.message),e})}data(t){return x(this,null,function*(){return yield this.apiService.getPrivate(`${this.API}/data/${t.id}`,t)})}update(t){return x(this,null,function*(){let e=yield this.apiService.putPrivate(`${this.API}/update/${t.id}`,t);return e.state=="success"&&this.toastrService.success(e.message),e})}patch(t){return x(this,null,function*(){let e=yield this.apiService.putPrivate(`${this.API}/update/${t.id}`,t);return e.state=="success"&&this.toastrService.success(e.message),e})}delete(t){return x(this,null,function*(){let e=yield this.apiService.deletePrivate(`${this.API}/delete/${t.id}`,t);return e.state=="success"&&this.toastrService.success(e.message),e})}export(t,e,i=!0){return x(this,null,function*(){if(i&&!(yield this.confirmationService.create("Confirmar","\xBFEst\xE1 seguro de exportar los datos?")))return;this.loadingService.open();let a=ve(re({},t),{type_export:e,url:K.storage_view,institution:this.auth.getInstitution()}),s=yield this.apiService.getPrivate(`${this.API}/export`,a);return this.loadingService.hide(),s&&s.state=="success"&&window.open(s.url),s})}saveOrder(t){return x(this,null,function*(){let e=yield this.apiService.postPrivate(`${this.API}/order/list`,t);return e.state=="success"&&this.toastrService.success(e.message),e})}static \u0275fac=function(e){return new(e||n)};static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})};var rc=n=>({active:n});function lc(n,t){if(n&1&&(r(0,"table",0)(1,"thead")(2,"tr"),p(3,"th",2)(4,"th"),o()(),r(5,"tbody")(6,"tr")(7,"td",3)(8,"b"),c(9," Fecha de registro "),o()(),r(10,"td"),c(11),je(12,"date"),o()()()()),n&2){let e=u();l(11),b($e(12,1,e.item.createAt,"dd/MM/yyyy HH:mm:ss"))}}function cc(n,t){if(n&1){let e=S();r(0,"div")(1,"button",5),f("click",function(a){h(e);let s=u(2);return v(s.openMenuEmit(a))}),p(2,"i",6),o()()}}function sc(n,t){if(n&1&&(r(0,"div",1)(1,"div")(2,"div",4),c(3),o(),r(4,"div",4),c(5),o(),r(6,"div"),c(7),je(8,"date"),o(),r(9,"div",4),c(10),o(),r(11,"div",4),c(12),o(),r(13,"div",4),c(14),o()(),_(15,cc,3,0,"div"),o()),n&2){let e=u();d("ngClass",y(11,rc,e.isActived)),l(3),b(e.item.id),l(2),b(e.item.createBy),l(2),b($e(8,8,e.item.createAt,"dd/MM/yyyy HH:mm:ss")),l(3),b(e.item.orderList),l(2),b(e.item.module_id),l(2),b(e.item.rol_id),l(),C(e.showOption?15:-1)}}var on=class n{item={};isActived=!1;card="box";showOption=!1;openMenu=new H;modeData="";rolModuleService=g(ei);openMenuEmit(t){this.openMenu.emit(t)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=z({type:n,selectors:[["app-ui-rol-module-card"]],inputs:{item:"item",isActived:"isActived",card:"card",showOption:"showOption",modeData:"modeData"},outputs:{openMenu:"openMenu"},decls:2,vars:1,consts:[[1,"table","table-datos","box-main"],[1,"items","box-main",3,"ngClass"],[2,"width","100px"],["nowrap",""],[1,"text-truncate"],["type","button",1,"btn","btn-more",3,"click"],[1,"icon","ion-md-more"]],template:function(e,i){e&1&&_(0,lc,13,4,"table",0)(1,sc,16,13,"div",1),e&2&&C(i.card=="table"?0:1)},dependencies:[U,Ne],encapsulation:2})};var dc=n=>({"modal-body":n});function mc(n,t){if(n&1){let e=S();r(0,"div",0)(1,"h4",3),c(2,"DATOS DE ROL"),o(),r(3,"button",4),f("click",function(){h(e);let a=u();return v(a.close())}),o()()}}var So=class n{constructor(t){this.activeModal=t}isModal=!0;item={};eventChange=new H;rolModuleService=g(ei);close(){this.isModal?this.activeModal.close():this.eventChange.emit({event:"close",data:this.item})}static \u0275fac=function(e){return new(e||n)(ee(ae,8))};static \u0275cmp=z({type:n,selectors:[["app-ui-rol-module-detail"]],inputs:{isModal:"isModal",item:"item"},outputs:{eventChange:"eventChange"},decls:3,vars:5,consts:[[1,"modal-header"],[1,"",3,"ngClass"],["card","table",3,"item"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"]],template:function(e,i){e&1&&(_(0,mc,4,0,"div",0),r(1,"div",1),p(2,"app-ui-rol-module-card",2),o()),e&2&&(C(i.isModal?0:-1),l(),d("ngClass",y(3,dc,i.isModal)),l(),d("item",i.item))},dependencies:[U,on],encapsulation:2})};var an=class n{API=`${K.suite_management}/module`;apiService=g(fe);loadingService=g(Oe);confirmationService=g(X);auth=g(A);toastrService=g(ce);states=[{code:"1",denomination:"Activo"},{code:"0",denomination:"Inactivo"}];stateMap=this.states.reduce((t,e)=>(t[e.code]=e.denomination,t),{});canAdd=!1;canEdit=!1;canRemove=!1;canChangeState=!1;canExport=!1;canExportExcel=!1;canExportPdf=!1;constructor(){this.canAdd=this.auth.hasSubPermission("module-ADD"),this.canEdit=this.auth.hasSubPermission("module-EDIT"),this.canRemove=this.auth.hasSubPermission("module-REMOVE"),this.canChangeState=this.auth.hasSubPermission("module-CHANGE-STATE"),this.canExport=this.auth.hasPermission("module-EXPORT"),this.canExportExcel=this.auth.hasSubPermission("module-EXPORT-EXCEL"),this.canExportPdf=this.auth.hasSubPermission("module-EXPORT-PDF")}list(t){return x(this,null,function*(){return yield this.apiService.getPrivate(`${this.API}/list`,t)})}add(t){return x(this,null,function*(){let e=yield this.apiService.postPrivate(`${this.API}/create`,t);return e.state=="success"&&e.data&&this.toastrService.success(e.message),e})}data(t){return x(this,null,function*(){return yield this.apiService.getPrivate(`${this.API}/data/${t.id}`,t)})}update(t){return x(this,null,function*(){let e=yield this.apiService.putPrivate(`${this.API}/update/${t.id}`,t);return e.state=="success"&&this.toastrService.success(e.message),e})}patch(t){return x(this,null,function*(){let e=yield this.apiService.putPrivate(`${this.API}/update/${t.id}`,t);return e.state=="success"&&this.toastrService.success(e.message),e})}changeStateMessage(t){let e=this.stateMap[t],i="";switch(t){case"1":i="text-success";break;case"0":i="text-danger";break}return{message:`
            <div class="text-center">
                <div class="mb-3">\xBFEst\xE1 seguro de cambiar el estado del registro?</div>
                <h3 >Nuevo estado: <b class="${i}">${e}</b></h3>
            </div>
        `,denomination:e}}changeStateSave(t){return x(this,null,function*(){return yield this.apiService.putPrivate(`${this.API}/state/change/${t.id}`,t)})}changeState(t){return x(this,null,function*(){let{message:e}=this.changeStateMessage(t.state);if(!(yield this.confirmationService.create("Confirmar",e)))return;this.loadingService.open();let a=yield this.changeStateSave(t);return this.loadingService.hide(),a})}delete(t){return x(this,null,function*(){let e=yield this.apiService.deletePrivate(`${this.API}/delete/${t.id}`,t);return e.state=="success"&&this.toastrService.success(e.message),e})}export(t,e,i=!0){return x(this,null,function*(){if(i&&!(yield this.confirmationService.create("Confirmar","\xBFEst\xE1 seguro de exportar los datos?")))return;this.loadingService.open();let a=ve(re({},t),{type_export:e,url:K.storage_view,institution:this.auth.getInstitution()}),s=yield this.apiService.getPrivate(`${this.API}/export`,a);return this.loadingService.hide(),s&&s.state=="success"&&window.open(s.url),s})}saveOrder(t){return x(this,null,function*(){let e=yield this.apiService.postPrivate(`${this.API}/order/list`,t);return e.state=="success"&&this.toastrService.success(e.message),e})}static \u0275fac=function(e){return new(e||n)};static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})};var it={top:new Le({originX:"center",originY:"top"},{overlayX:"center",overlayY:"bottom"}),topCenter:new Le({originX:"center",originY:"top"},{overlayX:"center",overlayY:"bottom"}),topLeft:new Le({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"}),topRight:new Le({originX:"end",originY:"top"},{overlayX:"end",overlayY:"bottom"}),right:new Le({originX:"end",originY:"center"},{overlayX:"start",overlayY:"center"}),rightTop:new Le({originX:"end",originY:"top"},{overlayX:"start",overlayY:"top"}),rightBottom:new Le({originX:"end",originY:"bottom"},{overlayX:"start",overlayY:"bottom"}),bottom:new Le({originX:"center",originY:"bottom"},{overlayX:"center",overlayY:"top"}),bottomCenter:new Le({originX:"center",originY:"bottom"},{overlayX:"center",overlayY:"top"}),bottomLeft:new Le({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"}),bottomRight:new Le({originX:"end",originY:"bottom"},{overlayX:"end",overlayY:"top"}),left:new Le({originX:"start",originY:"center"},{overlayX:"end",overlayY:"center"}),leftTop:new Le({originX:"start",originY:"top"},{overlayX:"end",overlayY:"top"}),leftBottom:new Le({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"bottom"})},pc=(n=12)=>({top:[0,-n],topCenter:[0,-n],topLeft:[0,-n],topRight:[0,-n],right:[n,0],rightTop:[n,0],rightBottom:[n,0],bottom:[0,n],bottomCenter:[0,n],bottomLeft:[0,n],bottomRight:[0,n],left:[-n,0],leftTop:[-n,0],leftBottom:[-n,0]}),yo=pc(),b_=[zo(it.top,yo.top),zo(it.right,yo.right),zo(it.bottom,yo.bottom),zo(it.left,yo.left)],S_=[it.bottomLeft,it.bottomRight,it.topLeft,it.topRight],y_=[new Le({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"bottom"}),new Le({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"bottom"})],M_=[it.bottomLeft,new Le({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"top"})];function A1(n){for(let t in it)if(n.connectionPair.originX===it[t].originX&&n.connectionPair.originY===it[t].originY&&n.connectionPair.overlayX===it[t].overlayX&&n.connectionPair.overlayY===it[t].overlayY)return t}var Mo={bottomLeft:new Le({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"},void 0,2),topLeft:new Le({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"},void 0,-2),bottomRight:new Le({originX:"end",originY:"bottom"},{overlayX:"end",overlayY:"top"},void 0,2),topRight:new Le({originX:"end",originY:"top"},{overlayX:"end",overlayY:"bottom"},void 0,-2)},z_=[Mo.bottomLeft,Mo.topLeft,Mo.bottomRight,Mo.topRight];function uc(n){return Array.isArray(n)?n:[n,n]}function zo(n,t){let[e,i]=uc(t);return ve(re({},n),{offsetX:e,offsetY:i})}var Lr=(()=>{class n{cdkConnectedOverlay=g(zn);nzArrowPointAtCenter=!1;constructor(){this.cdkConnectedOverlay.backdropClass="nz-overlay-transparent-backdrop",this.cdkConnectedOverlay.positionChange.pipe(De()).subscribe(e=>{this.nzArrowPointAtCenter&&this.updateArrowPosition(e)})}updateArrowPosition(e){let i=this.getOriginRect(),a=A1(e),s=0,m=0;a==="topLeft"||a==="bottomLeft"?s=i.width/2-14:a==="topRight"||a==="bottomRight"?s=-(i.width/2-14):a==="leftTop"||a==="rightTop"?m=i.height/2-10:(a==="leftBottom"||a==="rightBottom")&&(m=-(i.height/2-10)),(this.cdkConnectedOverlay.offsetX!==s||this.cdkConnectedOverlay.offsetY!==m)&&(this.cdkConnectedOverlay.offsetY=m,this.cdkConnectedOverlay.offsetX=s,this.cdkConnectedOverlay.overlayRef.updatePosition())}getFlexibleConnectedPositionStrategyOrigin(){return this.cdkConnectedOverlay.origin instanceof Mn?this.cdkConnectedOverlay.origin.elementRef:this.cdkConnectedOverlay.origin}getOriginRect(){let e=this.getFlexibleConnectedPositionStrategyOrigin();if(e instanceof Ue)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let i=e.width||0,a=e.height||0;return{top:e.y,bottom:e.y+a,left:e.x,right:e.x+i,height:a,width:i}}static \u0275fac=function(i){return new(i||n)};static \u0275dir=rt({type:n,selectors:[["","cdkConnectedOverlay","","nzConnectedOverlay",""]],inputs:{nzArrowPointAtCenter:[2,"nzArrowPointAtCenter","nzArrowPointAtCenter",ge]},exportAs:["nzConnectedOverlay"]})}return n})(),U1=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=_t({type:n});static \u0275inj=ft({})}return n})();function Qe(n,t){vc(n)&&(n="100%");var e=gc(n);return n=t===360?n:Math.min(t,Math.max(0,parseFloat(n))),e&&(n=parseInt(String(n*t),10)/100),Math.abs(n-t)<1e-6?1:(t===360?n=(n<0?n%t+t:n%t)/parseFloat(String(t)):n=n%t/parseFloat(String(t)),n)}function wn(n){return Math.min(1,Math.max(0,n))}function vc(n){return typeof n=="string"&&n.indexOf(".")!==-1&&parseFloat(n)===1}function gc(n){return typeof n=="string"&&n.indexOf("%")!==-1}function wo(n){return n=parseFloat(n),(isNaN(n)||n<0||n>1)&&(n=1),n}function En(n){return n<=1?"".concat(Number(n)*100,"%"):n}function fi(n){return n.length===1?"0"+n:String(n)}function Yr(n,t,e){return{r:Qe(n,255)*255,g:Qe(t,255)*255,b:Qe(e,255)*255}}function Y1(n,t,e){n=Qe(n,255),t=Qe(t,255),e=Qe(e,255);var i=Math.max(n,t,e),a=Math.min(n,t,e),s=0,m=0,M=(i+a)/2;if(i===a)m=0,s=0;else{var P=i-a;switch(m=M>.5?P/(2-i-a):P/(i+a),i){case n:s=(t-e)/P+(t<e?6:0);break;case t:s=(e-n)/P+2;break;case e:s=(n-t)/P+4;break;default:break}s/=6}return{h:s,s:m,l:M}}function L1(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*(6*e):e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function Rr(n,t,e){var i,a,s;if(n=Qe(n,360),t=Qe(t,100),e=Qe(e,100),t===0)a=e,s=e,i=e;else{var m=e<.5?e*(1+t):e+t-e*t,M=2*e-m;i=L1(M,m,n+1/3),a=L1(M,m,n),s=L1(M,m,n-1/3)}return{r:i*255,g:a*255,b:s*255}}function Tn(n,t,e){n=Qe(n,255),t=Qe(t,255),e=Qe(e,255);var i=Math.max(n,t,e),a=Math.min(n,t,e),s=0,m=i,M=i-a,P=i===0?0:M/i;if(i===a)s=0;else{switch(i){case n:s=(t-e)/M+(t<e?6:0);break;case t:s=(e-n)/M+2;break;case e:s=(n-t)/M+4;break;default:break}s/=6}return{h:s,s:P,v:m}}function Nr(n,t,e){n=Qe(n,360)*6,t=Qe(t,100),e=Qe(e,100);var i=Math.floor(n),a=n-i,s=e*(1-t),m=e*(1-a*t),M=e*(1-(1-a)*t),P=i%6,V=[e,m,s,s,M,e][P],$=[M,e,e,m,s,s][P],se=[s,s,M,e,e,m][P];return{r:V*255,g:$*255,b:se*255}}function Pn(n,t,e,i){var a=[fi(Math.round(n).toString(16)),fi(Math.round(t).toString(16)),fi(Math.round(e).toString(16))];return i&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function Br(n,t,e,i,a){var s=[fi(Math.round(n).toString(16)),fi(Math.round(t).toString(16)),fi(Math.round(e).toString(16)),fi(fc(i))];return a&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))&&s[3].startsWith(s[3].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function fc(n){return Math.round(parseFloat(n)*255).toString(16)}function R1(n){return Tt(n)/255}function Tt(n){return parseInt(n,16)}function jr(n){return{r:n>>16,g:(n&65280)>>8,b:n&255}}var Vn={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Ci(n){var t={r:0,g:0,b:0},e=1,i=null,a=null,s=null,m=!1,M=!1;return typeof n=="string"&&(n=xc(n)),typeof n=="object"&&(li(n.r)&&li(n.g)&&li(n.b)?(t=Yr(n.r,n.g,n.b),m=!0,M=String(n.r).substr(-1)==="%"?"prgb":"rgb"):li(n.h)&&li(n.s)&&li(n.v)?(i=En(n.s),a=En(n.v),t=Nr(n.h,i,a),m=!0,M="hsv"):li(n.h)&&li(n.s)&&li(n.l)&&(i=En(n.s),s=En(n.l),t=Rr(n.h,i,s),m=!0,M="hsl"),Object.prototype.hasOwnProperty.call(n,"a")&&(e=n.a)),e=wo(e),{ok:m,format:n.format||M,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:e}}var _c="[-\\+]?\\d+%?",Cc="[-\\+]?\\d*\\.\\d+%?",_i="(?:".concat(Cc,")|(?:").concat(_c,")"),N1="[\\s|\\(]+(".concat(_i,")[,|\\s]+(").concat(_i,")[,|\\s]+(").concat(_i,")\\s*\\)?"),B1="[\\s|\\(]+(".concat(_i,")[,|\\s]+(").concat(_i,")[,|\\s]+(").concat(_i,")[,|\\s]+(").concat(_i,")\\s*\\)?"),$t={CSS_UNIT:new RegExp(_i),rgb:new RegExp("rgb"+N1),rgba:new RegExp("rgba"+B1),hsl:new RegExp("hsl"+N1),hsla:new RegExp("hsla"+B1),hsv:new RegExp("hsv"+N1),hsva:new RegExp("hsva"+B1),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function xc(n){if(n=n.trim().toLowerCase(),n.length===0)return!1;var t=!1;if(Vn[n])n=Vn[n],t=!0;else if(n==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var e=$t.rgb.exec(n);return e?{r:e[1],g:e[2],b:e[3]}:(e=$t.rgba.exec(n),e?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=$t.hsl.exec(n),e?{h:e[1],s:e[2],l:e[3]}:(e=$t.hsla.exec(n),e?{h:e[1],s:e[2],l:e[3],a:e[4]}:(e=$t.hsv.exec(n),e?{h:e[1],s:e[2],v:e[3]}:(e=$t.hsva.exec(n),e?{h:e[1],s:e[2],v:e[3],a:e[4]}:(e=$t.hex8.exec(n),e?{r:Tt(e[1]),g:Tt(e[2]),b:Tt(e[3]),a:R1(e[4]),format:t?"name":"hex8"}:(e=$t.hex6.exec(n),e?{r:Tt(e[1]),g:Tt(e[2]),b:Tt(e[3]),format:t?"name":"hex"}:(e=$t.hex4.exec(n),e?{r:Tt(e[1]+e[1]),g:Tt(e[2]+e[2]),b:Tt(e[3]+e[3]),a:R1(e[4]+e[4]),format:t?"name":"hex8"}:(e=$t.hex3.exec(n),e?{r:Tt(e[1]+e[1]),g:Tt(e[2]+e[2]),b:Tt(e[3]+e[3]),format:t?"name":"hex"}:!1)))))))))}function li(n){return!!$t.CSS_UNIT.exec(String(n))}var Eo=(function(){function n(t,e){t===void 0&&(t=""),e===void 0&&(e={});var i;if(t instanceof n)return t;typeof t=="number"&&(t=jr(t)),this.originalInput=t;var a=Ci(t);this.originalInput=t,this.r=a.r,this.g=a.g,this.b=a.b,this.a=a.a,this.roundA=Math.round(100*this.a)/100,this.format=(i=e.format)!==null&&i!==void 0?i:a.format,this.gradientType=e.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=a.ok}return n.prototype.isDark=function(){return this.getBrightness()<128},n.prototype.isLight=function(){return!this.isDark()},n.prototype.getBrightness=function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},n.prototype.getLuminance=function(){var t=this.toRgb(),e,i,a,s=t.r/255,m=t.g/255,M=t.b/255;return s<=.03928?e=s/12.92:e=Math.pow((s+.055)/1.055,2.4),m<=.03928?i=m/12.92:i=Math.pow((m+.055)/1.055,2.4),M<=.03928?a=M/12.92:a=Math.pow((M+.055)/1.055,2.4),.2126*e+.7152*i+.0722*a},n.prototype.getAlpha=function(){return this.a},n.prototype.setAlpha=function(t){return this.a=wo(t),this.roundA=Math.round(100*this.a)/100,this},n.prototype.isMonochrome=function(){var t=this.toHsl().s;return t===0},n.prototype.toHsv=function(){var t=Tn(this.r,this.g,this.b);return{h:t.h*360,s:t.s,v:t.v,a:this.a}},n.prototype.toHsvString=function(){var t=Tn(this.r,this.g,this.b),e=Math.round(t.h*360),i=Math.round(t.s*100),a=Math.round(t.v*100);return this.a===1?"hsv(".concat(e,", ").concat(i,"%, ").concat(a,"%)"):"hsva(".concat(e,", ").concat(i,"%, ").concat(a,"%, ").concat(this.roundA,")")},n.prototype.toHsl=function(){var t=Y1(this.r,this.g,this.b);return{h:t.h*360,s:t.s,l:t.l,a:this.a}},n.prototype.toHslString=function(){var t=Y1(this.r,this.g,this.b),e=Math.round(t.h*360),i=Math.round(t.s*100),a=Math.round(t.l*100);return this.a===1?"hsl(".concat(e,", ").concat(i,"%, ").concat(a,"%)"):"hsla(".concat(e,", ").concat(i,"%, ").concat(a,"%, ").concat(this.roundA,")")},n.prototype.toHex=function(t){return t===void 0&&(t=!1),Pn(this.r,this.g,this.b,t)},n.prototype.toHexString=function(t){return t===void 0&&(t=!1),"#"+this.toHex(t)},n.prototype.toHex8=function(t){return t===void 0&&(t=!1),Br(this.r,this.g,this.b,this.a,t)},n.prototype.toHex8String=function(t){return t===void 0&&(t=!1),"#"+this.toHex8(t)},n.prototype.toHexShortString=function(t){return t===void 0&&(t=!1),this.a===1?this.toHexString(t):this.toHex8String(t)},n.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},n.prototype.toRgbString=function(){var t=Math.round(this.r),e=Math.round(this.g),i=Math.round(this.b);return this.a===1?"rgb(".concat(t,", ").concat(e,", ").concat(i,")"):"rgba(".concat(t,", ").concat(e,", ").concat(i,", ").concat(this.roundA,")")},n.prototype.toPercentageRgb=function(){var t=function(e){return"".concat(Math.round(Qe(e,255)*100),"%")};return{r:t(this.r),g:t(this.g),b:t(this.b),a:this.a}},n.prototype.toPercentageRgbString=function(){var t=function(e){return Math.round(Qe(e,255)*100)};return this.a===1?"rgb(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%)"):"rgba(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%, ").concat(this.roundA,")")},n.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var t="#"+Pn(this.r,this.g,this.b,!1),e=0,i=Object.entries(Vn);e<i.length;e++){var a=i[e],s=a[0],m=a[1];if(t===m)return s}return!1},n.prototype.toString=function(t){var e=!!t;t=t??this.format;var i=!1,a=this.a<1&&this.a>=0,s=!e&&a&&(t.startsWith("hex")||t==="name");return s?t==="name"&&this.a===0?this.toName():this.toRgbString():(t==="rgb"&&(i=this.toRgbString()),t==="prgb"&&(i=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(i=this.toHexString()),t==="hex3"&&(i=this.toHexString(!0)),t==="hex4"&&(i=this.toHex8String(!0)),t==="hex8"&&(i=this.toHex8String()),t==="name"&&(i=this.toName()),t==="hsl"&&(i=this.toHslString()),t==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},n.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},n.prototype.clone=function(){return new n(this.toString())},n.prototype.lighten=function(t){t===void 0&&(t=10);var e=this.toHsl();return e.l+=t/100,e.l=wn(e.l),new n(e)},n.prototype.brighten=function(t){t===void 0&&(t=10);var e=this.toRgb();return e.r=Math.max(0,Math.min(255,e.r-Math.round(255*-(t/100)))),e.g=Math.max(0,Math.min(255,e.g-Math.round(255*-(t/100)))),e.b=Math.max(0,Math.min(255,e.b-Math.round(255*-(t/100)))),new n(e)},n.prototype.darken=function(t){t===void 0&&(t=10);var e=this.toHsl();return e.l-=t/100,e.l=wn(e.l),new n(e)},n.prototype.tint=function(t){return t===void 0&&(t=10),this.mix("white",t)},n.prototype.shade=function(t){return t===void 0&&(t=10),this.mix("black",t)},n.prototype.desaturate=function(t){t===void 0&&(t=10);var e=this.toHsl();return e.s-=t/100,e.s=wn(e.s),new n(e)},n.prototype.saturate=function(t){t===void 0&&(t=10);var e=this.toHsl();return e.s+=t/100,e.s=wn(e.s),new n(e)},n.prototype.greyscale=function(){return this.desaturate(100)},n.prototype.spin=function(t){var e=this.toHsl(),i=(e.h+t)%360;return e.h=i<0?360+i:i,new n(e)},n.prototype.mix=function(t,e){e===void 0&&(e=50);var i=this.toRgb(),a=new n(t).toRgb(),s=e/100,m={r:(a.r-i.r)*s+i.r,g:(a.g-i.g)*s+i.g,b:(a.b-i.b)*s+i.b,a:(a.a-i.a)*s+i.a};return new n(m)},n.prototype.analogous=function(t,e){t===void 0&&(t=6),e===void 0&&(e=30);var i=this.toHsl(),a=360/e,s=[this];for(i.h=(i.h-(a*t>>1)+720)%360;--t;)i.h=(i.h+a)%360,s.push(new n(i));return s},n.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new n(t)},n.prototype.monochromatic=function(t){t===void 0&&(t=6);for(var e=this.toHsv(),i=e.h,a=e.s,s=e.v,m=[],M=1/t;t--;)m.push(new n({h:i,s:a,v:s})),s=(s+M)%1;return m},n.prototype.splitcomplement=function(){var t=this.toHsl(),e=t.h;return[this,new n({h:(e+72)%360,s:t.s,l:t.l}),new n({h:(e+216)%360,s:t.s,l:t.l})]},n.prototype.onBackground=function(t){var e=this.toRgb(),i=new n(t).toRgb(),a=e.a+i.a*(1-e.a);return new n({r:(e.r*e.a+i.r*i.a*(1-e.a))/a,g:(e.g*e.a+i.g*i.a*(1-e.a))/a,b:(e.b*e.a+i.b*i.a*(1-e.a))/a,a})},n.prototype.triad=function(){return this.polyad(3)},n.prototype.tetrad=function(){return this.polyad(4)},n.prototype.polyad=function(t){for(var e=this.toHsl(),i=e.h,a=[this],s=360/t,m=1;m<t;m++)a.push(new n({h:(i+m*s)%360,s:e.s,l:e.l}));return a},n.prototype.equals=function(t){return this.toRgbString()===new n(t).toRgbString()},n})();var To=2,$r=.16,bc=.05,Sc=.05,yc=.15,Xr=5,Qr=4,Mc=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function qr({r:n,g:t,b:e}){let i=Tn(n,t,e);return{h:i.h*360,s:i.s,v:i.v}}function Po({r:n,g:t,b:e}){return`#${Pn(n,t,e,!1)}`}function zc(n,t,e){let i=e/100;return{r:(t.r-n.r)*i+n.r,g:(t.g-n.g)*i+n.g,b:(t.b-n.b)*i+n.b}}function Wr(n,t,e){let i;return Math.round(n.h)>=60&&Math.round(n.h)<=240?i=e?Math.round(n.h)-To*t:Math.round(n.h)+To*t:i=e?Math.round(n.h)+To*t:Math.round(n.h)-To*t,i<0?i+=360:i>=360&&(i-=360),i}function Gr(n,t,e){if(n.h===0&&n.s===0)return n.s;let i;return e?i=n.s-$r*t:t===Qr?i=n.s+$r:i=n.s+bc*t,i>1&&(i=1),e&&t===Xr&&i>.1&&(i=.1),i<.06&&(i=.06),Number(i.toFixed(2))}function Kr(n,t,e){let i;return e?i=n.v+Sc*t:i=n.v-yc*t,i>1&&(i=1),Number(i.toFixed(2))}function j1(n,t={}){let e=[],i=Ci(n);for(let a=Xr;a>0;a-=1){let s=qr(i),m=Po(Ci({h:Wr(s,a,!0),s:Gr(s,a,!0),v:Kr(s,a,!0)}));e.push(m)}e.push(Po(i));for(let a=1;a<=Qr;a+=1){let s=qr(i),m=Po(Ci({h:Wr(s,a),s:Gr(s,a),v:Kr(s,a)}));e.push(m)}return t.theme==="dark"?Mc.map(({index:a,opacity:s})=>Po(zc(Ci(t.backgroundColor||"#141414"),Ci(e[a]),s*100))):e}var Zr={isTestMode:!1};var Jr={},wc="[NG-ZORRO]:";function Ec(...n){let t=n.reduce((e,i)=>e+i.toString(),"");return Jr[t]?!1:(Jr[t]=!0,!0)}function Tc(n,...t){(Zr.isTestMode||qn()&&Ec(...t))&&n(...t)}var Di=(...n)=>Tc((...t)=>console.warn(wc,...t),...n);function q1(n){return typeof n<"u"&&n!==null}function kn(n){return n instanceof kt}function W1(n){return Vi(n,1/0)}function Pc(n){return!!n&&typeof n.then=="function"&&typeof n.catch=="function"}var Vc=typeof window<"u",G_=Vc&&window.mozInnerScreenX!=null;function tl(n){return Sa(n)?n:Pc(n)?new hn(t=>{Promise.resolve(n).then(e=>{t.next(e),t.complete()}).catch(e=>t.error(e))}):pi(n)}function G1(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var kc="rc-util-key";function il({mark:n}={}){return n?n.startsWith("data-")?n:`data-${n}`:kc}function K1(n){return n.attachTo?n.attachTo:document.querySelector("head")||document.body}function el(n,t={}){if(!G1())return null;let e=document.createElement("style");t.cspNonce&&(e.nonce=t.cspNonce),e.innerHTML=n;let i=K1(t),{firstChild:a}=i;return t.prepend&&i.prepend?i.prepend(e):t.prepend&&a?i.insertBefore(e,a):i.appendChild(e),e}var $1=new Map;function Dc(n,t={}){let e=K1(t);return Array.from($1.get(e)?.children||[]).find(i=>i.tagName==="STYLE"&&i.getAttribute(il(t))===n)}function nl(n,t,e={}){let i=K1(e);if(!$1.has(i)){let m=el("",e),{parentNode:M}=m;$1.set(i,M),M.removeChild(m)}let a=Dc(t,e);if(a)return e.cspNonce&&a.nonce!==e.cspNonce&&(a.nonce=e.cspNonce),a.innerHTML!==n&&(a.innerHTML=n),a;let s=el(n,e);return s?.setAttribute(il(e),t),s}function ol(n,t,e){return{[`${n}-status-success`]:t==="success",[`${n}-status-warning`]:t==="warning",[`${n}-status-error`]:t==="error",[`${n}-status-validating`]:t==="validating",[`${n}-has-feedback`]:e}}function Ic(n){return typeof Zone<"u"?Zone.root.run(n):n()}function rn(n,t,e){return n?new hn(i=>Ic(()=>Ma(n,t,e).subscribe(i))):ba}var Oc=new Ze("nz-config");var Fc=`-ant-${Date.now()}-${Math.random()}`;function Hc(n,t){let e={},i=(m,M)=>{let P=m.clone();return P=M?.(P)||P,P.toRgbString()},a=(m,M)=>{let P=new Eo(m),V=j1(P.toRgbString());e[`${M}-color`]=i(P),e[`${M}-color-disabled`]=V[1],e[`${M}-color-hover`]=V[4],e[`${M}-color-active`]=V[7],e[`${M}-color-outline`]=P.clone().setAlpha(.2).toRgbString(),e[`${M}-color-deprecated-bg`]=V[1],e[`${M}-color-deprecated-border`]=V[3]};if(t.primaryColor){a(t.primaryColor,"primary");let m=new Eo(t.primaryColor),M=j1(m.toRgbString());M.forEach((V,$)=>{e[`primary-${$+1}`]=V}),e["primary-color-deprecated-l-35"]=i(m,V=>V.lighten(35)),e["primary-color-deprecated-l-20"]=i(m,V=>V.lighten(20)),e["primary-color-deprecated-t-20"]=i(m,V=>V.tint(20)),e["primary-color-deprecated-t-50"]=i(m,V=>V.tint(50)),e["primary-color-deprecated-f-12"]=i(m,V=>V.setAlpha(V.getAlpha()*.12));let P=new Eo(M[0]);e["primary-color-active-deprecated-f-30"]=i(P,V=>V.setAlpha(V.getAlpha()*.3)),e["primary-color-active-deprecated-d-02"]=i(P,V=>V.darken(2))}return t.successColor&&a(t.successColor,"success"),t.warningColor&&a(t.warningColor,"warning"),t.errorColor&&a(t.errorColor,"error"),t.infoColor&&a(t.infoColor,"info"),`
  :root {
    ${Object.keys(e).map(m=>`--${n}-${m}: ${e[m]};`).join(`
`)}
  }
  `.trim()}function al(n,t,e){let i=Hc(n,t);G1()?nl(i,`${Fc}-dynamic-theme`,{cspNonce:e}):Di("NzConfigService: SSR do not support dynamic theme with css variables.")}function rl(n){return n!==void 0}var ll="ant",xi=(()=>{class n{configUpdated$=new qt;_configMap=new Map;config=g(Oc,{optional:!0})||{};cspNonce=g(La,{optional:!0});constructor(){this.config.theme&&al(this.getConfig().prefixCls?.prefixCls||ll,this.config.theme,this.cspNonce)}_getConfigValue(e){let i=this._configMap.get(e);return i||(i=W(this.config[e]),this._configMap.set(e,i),i)}getConfig(){return this.config}getConfigForComponent(e){return this.config[e]}getConfigChangeEventForComponent(e){return this.configUpdated$.pipe(Un(i=>i===e),zi(()=>{}))}set(e,i){this.config[e]=re(re({},this.config[e]),i),this._configMap.get(e)?.set(this.config[e]),e==="theme"&&this.config.theme&&al(this.getConfig().prefixCls?.prefixCls||ll,this.config.theme,this.cspNonce),this.configUpdated$.next(e)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ln(n,t){let e=g(at),i=g(xi),a=null,s=ri(()=>{a=i.getConfigChangeEventForComponent(n).pipe(De(e)).subscribe(t)});return()=>{s.destroy(),a?.unsubscribe()}}function bi(){return function(n,t){t.addInitializer(function(){let e=g(xi),i=this[t.name],a,s=!1;Object.defineProperty(this,t.name,{get:()=>{let m=e.getConfigForComponent(this._nzModuleName)?.[t.name];return s?a:rl(m)?m:i},set:m=>{s=rl(m),a=m},enumerable:!0,configurable:!0})})}}var Nt=(()=>{class n{viewContainer=g(Nn);templateRef=g(kt);embeddedViewRef=null;context=new X1;nzStringTemplateOutletContext=null;nzStringTemplateOutlet=null;static ngTemplateContextGuard(e,i){return!0}recreateView(){this.viewContainer.clear(),kn(this.nzStringTemplateOutlet)?this.embeddedViewRef=this.viewContainer.createEmbeddedView(this.nzStringTemplateOutlet,this.nzStringTemplateOutletContext):this.embeddedViewRef=this.viewContainer.createEmbeddedView(this.templateRef,this.context)}updateContext(){let e=kn(this.nzStringTemplateOutlet)?this.nzStringTemplateOutletContext:this.context,i=this.embeddedViewRef.context;if(e)for(let a of Object.keys(e))i[a]=e[a]}ngOnChanges(e){let{nzStringTemplateOutletContext:i,nzStringTemplateOutlet:a}=e,s=()=>{let M=!1;return a&&(M=a.firstChange||kn(a.previousValue)||kn(a.currentValue)),i&&($=>{let se=Object.keys($.previousValue||{}),Re=Object.keys($.currentValue||{});if(se.length===Re.length){for(let St of Re)if(se.indexOf(St)===-1)return!0;return!1}else return!0})(i)||M};a&&(this.context.$implicit=a.currentValue),s()?this.recreateView():this.updateContext()}static \u0275fac=function(i){return new(i||n)};static \u0275dir=rt({type:n,selectors:[["","nzStringTemplateOutlet",""]],inputs:{nzStringTemplateOutletContext:"nzStringTemplateOutletContext",nzStringTemplateOutlet:"nzStringTemplateOutlet"},exportAs:["nzStringTemplateOutlet"],features:[Ae]})}return n})(),X1=class{$implicit},Si=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=_t({type:n});static \u0275inj=ft({})}return n})();function Ii(n){"@babel/helpers - typeof";return Ii=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ii(n)}function sl(n,t){if(Ii(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t||"default");if(Ii(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function dl(n){var t=sl(n,"string");return Ii(t)=="symbol"?t:t+""}function Ft(n,t,e){return(t=dl(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var Ac={locale:"en",Pagination:{items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},DatePicker:{lang:{placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"],locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},timePickerLocale:{placeholder:"Select time",rangePlaceholder:["Start time","End time"]}},TimePicker:{placeholder:"Select time",rangePlaceholder:["Start time","End time"]},Calendar:{lang:{placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"],locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},timePickerLocale:{placeholder:"Select time",rangePlaceholder:["Start time","End time"]}},global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",selectNone:"Clear all data"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No Data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Image:{preview:"Preview"},CronExpression:{cronError:"Invalid cron expression",second:"second",minute:"minute",hour:"hour",day:"day",month:"month",week:"week"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"},CheckList:{checkList:"Check List",checkListFinish:"You have successfully completed the list!",checkListClose:"Close",checkListFooter:"Check list is no longer required",checkListCheck:"Do you want to close the list?",ok:"OK",cancel:"Cancel",checkListCheckOther:"No longer required to show"}},Uc={locale:"zh-cn",Pagination:{items_per_page:"\u6761/\u9875",jump_to:"\u8DF3\u81F3",jump_to_confirm:"\u786E\u5B9A",page:"\u9875",prev_page:"\u4E0A\u4E00\u9875",next_page:"\u4E0B\u4E00\u9875",prev_5:"\u5411\u524D 5 \u9875",next_5:"\u5411\u540E 5 \u9875",prev_3:"\u5411\u524D 3 \u9875",next_3:"\u5411\u540E 3 \u9875",page_size:"\u9875\u7801"},DatePicker:{lang:{placeholder:"\u8BF7\u9009\u62E9\u65E5\u671F",yearPlaceholder:"\u8BF7\u9009\u62E9\u5E74\u4EFD",quarterPlaceholder:"\u8BF7\u9009\u62E9\u5B63\u5EA6",monthPlaceholder:"\u8BF7\u9009\u62E9\u6708\u4EFD",weekPlaceholder:"\u8BF7\u9009\u62E9\u5468",rangePlaceholder:["\u5F00\u59CB\u65E5\u671F","\u7ED3\u675F\u65E5\u671F"],rangeYearPlaceholder:["\u5F00\u59CB\u5E74\u4EFD","\u7ED3\u675F\u5E74\u4EFD"],rangeQuarterPlaceholder:["\u5F00\u59CB\u5B63\u5EA6","\u7ED3\u675F\u5B63\u5EA6"],rangeMonthPlaceholder:["\u5F00\u59CB\u6708\u4EFD","\u7ED3\u675F\u6708\u4EFD"],rangeWeekPlaceholder:["\u5F00\u59CB\u5468","\u7ED3\u675F\u5468"],locale:"zh_CN",today:"\u4ECA\u5929",now:"\u6B64\u523B",backToToday:"\u8FD4\u56DE\u4ECA\u5929",ok:"\u786E\u5B9A",timeSelect:"\u9009\u62E9\u65F6\u95F4",dateSelect:"\u9009\u62E9\u65E5\u671F",weekSelect:"\u9009\u62E9\u5468",clear:"\u6E05\u9664",month:"\u6708",year:"\u5E74",previousMonth:"\u4E0A\u4E2A\u6708 (\u7FFB\u9875\u4E0A\u952E)",nextMonth:"\u4E0B\u4E2A\u6708 (\u7FFB\u9875\u4E0B\u952E)",monthSelect:"\u9009\u62E9\u6708\u4EFD",yearSelect:"\u9009\u62E9\u5E74\u4EFD",decadeSelect:"\u9009\u62E9\u5E74\u4EE3",yearFormat:"YYYY\u5E74",dayFormat:"D\u65E5",dateFormat:"YYYY\u5E74M\u6708D\u65E5",dateTimeFormat:"YYYY\u5E74M\u6708D\u65E5 HH\u65F6mm\u5206ss\u79D2",previousYear:"\u4E0A\u4E00\u5E74 (Control\u952E\u52A0\u5DE6\u65B9\u5411\u952E)",nextYear:"\u4E0B\u4E00\u5E74 (Control\u952E\u52A0\u53F3\u65B9\u5411\u952E)",previousDecade:"\u4E0A\u4E00\u5E74\u4EE3",nextDecade:"\u4E0B\u4E00\u5E74\u4EE3",previousCentury:"\u4E0A\u4E00\u4E16\u7EAA",nextCentury:"\u4E0B\u4E00\u4E16\u7EAA"},timePickerLocale:{placeholder:"\u8BF7\u9009\u62E9\u65F6\u95F4",rangePlaceholder:["\u5F00\u59CB\u65F6\u95F4","\u7ED3\u675F\u65F6\u95F4"]}},TimePicker:{placeholder:"\u8BF7\u9009\u62E9\u65F6\u95F4",rangePlaceholder:["\u5F00\u59CB\u65F6\u95F4","\u7ED3\u675F\u65F6\u95F4"]},Calendar:{lang:{placeholder:"\u8BF7\u9009\u62E9\u65E5\u671F",yearPlaceholder:"\u8BF7\u9009\u62E9\u5E74\u4EFD",quarterPlaceholder:"\u8BF7\u9009\u62E9\u5B63\u5EA6",monthPlaceholder:"\u8BF7\u9009\u62E9\u6708\u4EFD",weekPlaceholder:"\u8BF7\u9009\u62E9\u5468",rangePlaceholder:["\u5F00\u59CB\u65E5\u671F","\u7ED3\u675F\u65E5\u671F"],rangeYearPlaceholder:["\u5F00\u59CB\u5E74\u4EFD","\u7ED3\u675F\u5E74\u4EFD"],rangeMonthPlaceholder:["\u5F00\u59CB\u6708\u4EFD","\u7ED3\u675F\u6708\u4EFD"],rangeWeekPlaceholder:["\u5F00\u59CB\u5468","\u7ED3\u675F\u5468"],locale:"zh_CN",today:"\u4ECA\u5929",now:"\u6B64\u523B",backToToday:"\u8FD4\u56DE\u4ECA\u5929",ok:"\u786E\u5B9A",timeSelect:"\u9009\u62E9\u65F6\u95F4",dateSelect:"\u9009\u62E9\u65E5\u671F",weekSelect:"\u9009\u62E9\u5468",clear:"\u6E05\u9664",month:"\u6708",year:"\u5E74",previousMonth:"\u4E0A\u4E2A\u6708 (\u7FFB\u9875\u4E0A\u952E)",nextMonth:"\u4E0B\u4E2A\u6708 (\u7FFB\u9875\u4E0B\u952E)",monthSelect:"\u9009\u62E9\u6708\u4EFD",yearSelect:"\u9009\u62E9\u5E74\u4EFD",decadeSelect:"\u9009\u62E9\u5E74\u4EE3",yearFormat:"YYYY\u5E74",dayFormat:"D\u65E5",dateFormat:"YYYY\u5E74M\u6708D\u65E5",dateTimeFormat:"YYYY\u5E74M\u6708D\u65E5 HH\u65F6mm\u5206ss\u79D2",previousYear:"\u4E0A\u4E00\u5E74 (Control\u952E\u52A0\u5DE6\u65B9\u5411\u952E)",nextYear:"\u4E0B\u4E00\u5E74 (Control\u952E\u52A0\u53F3\u65B9\u5411\u952E)",previousDecade:"\u4E0A\u4E00\u5E74\u4EE3",nextDecade:"\u4E0B\u4E00\u5E74\u4EE3",previousCentury:"\u4E0A\u4E00\u4E16\u7EAA",nextCentury:"\u4E0B\u4E00\u4E16\u7EAA"},timePickerLocale:{placeholder:"\u8BF7\u9009\u62E9\u65F6\u95F4",rangePlaceholder:["\u5F00\u59CB\u65F6\u95F4","\u7ED3\u675F\u65F6\u95F4"]}},global:{placeholder:"\u8BF7\u9009\u62E9"},Table:{filterTitle:"\u7B5B\u9009",filterConfirm:"\u786E\u5B9A",filterReset:"\u91CD\u7F6E",filterEmptyText:"\u65E0\u7B5B\u9009\u9879",selectAll:"\u5168\u9009\u5F53\u9875",selectInvert:"\u53CD\u9009\u5F53\u9875",selectionAll:"\u5168\u9009\u6240\u6709",sortTitle:"\u6392\u5E8F",expand:"\u5C55\u5F00\u884C",collapse:"\u5173\u95ED\u884C",triggerDesc:"\u70B9\u51FB\u964D\u5E8F",triggerAsc:"\u70B9\u51FB\u5347\u5E8F",cancelSort:"\u53D6\u6D88\u6392\u5E8F",filterCheckall:"\u5168\u9009",filterSearchPlaceholder:"\u5728\u7B5B\u9009\u9879\u4E2D\u641C\u7D22",selectNone:"\u6E05\u7A7A\u6240\u6709"},Modal:{okText:"\u786E\u5B9A",cancelText:"\u53D6\u6D88",justOkText:"\u77E5\u9053\u4E86"},Popconfirm:{cancelText:"\u53D6\u6D88",okText:"\u786E\u5B9A"},Transfer:{searchPlaceholder:"\u8BF7\u8F93\u5165\u641C\u7D22\u5185\u5BB9",itemUnit:"\u9879",itemsUnit:"\u9879",remove:"\u5220\u9664",selectCurrent:"\u5168\u9009\u5F53\u9875",removeCurrent:"\u5220\u9664\u5F53\u9875",selectAll:"\u5168\u9009\u6240\u6709",removeAll:"\u5220\u9664\u5168\u90E8",selectInvert:"\u53CD\u9009\u5F53\u9875"},Upload:{uploading:"\u6587\u4EF6\u4E0A\u4F20\u4E2D",removeFile:"\u5220\u9664\u6587\u4EF6",uploadError:"\u4E0A\u4F20\u9519\u8BEF",previewFile:"\u9884\u89C8\u6587\u4EF6",downloadFile:"\u4E0B\u8F7D\u6587\u4EF6"},Empty:{description:"\u6682\u65E0\u6570\u636E"},Icon:{icon:"\u56FE\u6807"},Text:{edit:"\u7F16\u8F91",copy:"\u590D\u5236",copied:"\u590D\u5236\u6210\u529F",expand:"\u5C55\u5F00"},PageHeader:{back:"\u8FD4\u56DE"},Image:{preview:"\u9884\u89C8"},CronExpression:{cronError:"cron \u8868\u8FBE\u5F0F\u4E0D\u5408\u6CD5",second:"\u79D2",minute:"\u5206\u949F",hour:"\u5C0F\u65F6",day:"\u65E5",month:"\u6708",week:"\u5468"},QRCode:{expired:"\u4E8C\u7EF4\u7801\u8FC7\u671F",refresh:"\u70B9\u51FB\u5237\u65B0",scanned:"\u5DF2\u626B\u63CF"},CheckList:{checkList:"\u4EFB\u52A1\u6E05\u5355",checkListFinish:"\u4F60\u5DF2\u6210\u529F\u5B8C\u6210\u4EFB\u52A1\u6E05\u5355\uFF01",checkListClose:"\u5173\u95ED",checkListFooter:"\u4E0D\u9700\u8981\u64CD\u4F5C\u6307\u5F15",checkListCheck:"\u4F60\u8981\u5173\u95ED\u64CD\u4F5C\u6E05\u5355\u5417",ok:"\u786E\u5B9A",cancel:"\u53D6\u6D88",checkListCheckOther:"\u4EE5\u540E\u4E0D\u518D\u9700\u8981\u64CD\u4F5C\u6E05\u5355"}},Lc=new Ze("nz-i18n");var Yc=new Ze("nz-date-locale"),ml=(()=>{class n{_locale;_change=new He(this._locale);dateLocale;get localeChange(){return this._change.asObservable()}constructor(){this.setLocale(g(Lc,{optional:!0})||Uc),this.setDateLocale(g(Yc,{optional:!0}))}translate(e,i){let a=this._getObjectPath(this._locale,e);return typeof a=="string"?(i&&Object.keys(i).forEach(s=>a=a.replace(new RegExp(`%${s}%`,"g"),i[s])),a):e}setLocale(e){this._locale&&this._locale.locale===e.locale||(this._locale=e,this._change.next(e))}getLocale(){return this._locale}getLocaleId(){return this._locale?this._locale.locale:""}setDateLocale(e){this.dateLocale=e}getDateLocale(){return this.dateLocale}getLocaleData(e,i){let a=e?this._getObjectPath(this._locale,e):this._locale;return!a&&!i&&Di(`Missing translations for "${e}" in language "${this._locale.locale}".
You can use "NzI18nService.setLocale" as a temporary fix.
Welcome to submit a pull request to help us optimize the translations!
https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/CONTRIBUTING.md`),a||i||this._getObjectPath(Ac,e)||{}}_getObjectPath(e,i){let a=e,s=i.split("."),m=s.length,M=0;for(;a&&M<m;)a=a[s[M++]];return M===m?a:null}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Rc(n,t){if(n&1&&(Dt(0),p(1,"img",4),It()),n&2){let e=u(2);l(),d("src",e.nzNotFoundImage,_e)("alt",e.isContentString?e.nzNotFoundContent:"empty")}}function Nc(n,t){if(n&1&&E(0,Rc,2,2,"ng-container",3),n&2){let e=u();d("nzStringTemplateOutlet",e.nzNotFoundImage)}}function Bc(n,t){n&1&&p(0,"nz-empty-simple")}function jc(n,t){n&1&&p(0,"nz-empty-default")}function $c(n,t){if(n&1&&_(0,Bc,1,0,"nz-empty-simple")(1,jc,1,0,"nz-empty-default"),n&2){let e=u();C(e.nzNotFoundImage==="simple"?0:1)}}function qc(n,t){if(n&1&&(Dt(0),c(1),It()),n&2){let e=u(2);l(),O(" ",e.isContentString?e.nzNotFoundContent:e.locale.description," ")}}function Wc(n,t){if(n&1&&(r(0,"p",1),E(1,qc,2,1,"ng-container",3),o()),n&2){let e=u();l(),d("nzStringTemplateOutlet",e.nzNotFoundContent)}}function Gc(n,t){if(n&1&&(Dt(0),c(1),It()),n&2){let e=u(2);l(),O(" ",e.nzNotFoundFooter," ")}}function Kc(n,t){if(n&1&&(r(0,"div",2),E(1,Gc,2,1,"ng-container",3),o()),n&2){let e=u();l(),d("nzStringTemplateOutlet",e.nzNotFoundFooter)}}var Xc=n=>({$implicit:n});function Qc(n,t){if(n&1&&(Dt(0),c(1),It()),n&2){let e=u(3);l(),b(e.content)}}function Zc(n,t){if(n&1&&E(0,Qc,2,1,"ng-container",1),n&2){let e=u(2);d("nzStringTemplateOutlet",e.content)("nzStringTemplateOutletContext",y(2,Xc,e.nzComponentName))}}function Jc(n,t){}function e3(n,t){if(n&1&&E(0,Jc,0,0,"ng-template",0),n&2){let e=u(2);d("cdkPortalOutlet",e.contentPortal)}}function t3(n,t){if(n&1&&_(0,Zc,1,4,"ng-container")(1,e3,1,1,null,0),n&2){let e=u();C(e.contentType==="template"||e.contentType==="string"?0:1)}}function i3(n,t){n&1&&p(0,"nz-empty",2)}function n3(n,t){n&1&&p(0,"nz-empty",3)}function o3(n,t){n&1&&p(0,"nz-empty")}function a3(n,t){if(n&1&&_(0,i3,1,0,"nz-empty",2)(1,n3,1,0,"nz-empty",3)(2,o3,1,0,"nz-empty"),n&2){let e,i=u(2);C((e=i.size)==="normal"?0:e==="small"?1:2)}}function r3(n,t){if(n&1&&_(0,a3,3,1),n&2){let e=u();C(e.specificContent!==null?0:-1)}}var l3=new Ze("nz-empty-component-name"),c3=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=z({type:n,selectors:[["nz-empty-default"]],exportAs:["nzEmptyDefault"],decls:12,vars:0,consts:[["width","184","height","152","viewBox","0 0 184 152","xmlns","http://www.w3.org/2000/svg",1,"ant-empty-img-default"],["fill","none","fill-rule","evenodd"],["transform","translate(24 31.67)"],["cx","67.797","cy","106.89","rx","67.797","ry","12.668",1,"ant-empty-img-default-ellipse"],["d","M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",1,"ant-empty-img-default-path-1"],["d","M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z","transform","translate(13.56)",1,"ant-empty-img-default-path-2"],["d","M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",1,"ant-empty-img-default-path-3"],["d","M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",1,"ant-empty-img-default-path-4"],["d","M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",1,"ant-empty-img-default-path-5"],["transform","translate(149.65 15.383)",1,"ant-empty-img-default-g"],["cx","20.654","cy","3.167","rx","2.849","ry","2.815"],["d","M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"]],template:function(i,a){i&1&&(fn(),Ht(0,"svg",0)(1,"g",1)(2,"g",2),Bt(3,"ellipse",3)(4,"path",4)(5,"path",5)(6,"path",6)(7,"path",7),Gt(),Bt(8,"path",8),Ht(9,"g",9),Bt(10,"ellipse",10)(11,"path",11),Gt()()())},encapsulation:2,changeDetection:0})}return n})(),s3=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=z({type:n,selectors:[["nz-empty-simple"]],exportAs:["nzEmptySimple"],decls:6,vars:0,consts:[["width","64","height","41","viewBox","0 0 64 41","xmlns","http://www.w3.org/2000/svg",1,"ant-empty-img-simple"],["transform","translate(0 1)","fill","none","fill-rule","evenodd"],["cx","32","cy","33","rx","32","ry","7",1,"ant-empty-img-simple-ellipse"],["fill-rule","nonzero",1,"ant-empty-img-simple-g"],["d","M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"],["d","M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",1,"ant-empty-img-simple-path"]],template:function(i,a){i&1&&(fn(),Ht(0,"svg",0)(1,"g",1),Bt(2,"ellipse",2),Ht(3,"g",3),Bt(4,"path",4)(5,"path",5),Gt()()())},encapsulation:2,changeDetection:0})}return n})(),d3=["default","simple"],pl=(()=>{class n{i18n=g(ml);cdr=g(Lt);destroyRef=g(at);nzNotFoundImage="default";nzNotFoundContent;nzNotFoundFooter;isContentString=!1;isImageBuildIn=!0;locale;ngOnChanges(e){let{nzNotFoundContent:i,nzNotFoundImage:a}=e;if(i){let s=i.currentValue;this.isContentString=typeof s=="string"}if(a){let s=a.currentValue||"default";this.isImageBuildIn=d3.findIndex(m=>m===s)>-1}}ngOnInit(){this.i18n.localeChange.pipe(De(this.destroyRef)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Empty"),this.cdr.markForCheck()})}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=z({type:n,selectors:[["nz-empty"]],hostAttrs:[1,"ant-empty"],inputs:{nzNotFoundImage:"nzNotFoundImage",nzNotFoundContent:"nzNotFoundContent",nzNotFoundFooter:"nzNotFoundFooter"},exportAs:["nzEmpty"],features:[Ae],decls:5,vars:3,consts:[[1,"ant-empty-image"],[1,"ant-empty-description"],[1,"ant-empty-footer"],[4,"nzStringTemplateOutlet"],[3,"src","alt"]],template:function(i,a){i&1&&(r(0,"div",0),_(1,Nc,1,1,"ng-container")(2,$c,2,1),o(),_(3,Wc,2,1,"p",1),_(4,Kc,2,1,"div",2)),i&2&&(l(),C(a.isImageBuildIn?2:1),l(2),C(a.nzNotFoundContent!==null?3:-1),l(),C(a.nzNotFoundFooter?4:-1))},dependencies:[Si,Nt,c3,s3],encapsulation:2,changeDetection:0})}return n})();function m3(n){switch(n){case"table":case"list":return"normal";case"select":case"tree-select":case"cascader":case"transfer":return"small";default:return""}}var Q1=(()=>{class n{configService=g(xi);viewContainerRef=g(Nn);cdr=g(Lt);injector=g(T1);nzComponentName;specificContent;content;contentType="string";contentPortal;size="";constructor(){ln("empty",()=>{this.content=this.specificContent||this.getUserDefaultEmptyContent(),this.renderEmpty()})}ngOnChanges(e){e.nzComponentName&&(this.size=m3(e.nzComponentName.currentValue)),e.specificContent&&!e.specificContent.isFirstChange()&&(this.content=e.specificContent.currentValue,this.renderEmpty())}ngOnInit(){this.content=this.specificContent||this.getUserDefaultEmptyContent(),this.renderEmpty()}renderEmpty(){let e=this.content;if(typeof e=="string")this.contentType="string";else if(e instanceof kt)this.contentType="template",this.contentPortal=void 0;else if(e instanceof Aa){let i=T1.create({parent:this.injector,providers:[{provide:l3,useValue:this.nzComponentName}]});this.contentType="component",this.contentPortal=new Vr(e,this.viewContainerRef,i)}else this.contentType="string",this.contentPortal=void 0;this.cdr.detectChanges()}getUserDefaultEmptyContent(){return(this.configService.getConfigForComponent("empty")||{}).nzDefaultEmptyContent}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=z({type:n,selectors:[["nz-embed-empty"]],inputs:{nzComponentName:"nzComponentName",specificContent:"specificContent"},exportAs:["nzEmbedEmpty"],features:[Ae],decls:2,vars:1,consts:[[3,"cdkPortalOutlet"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],["nzNotFoundImage","simple",1,"ant-empty-normal"],["nzNotFoundImage","simple",1,"ant-empty-small"]],template:function(i,a){i&1&&_(0,t3,2,1)(1,r3,1,1),i&2&&C(a.content?0:1)},dependencies:[pl,Dr,kr,Si,Nt],encapsulation:2,changeDetection:0})}return n})(),ul=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=_t({type:n});static \u0275inj=ft({imports:[pl,Q1]})}return n})();var et=Math.round;function Z1(n,t){let e=n.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],i=e.map(a=>parseFloat(a));for(let a=0;a<3;a+=1)i[a]=t(i[a]||0,e[a]||"",a);return e[3]?i[3]=e[3].includes("%")?i[3]/100:i[3]:i[3]=1,i}var hl=(n,t,e)=>e===0?n:n/100;function Dn(n,t){let e=t||255;return n>e?e:n<0?0:n}var Oi=class n{constructor(t){Ft(this,"isValid",!0),Ft(this,"r",0),Ft(this,"g",0),Ft(this,"b",0),Ft(this,"a",1),Ft(this,"_h",void 0),Ft(this,"_s",void 0),Ft(this,"_l",void 0),Ft(this,"_v",void 0),Ft(this,"_max",void 0),Ft(this,"_min",void 0),Ft(this,"_brightness",void 0);function e(a){return a[0]in t&&a[1]in t&&a[2]in t}if(t)if(typeof t=="string"){let s=function(m){return a.startsWith(m)};var i=s;let a=t.trim();/^#?[A-F\d]{3,8}$/i.test(a)?this.fromHexString(a):s("rgb")?this.fromRgbString(a):s("hsl")?this.fromHslString(a):(s("hsv")||s("hsb"))&&this.fromHsvString(a)}else if(t instanceof n)this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this._h=t._h,this._s=t._s,this._l=t._l,this._v=t._v;else if(e("rgb"))this.r=Dn(t.r),this.g=Dn(t.g),this.b=Dn(t.b),this.a=typeof t.a=="number"?Dn(t.a,1):1;else if(e("hsl"))this.fromHsl(t);else if(e("hsv"))this.fromHsv(t);else throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(t))}setR(t){return this._sc("r",t)}setG(t){return this._sc("g",t)}setB(t){return this._sc("b",t)}setA(t){return this._sc("a",t,1)}setHue(t){let e=this.toHsv();return e.h=t,this._c(e)}getLuminance(){function t(s){let m=s/255;return m<=.03928?m/12.92:Math.pow((m+.055)/1.055,2.4)}let e=t(this.r),i=t(this.g),a=t(this.b);return .2126*e+.7152*i+.0722*a}getHue(){if(typeof this._h>"u"){let t=this.getMax()-this.getMin();t===0?this._h=0:this._h=et(60*(this.r===this.getMax()?(this.g-this.b)/t+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/t+2:(this.r-this.g)/t+4))}return this._h}getSaturation(){if(typeof this._s>"u"){let t=this.getMax()-this.getMin();t===0?this._s=0:this._s=t/this.getMax()}return this._s}getLightness(){return typeof this._l>"u"&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return typeof this._v>"u"&&(this._v=this.getMax()/255),this._v}getBrightness(){return typeof this._brightness>"u"&&(this._brightness=(this.r*299+this.g*587+this.b*114)/1e3),this._brightness}darken(t=10){let e=this.getHue(),i=this.getSaturation(),a=this.getLightness()-t/100;return a<0&&(a=0),this._c({h:e,s:i,l:a,a:this.a})}lighten(t=10){let e=this.getHue(),i=this.getSaturation(),a=this.getLightness()+t/100;return a>1&&(a=1),this._c({h:e,s:i,l:a,a:this.a})}mix(t,e=50){let i=this._c(t),a=e/100,s=M=>(i[M]-this[M])*a+this[M],m={r:et(s("r")),g:et(s("g")),b:et(s("b")),a:et(s("a")*100)/100};return this._c(m)}tint(t=10){return this.mix({r:255,g:255,b:255,a:1},t)}shade(t=10){return this.mix({r:0,g:0,b:0,a:1},t)}onBackground(t){let e=this._c(t),i=this.a+e.a*(1-this.a),a=s=>et((this[s]*this.a+e[s]*e.a*(1-this.a))/i);return this._c({r:a("r"),g:a("g"),b:a("b"),a:i})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(t){return this.r===t.r&&this.g===t.g&&this.b===t.b&&this.a===t.a}clone(){return this._c(this)}toHexString(){let t="#",e=(this.r||0).toString(16);t+=e.length===2?e:"0"+e;let i=(this.g||0).toString(16);t+=i.length===2?i:"0"+i;let a=(this.b||0).toString(16);if(t+=a.length===2?a:"0"+a,typeof this.a=="number"&&this.a>=0&&this.a<1){let s=et(this.a*255).toString(16);t+=s.length===2?s:"0"+s}return t}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){let t=this.getHue(),e=et(this.getSaturation()*100),i=et(this.getLightness()*100);return this.a!==1?`hsla(${t},${e}%,${i}%,${this.a})`:`hsl(${t},${e}%,${i}%)`}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return this.a!==1?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toString(){return this.toRgbString()}_sc(t,e,i){let a=this.clone();return a[t]=Dn(e,i),a}_c(t){return new this.constructor(t)}getMax(){return typeof this._max>"u"&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return typeof this._min>"u"&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(t){let e=t.replace("#","");function i(a,s){return parseInt(e[a]+e[s||a],16)}e.length<6?(this.r=i(0),this.g=i(1),this.b=i(2),this.a=e[3]?i(3)/255:1):(this.r=i(0,1),this.g=i(2,3),this.b=i(4,5),this.a=e[6]?i(6,7)/255:1)}fromHsl({h:t,s:e,l:i,a}){if(this._h=t%360,this._s=e,this._l=i,this.a=typeof a=="number"?a:1,e<=0){let Re=et(i*255);this.r=Re,this.g=Re,this.b=Re}let s=0,m=0,M=0,P=t/60,V=(1-Math.abs(2*i-1))*e,$=V*(1-Math.abs(P%2-1));P>=0&&P<1?(s=V,m=$):P>=1&&P<2?(s=$,m=V):P>=2&&P<3?(m=V,M=$):P>=3&&P<4?(m=$,M=V):P>=4&&P<5?(s=$,M=V):P>=5&&P<6&&(s=V,M=$);let se=i-V/2;this.r=et((s+se)*255),this.g=et((m+se)*255),this.b=et((M+se)*255)}fromHsv({h:t,s:e,v:i,a}){this._h=t%360,this._s=e,this._v=i,this.a=typeof a=="number"?a:1;let s=et(i*255);if(this.r=s,this.g=s,this.b=s,e<=0)return;let m=t/60,M=Math.floor(m),P=m-M,V=et(i*(1-e)*255),$=et(i*(1-e*P)*255),se=et(i*(1-e*(1-P))*255);switch(M){case 0:this.g=se,this.b=V;break;case 1:this.r=$,this.b=V;break;case 2:this.r=V,this.b=se;break;case 3:this.r=V,this.g=$;break;case 4:this.r=se,this.g=V;break;case 5:default:this.g=V,this.b=$;break}}fromHsvString(t){let e=Z1(t,hl);this.fromHsv({h:e[0],s:e[1],v:e[2],a:e[3]})}fromHslString(t){let e=Z1(t,hl);this.fromHsl({h:e[0],s:e[1],l:e[2],a:e[3]})}fromRgbString(t){let e=Z1(t,(i,a)=>a.includes("%")?et(i/100*255):i);this.r=e[0],this.g=e[1],this.b=e[2],this.a=e[3]}};var Vo=2,vl=.16,u3=.05,h3=.05,v3=.15,Cl=5,xl=4,g3=[{index:7,amount:15},{index:6,amount:25},{index:5,amount:30},{index:5,amount:45},{index:5,amount:65},{index:5,amount:85},{index:4,amount:90},{index:3,amount:95},{index:2,amount:97},{index:1,amount:98}];function gl(n,t,e){var i;return Math.round(n.h)>=60&&Math.round(n.h)<=240?i=e?Math.round(n.h)-Vo*t:Math.round(n.h)+Vo*t:i=e?Math.round(n.h)+Vo*t:Math.round(n.h)-Vo*t,i<0?i+=360:i>=360&&(i-=360),i}function fl(n,t,e){if(n.h===0&&n.s===0)return n.s;var i;return e?i=n.s-vl*t:t===xl?i=n.s+vl:i=n.s+u3*t,i>1&&(i=1),e&&t===Cl&&i>.1&&(i=.1),i<.06&&(i=.06),Math.round(i*100)/100}function _l(n,t,e){var i;return e?i=n.v+h3*t:i=n.v-v3*t,i=Math.max(0,Math.min(1,i)),Math.round(i*100)/100}function ko(n){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=[],i=new Oi(n),a=i.toHsv(),s=Cl;s>0;s-=1){var m=new Oi({h:gl(a,s,!0),s:fl(a,s,!0),v:_l(a,s,!0)});e.push(m)}e.push(i);for(var M=1;M<=xl;M+=1){var P=new Oi({h:gl(a,M),s:fl(a,M),v:_l(a,M)});e.push(P)}return t.theme==="dark"?g3.map(function(V){var $=V.index,se=V.amount;return new Oi(t.backgroundColor||"#141414").mix(e[$],se).toHexString()}):e.map(function(V){return V.toHexString()})}var bl=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];bl.primary=bl[5];var Sl=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];Sl.primary=Sl[5];var yl=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];yl.primary=yl[5];var Ml=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];Ml.primary=Ml[5];var zl=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];zl.primary=zl[5];var wl=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];wl.primary=wl[5];var El=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];El.primary=El[5];var Tl=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];Tl.primary=Tl[5];var Pl=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];Pl.primary=Pl[5];var Vl=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];Vl.primary=Vl[5];var kl=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];kl.primary=kl[5];var Dl=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];Dl.primary=Dl[5];var Il=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];Il.primary=Il[5];var Ol=["#2a1215","#431418","#58181c","#791a1f","#a61d24","#d32029","#e84749","#f37370","#f89f9a","#fac8c3"];Ol.primary=Ol[5];var Fl=["#2b1611","#441d12","#592716","#7c3118","#aa3e19","#d84a1b","#e87040","#f3956a","#f8b692","#fad4bc"];Fl.primary=Fl[5];var Hl=["#2b1d11","#442a11","#593815","#7c4a15","#aa6215","#d87a16","#e89a3c","#f3b765","#f8cf8d","#fae3b7"];Hl.primary=Hl[5];var Al=["#2b2111","#443111","#594214","#7c5914","#aa7714","#d89614","#e8b339","#f3cc62","#f8df8b","#faedb5"];Al.primary=Al[5];var Ul=["#2b2611","#443b11","#595014","#7c6e14","#aa9514","#d8bd14","#e8d639","#f3ea62","#f8f48b","#fafab5"];Ul.primary=Ul[5];var Ll=["#1f2611","#2e3c10","#3e4f13","#536d13","#6f9412","#8bbb11","#a9d134","#c9e75d","#e4f88b","#f0fab5"];Ll.primary=Ll[5];var Yl=["#162312","#1d3712","#274916","#306317","#3c8618","#49aa19","#6abe39","#8fd460","#b2e58b","#d5f2bb"];Yl.primary=Yl[5];var Rl=["#112123","#113536","#144848","#146262","#138585","#13a8a8","#33bcb7","#58d1c9","#84e2d8","#b2f1e8"];Rl.primary=Rl[5];var Nl=["#111a2c","#112545","#15325b","#15417e","#1554ad","#1668dc","#3c89e8","#65a9f3","#8dc5f8","#b7dcfa"];Nl.primary=Nl[5];var Bl=["#131629","#161d40","#1c2755","#203175","#263ea0","#2b4acb","#5273e0","#7f9ef3","#a8c1f8","#d2e0fa"];Bl.primary=Bl[5];var jl=["#1a1325","#24163a","#301c4d","#3e2069","#51258f","#642ab5","#854eca","#ab7ae0","#cda8f0","#ebd7fa"];jl.primary=jl[5];var $l=["#291321","#40162f","#551c3b","#75204f","#a02669","#cb2b83","#e0529c","#f37fb7","#f8a8cc","#fad2e3"];$l.primary=$l[5];var ql=["#151515","#1f1f1f","#2d2d2d","#393939","#494949","#5a5a5a","#6a6a6a","#7b7b7b","#888888","#969696"];ql.primary=ql[5];var ci="[@ant-design/icons-angular]:";function f3(n){console.error(`${ci} ${n}.`)}function Kl(n){qn()&&console.warn(`${ci} ${n}.`)}function Wl(n){return ko(n)[0]}function Do(n,t){switch(t){case"fill":return`${n}-fill`;case"outline":return`${n}-o`;case"twotone":return`${n}-twotone`;case void 0:return n;default:throw new Error(`${ci}Theme "${t}" is not a recognized theme!`)}}function _3(n,t,e,i){return`${Do(n,t)}-${e}-${i}`}function C3(n){return n==="o"?"outline":n}function x3(n){return n.endsWith("-fill")||n.endsWith("-o")||n.endsWith("-twotone")}function Xl(n){return typeof n=="object"&&typeof n.name=="string"&&(typeof n.theme=="string"||n.theme===void 0)&&typeof n.icon=="string"}function b3(n){let t=n.split("-"),e=C3(t.splice(t.length-1,1)[0]);return{name:t.join("-"),theme:e,icon:""}}function S3(n){return n.cloneNode(!0)}function y3(n){return n.replace(/['"]#333['"]/g,'"primaryColor"').replace(/['"]#E6E6E6['"]/g,'"secondaryColor"').replace(/['"]#D9D9D9['"]/g,'"secondaryColor"').replace(/['"]#D8D8D8['"]/g,'"secondaryColor"')}function Io(n){let t=n.split(":");switch(t.length){case 1:return[n,""];case 2:return[t[1],t[0]];default:throw new Error(`${ci}The icon type ${n} is not valid!`)}}function M3(n){return Io(n)[1]!==""}function z3(){return new Error(`${ci}Type should have a namespace. Try "namespace:${name}".`)}function Gl(n){return new Error(`${ci}the icon ${n} does not exist or is not registered.`)}function w3(){return f3('you need to import "HttpClientModule" to use dynamic importing.'),null}function E3(n){return new Error(`${ci}The url "${n}" is unsafe.`)}function T3(){return new Error(`${ci}<svg> tag not found.`)}function P3(){return new Error(`${ci}Importing timeout error.`)}var V3="__ant_icon_load",k3=new Ze("ant_icons"),J1=(()=>{let t=class t{set twoToneColor({primaryColor:i,secondaryColor:a}){this._twoToneColorPalette.primaryColor=i,this._twoToneColorPalette.secondaryColor=a||Wl(i)}get twoToneColor(){return re({},this._twoToneColorPalette)}get _disableDynamicLoading(){return!1}constructor(i){this._antIcons=i,this.defaultTheme="outline",this._svgDefinitions=new Map,this._svgRenderedDefinitions=new Map,this._inProgressFetches=new Map,this._assetsUrlRoot="",this._twoToneColorPalette={primaryColor:"#333333",secondaryColor:"#E6E6E6"},this._enableJsonpLoading=!1,this._jsonpIconLoad$=new qt,this._rendererFactory=g(Na),this._handler=g(Qa,{optional:!0}),this._document=g(Fa),this.sanitizer=g(Ja),this._renderer=this._rendererFactory.createRenderer(null,null),this._handler&&(this._http=new Za(this._handler)),this._antIcons&&this.addIcon(...this._antIcons)}useJsonpLoading(){this._enableJsonpLoading?Kl("You are already using jsonp loading."):(this._enableJsonpLoading=!0,window[V3]=i=>{this._jsonpIconLoad$.next(i)})}changeAssetsSource(i){this._assetsUrlRoot=i.endsWith("/")?i:i+"/"}addIcon(...i){i.forEach(a=>{this._svgDefinitions.set(Do(a.name,a.theme),a)})}addIconLiteral(i,a){let[s,m]=Io(i);if(!m)throw z3();this.addIcon({name:i,icon:a})}clear(){this._svgDefinitions.clear(),this._svgRenderedDefinitions.clear()}getRenderedContent(i,a){let s=Xl(i)?i:this._svgDefinitions.get(i)||null;if(!s&&this._disableDynamicLoading)throw Gl(i);return(s?pi(s):this._loadIconDynamically(i)).pipe(zi(M=>{if(!M)throw Gl(i);return this._loadSVGFromCacheOrCreateNew(M,a)}))}getCachedIcons(){return this._svgDefinitions}_loadIconDynamically(i){if(!this._http&&!this._enableJsonpLoading)return pi(w3());let a=this._inProgressFetches.get(i);if(!a){let[s,m]=Io(i),M=m?{name:i,icon:""}:b3(s),P=this._enableJsonpLoading?".js":".svg",V=(m?`${this._assetsUrlRoot}assets/${m}/${s}`:`${this._assetsUrlRoot}assets/${M.theme}/${M.name}`)+P,$=this.sanitizer.sanitize(Ya.URL,V);if(!$)throw E3(V);a=(this._enableJsonpLoading?this._loadIconDynamicallyWithJsonp(M,$):this._http.get($,{responseType:"text"}).pipe(zi(Re=>ve(re({},M),{icon:Re})))).pipe(Da(Re=>this.addIcon(Re)),Ln(()=>this._inProgressFetches.delete(i)),wa(()=>pi(null)),Va()),this._inProgressFetches.set(i,a)}return a}_loadIconDynamicallyWithJsonp(i,a){return new hn(s=>{let m=this._document.createElement("script"),M=setTimeout(()=>{P(),s.error(P3())},6e3);m.src=a;function P(){m.parentNode.removeChild(m),clearTimeout(M)}this._document.body.appendChild(m),this._jsonpIconLoad$.pipe(Un(V=>V.name===i.name&&V.theme===i.theme),Ta(1)).subscribe(V=>{s.next(V),P()})})}_loadSVGFromCacheOrCreateNew(i,a){let s,m=a||this._twoToneColorPalette.primaryColor,M=Wl(m)||this._twoToneColorPalette.secondaryColor,P=i.theme==="twotone"?_3(i.name,i.theme,m,M):i.theme===void 0?i.name:Do(i.name,i.theme),V=this._svgRenderedDefinitions.get(P);return V?s=V.icon:(s=this._setSVGAttribute(this._colorizeSVGIcon(this._createSVGElementFromString(M3(i.name)?i.icon:y3(i.icon)),i.theme==="twotone",m,M)),this._svgRenderedDefinitions.set(P,ve(re({},i),{icon:s}))),S3(s)}_createSVGElementFromString(i){let a=this._document.createElement("div");a.innerHTML=i;let s=a.querySelector("svg");if(!s)throw T3;return s}_setSVGAttribute(i){return this._renderer.setAttribute(i,"width","1em"),this._renderer.setAttribute(i,"height","1em"),i}_colorizeSVGIcon(i,a,s,m){if(a){let M=i.childNodes,P=M.length;for(let V=0;V<P;V++){let $=M[V];$.getAttribute("fill")==="secondaryColor"?this._renderer.setAttribute($,"fill",m):this._renderer.setAttribute($,"fill",s)}}return this._renderer.setAttribute(i,"fill","currentColor"),i}};t.\u0275fac=function(a){return new(a||t)(ui(k3,8))},t.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function D3(n,t){return n.type===t.type&&n.theme===t.theme&&n.twoToneColor===t.twoToneColor}var Ql=(()=>{let t=class t{constructor(i){this._iconService=i,this._elementRef=g(Ue),this._renderer=g(hi)}ngOnChanges(i){(i.type||i.theme||i.twoToneColor)&&this._changeIcon()}_changeIcon(){return new Promise(i=>{if(!this.type){this._clearSVGElement(),i(null);return}let a=this._getSelfRenderMeta();this._iconService.getRenderedContent(this._parseIconType(this.type,this.theme),this.twoToneColor).subscribe(s=>{let m=this._getSelfRenderMeta();D3(a,m)?(this._setSVGElement(s),i(s)):i(null)})})}_getSelfRenderMeta(){return{type:this.type,theme:this.theme,twoToneColor:this.twoToneColor}}_parseIconType(i,a){if(Xl(i))return i;{let[s,m]=Io(i);return m?i:x3(s)?(a&&Kl(`'type' ${s} already gets a theme inside so 'theme' ${a} would be ignored`),s):Do(s,a||this._iconService.defaultTheme)}}_setSVGElement(i){this._clearSVGElement(),this._renderer.appendChild(this._elementRef.nativeElement,i)}_clearSVGElement(){let i=this._elementRef.nativeElement,a=i.childNodes,s=a.length;for(let m=s-1;m>=0;m--){let M=a[m];M.tagName?.toLowerCase()==="svg"&&this._renderer.removeChild(i,M)}}};t.\u0275fac=function(a){return new(a||t)(ee(J1))},t.\u0275dir=rt({type:t,selectors:[["","antIcon",""]],inputs:{type:"type",theme:"theme",twoToneColor:"twoToneColor"},features:[Ae]});let n=t;return n})();var Zl={name:"bars",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z" /></svg>'};var Jl={name:"caret-down",theme:"fill",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z" /></svg>'};var e4={name:"caret-down",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z" /></svg>'};var t4={name:"caret-up",theme:"fill",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z" /></svg>'};var i4={name:"caret-up",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z" /></svg>'};var n4={name:"check-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z" /></svg>'};var o4={name:"check-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z" /><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /></svg>'};var a4={name:"check",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z" /></svg>'};var r4={name:"calendar",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z" /></svg>'};var l4={name:"close-circle",theme:"fill",icon:'<svg fill-rule="evenodd" viewBox="64 64 896 896" focusable="false"><path d="M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z" /></svg>'},c4={name:"clock-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z" /></svg>'};var s4={name:"close",theme:"outline",icon:'<svg fill-rule="evenodd" viewBox="64 64 896 896" focusable="false"><path d="M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z" /></svg>'},d4={name:"close-circle",theme:"outline",icon:'<svg fill-rule="evenodd" viewBox="64 64 896 896" focusable="false"><path d="M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm0 76c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm128.01 198.83c.03 0 .05.01.09.06l45.02 45.01a.2.2 0 01.05.09.12.12 0 010 .07c0 .02-.01.04-.05.08L557.25 512l127.87 127.86a.27.27 0 01.05.06v.02a.12.12 0 010 .07c0 .03-.01.05-.05.09l-45.02 45.02a.2.2 0 01-.09.05.12.12 0 01-.07 0c-.02 0-.04-.01-.08-.05L512 557.25 384.14 685.12c-.04.04-.06.05-.08.05a.12.12 0 01-.07 0c-.03 0-.05-.01-.09-.05l-45.02-45.02a.2.2 0 01-.05-.09.12.12 0 010-.07c0-.02.01-.04.06-.08L466.75 512 338.88 384.14a.27.27 0 01-.05-.06l-.01-.02a.12.12 0 010-.07c0-.03.01-.05.05-.09l45.02-45.02a.2.2 0 01.09-.05.12.12 0 01.07 0c.02 0 .04.01.08.06L512 466.75l127.86-127.86c.04-.05.06-.06.08-.06a.12.12 0 01.07 0z" /></svg>'};var m4={name:"copy",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z" /></svg>'};var p4={name:"delete",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z" /></svg>'};var u4={name:"double-left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z" /></svg>'};var h4={name:"double-right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z" /></svg>'},v4={name:"down",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z" /></svg>'};var g4={name:"edit",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z" /></svg>'};var f4={name:"ellipsis",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z" /></svg>'};var _4={name:"exclamation-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z" /></svg>'};var C4={name:"exclamation-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z" /></svg>'};var x4={name:"eye",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z" /></svg>'};var b4={name:"file",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M854.6 288.7c6 6 9.4 14.1 9.4 22.6V928c0 17.7-14.3 32-32 32H192c-17.7 0-32-14.3-32-32V96c0-17.7 14.3-32 32-32h424.7c8.5 0 16.7 3.4 22.7 9.4l215.2 215.3zM790.2 326L602 137.8V326h188.2z" /></svg>'};var S4={name:"file",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z" /></svg>'};var y4={name:"filter",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z" /></svg>'};var M4={name:"left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z" /></svg>'};var z4={name:"info-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z" /></svg>'},w4={name:"info-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z" /></svg>'};var E4={name:"loading",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z" /></svg>'};var T4={name:"paper-clip",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z" /></svg>'};var P4={name:"question-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z" /></svg>'};var V4={name:"right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z" /></svg>'};var k4={name:"rotate-left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><defs><style /></defs><path d="M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z" /><path d="M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z" /></svg>'};var D4={name:"rotate-right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><defs><style /></defs><path d="M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z" /><path d="M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z" /></svg>'};var I4={name:"search",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z" /></svg>'};var ea={name:"star",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z" /></svg>'};var O4={name:"swap",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M847.9 592H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h605.2L612.9 851c-4.1 5.2-.4 13 6.3 13h72.5c4.9 0 9.5-2.2 12.6-6.1l168.8-214.1c16.5-21 1.6-51.8-25.2-51.8zM872 356H266.8l144.3-183c4.1-5.2.4-13-6.3-13h-72.5c-4.9 0-9.5 2.2-12.6 6.1L150.9 380.2c-16.5 21-1.6 51.8 25.1 51.8h696c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z" /></svg>'};var F4={name:"swap-right",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M873.1 596.2l-164-208A32 32 0 00684 376h-64.8c-6.7 0-10.4 7.7-6.3 13l144.3 183H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h695.9c26.8 0 41.7-30.8 25.2-51.8z" /></svg>'};var H4={name:"up",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z" /></svg>'};var A4={name:"upload",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z" /></svg>'};var U4={name:"vertical-align-top",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M859.9 168H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM518.3 355a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V848c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V509.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 355z" /></svg>'};var L4={name:"zoom-in",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z" /></svg>'};var Y4={name:"zoom-out",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z" /></svg>'};var I3=[Zl,r4,t4,i4,Jl,e4,n4,o4,a4,c4,d4,l4,s4,m4,p4,u4,h4,v4,g4,f4,_4,C4,x4,b4,S4,y4,z4,w4,M4,E4,T4,P4,V4,D4,k4,ea,I4,ea,A4,U4,H4,O4,F4,L4,Y4],N4=new Ze("nz_icons");var R4="#1890ff",B4=(()=>{class n extends J1{nzConfigService=g(xi);platform=g(yn);configUpdated$=new qt;get _disableDynamicLoading(){return!this.platform.isBrowser}iconfontCache=new Set;normalizeSvgElement(e){e.getAttribute("viewBox")||this._renderer.setAttribute(e,"viewBox","0 0 1024 1024"),(!e.getAttribute("width")||!e.getAttribute("height"))&&(this._renderer.setAttribute(e,"width","1em"),this._renderer.setAttribute(e,"height","1em")),e.getAttribute("fill")||this._renderer.setAttribute(e,"fill","currentColor")}fetchFromIconfont(e){let{scriptUrl:i}=e;if(this._document&&!this.iconfontCache.has(i)){let a=this._renderer.createElement("script");this._renderer.setAttribute(a,"src",i),this._renderer.setAttribute(a,"data-namespace",i.replace(/^(https?|http):/g,"")),this._renderer.appendChild(this._document.body,a),this.iconfontCache.add(i)}}createIconfontIcon(e){return this._createSVGElementFromString(`<svg><use xlink:href="${e}"></svg>`)}constructor(){super([...I3,...g(N4,{optional:!0})||[]]),this.onConfigChange(),this.configDefaultTwotoneColor(),this.configDefaultTheme()}onConfigChange(){ln("icon",()=>{this.configDefaultTwotoneColor(),this.configDefaultTheme(),this.configUpdated$.next()})}configDefaultTheme(){let e=this.getConfig();this.defaultTheme=e.nzTheme||"outline"}configDefaultTwotoneColor(){let i=this.getConfig().nzTwotoneColor||R4,a=R4;i&&(i.startsWith("#")?a=i:Di("Twotone color must be a hex color!")),this.twoToneColor={primaryColor:a}}getConfig(){return this.nzConfigService.getConfigForComponent("icon")||{}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),j4=new Ze("nz_icons_patch"),$4=(()=>{class n{rootIconService;patched=!1;extraIcons=g(j4,{self:!0});constructor(e){this.rootIconService=e}doPatch(){this.patched||(this.extraIcons.forEach(e=>this.rootIconService.addIcon(e)),this.patched=!0)}static \u0275fac=function(i){return new(i||n)(ui(B4))};static \u0275prov=Z({token:n,factory:n.\u0275fac})}return n})(),Fi=(()=>{class n extends Ql{iconService;ngZone=g(Wt);changeDetectorRef=g(Lt);renderer=g(hi);destroyRef=g(at);pendingTasks=g(Ha);isBrowser=Wn(g(Rn));cacheClassName=null;set nzSpin(e){this.spin=e}nzRotate=0;set nzType(e){this.type=e}set nzTheme(e){this.theme=e}set nzTwotoneColor(e){this.twoToneColor=e}set nzIconfont(e){this.iconfont=e}hostClass;el;iconfont;spin=!1;constructor(e){super(e),this.iconService=e,g($4,{optional:!0})?.doPatch(),this.el=this._elementRef.nativeElement}ngOnChanges(e){let{nzType:i,nzTwotoneColor:a,nzSpin:s,nzTheme:m,nzRotate:M}=e;i||a||s||m?this.ngZone.runOutsideAngular(()=>this.changeIcon2()):M?this.handleRotate(this.el.firstChild):this._setSVGElement(this.iconService.createIconfontIcon(`#${this.iconfont}`))}ngAfterContentChecked(){if(!this.type){let e=this.el.children,i=e.length;if(!this.type&&e.length)for(;i--;){let a=e[i];a.tagName.toLowerCase()==="svg"&&this.iconService.normalizeSvgElement(a)}}}changeIcon2(){this.setClassName();let e=this.pendingTasks.add();tl(this._changeIcon()).pipe(Ea(0,this.isBrowser?xa:Ca),De(this.destroyRef),Ln(e)).subscribe({next:a=>{this.ngZone.run(()=>{this.changeDetectorRef.detectChanges(),a&&(this.setSVGData(a),this.handleSpin(a),this.handleRotate(a))})},error:Di})}handleSpin(e){this.spin||this.type==="loading"?this.renderer.addClass(e,"anticon-spin"):this.renderer.removeClass(e,"anticon-spin")}handleRotate(e){this.nzRotate?this.renderer.setAttribute(e,"style",`transform: rotate(${this.nzRotate}deg)`):this.renderer.removeAttribute(e,"style")}setClassName(){this.cacheClassName&&this.renderer.removeClass(this.el,this.cacheClassName),this.cacheClassName=`anticon-${this.type}`,this.renderer.addClass(this.el,this.cacheClassName)}setSVGData(e){this.renderer.setAttribute(e,"data-icon",this.type),this.renderer.setAttribute(e,"aria-hidden","true")}static \u0275fac=function(i){return new(i||n)(ee(B4))};static \u0275dir=rt({type:n,selectors:[["nz-icon"],["","nz-icon",""]],hostAttrs:[1,"anticon"],inputs:{nzSpin:[2,"nzSpin","nzSpin",ge],nzRotate:[2,"nzRotate","nzRotate",Vi],nzType:"nzType",nzTheme:"nzTheme",nzTwotoneColor:"nzTwotoneColor",nzIconfont:"nzIconfont"},exportAs:["nzIcon"],features:[Ba,Ae]})}return n})(),O3=n=>gn([{provide:N4,useValue:n}]),F3=n=>[$4,{provide:j4,useValue:n}],Hi=(()=>{class n{static forRoot(e){return{ngModule:n,providers:[O3(e)]}}static forChild(e){return{ngModule:n,providers:[F3(e)]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=_t({type:n});static \u0275inj=ft({})}return n})();var ot=(()=>{class n{static SLOW="0.3s";static BASE="0.2s";static FAST="0.1s"}return n})(),nt=(()=>{class n{static EASE_BASE_OUT="cubic-bezier(0.7, 0.3, 0.1, 1)";static EASE_BASE_IN="cubic-bezier(0.9, 0, 0.3, 0.7)";static EASE_OUT="cubic-bezier(0.215, 0.61, 0.355, 1)";static EASE_IN="cubic-bezier(0.55, 0.055, 0.675, 0.19)";static EASE_IN_OUT="cubic-bezier(0.645, 0.045, 0.355, 1)";static EASE_OUT_BACK="cubic-bezier(0.12, 0.4, 0.29, 1.46)";static EASE_IN_BACK="cubic-bezier(0.71, -0.46, 0.88, 0.6)";static EASE_IN_OUT_BACK="cubic-bezier(0.71, -0.46, 0.29, 1.46)";static EASE_OUT_CIRC="cubic-bezier(0.08, 0.82, 0.17, 1)";static EASE_IN_CIRC="cubic-bezier(0.6, 0.04, 0.98, 0.34)";static EASE_IN_OUT_CIRC="cubic-bezier(0.78, 0.14, 0.15, 0.86)";static EASE_OUT_QUINT="cubic-bezier(0.23, 1, 0.32, 1)";static EASE_IN_QUINT="cubic-bezier(0.755, 0.05, 0.855, 0.06)";static EASE_IN_OUT_QUINT="cubic-bezier(0.86, 0, 0.07, 1)"}return n})(),Ox=ct("collapseMotion",[st("expanded",q({height:"*"})),st("collapsed",q({height:0,overflow:"hidden"})),st("hidden",q({height:0,overflow:"hidden",borderTopWidth:"0"})),ue("expanded => collapsed",pe(`150ms ${nt.EASE_IN_OUT}`)),ue("expanded => hidden",pe(`150ms ${nt.EASE_IN_OUT}`)),ue("collapsed => expanded",pe(`150ms ${nt.EASE_IN_OUT}`)),ue("hidden => expanded",pe(`150ms ${nt.EASE_IN_OUT}`))]),Fx=ct("treeCollapseMotion",[ue("* => *",[V1("nz-tree-node:leave,nz-tree-builtin-node:leave",[q({overflow:"hidden"}),k1(0,[pe(`150ms ${nt.EASE_IN_OUT}`,q({height:0,opacity:0,"padding-bottom":0}))])],{optional:!0}),V1("nz-tree-node:enter,nz-tree-builtin-node:enter",[q({overflow:"hidden",height:0,opacity:0,"padding-bottom":0}),k1(0,[pe(`150ms ${nt.EASE_IN_OUT}`,q({overflow:"hidden",height:"*",opacity:"*","padding-bottom":"*"}))])],{optional:!0})])]),Hx=ct("drawerMaskMotion",[ue(":enter",[q({opacity:0}),pe(`${ot.SLOW}`,q({opacity:1}))]),ue(":leave",[q({opacity:1}),pe(`${ot.SLOW}`,q({opacity:0}))])]),Ax=ct("fadeMotion",[ue("* => enter",[q({opacity:0}),pe(`${ot.BASE}`,q({opacity:1}))]),ue("* => leave, :leave",[q({opacity:1}),pe(`${ot.BASE}`,q({opacity:0}))])]),Ux=ct("helpMotion",[ue(":enter",[q({opacity:0,transform:"translateY(-5px)"}),pe(`${ot.SLOW} ${nt.EASE_IN_OUT}`,q({opacity:1,transform:"translateY(0)"}))]),ue(":leave",[q({opacity:1,transform:"translateY(0)"}),pe(`${ot.SLOW} ${nt.EASE_IN_OUT}`,q({opacity:0,transform:"translateY(-5px)"}))])]),Lx=ct("moveUpMotion",[ue("* => enter",[q({transformOrigin:"0 0",transform:"translateY(-100%)",opacity:0}),pe(`${ot.BASE}`,q({transformOrigin:"0 0",transform:"translateY(0%)",opacity:1}))]),ue("* => leave",[q({transformOrigin:"0 0",transform:"translateY(0%)",opacity:1}),pe(`${ot.BASE}`,q({transformOrigin:"0 0",transform:"translateY(-100%)",opacity:0}))])]),Yx=ct("notificationMotion",[st("enterRight",q({opacity:1,transform:"translateX(0)"})),ue("* => enterRight",[q({opacity:0,transform:"translateX(5%)"}),pe("100ms linear")]),st("enterLeft",q({opacity:1,transform:"translateX(0)"})),ue("* => enterLeft",[q({opacity:0,transform:"translateX(-5%)"}),pe("100ms linear")]),st("enterTop",q({opacity:1,transform:"translateY(0)"})),ue("* => enterTop",[q({opacity:0,transform:"translateY(-5%)"}),pe("100ms linear")]),st("enterBottom",q({opacity:1,transform:"translateY(0)"})),ue("* => enterBottom",[q({opacity:0,transform:"translateY(5%)"}),pe("100ms linear")]),st("leave",q({opacity:0,transform:"scaleY(0.8)",transformOrigin:"0% 0%"})),ue("* => leave",[q({opacity:1,transform:"scaleY(1)",transformOrigin:"0% 0%"}),pe("100ms linear")])]),H3=`${ot.BASE} ${nt.EASE_OUT_QUINT}`,A3=`${ot.BASE} ${nt.EASE_IN_QUINT}`,W4=ct("slideMotion",[st("void",q({opacity:0,transform:"scaleY(0.8)"})),st("enter",q({opacity:1,transform:"scaleY(1)"})),ue("void => *",[pe(H3)]),ue("* => void",[pe(A3)])]),Rx=ct("slideAlertMotion",[ue(":leave",[q({opacity:1,transform:"scaleY(1)",transformOrigin:"0% 0%"}),pe(`${ot.SLOW} ${nt.EASE_IN_OUT_CIRC}`,q({opacity:0,transform:"scaleY(0)",transformOrigin:"0% 0%"}))])]),Nx=ct("tabSwitchMotion",[st("leave",q({display:"none"})),ue("* => enter",[q({display:"block",opacity:0}),pe(ot.SLOW)]),ue("* => leave, :leave",[q({position:"absolute",top:0,left:0,width:"100%"}),pe(ot.SLOW,q({opacity:0})),q({display:"none"})])]),Bx=ct("thumbMotion",[st("from",q({transform:"translateX({{ transform }}px)",width:"{{ width }}px"}),{params:{transform:0,width:0}}),st("to",q({transform:"translateX({{ transform }}px)",width:"{{ width }}px"}),{params:{transform:100,width:0}}),st("fromVertical",q({transform:"translateY({{ transform }}px)",width:"{{ width }}px",height:"{{ height }}px"}),{params:{transform:0,width:0,height:0}}),st("toVertical",q({transform:"translateY({{ transform }}px)",width:"{{ width }}px",height:"{{ height }}px"}),{params:{transform:100,width:0,height:0}}),ue("from => to",pe(`300ms ${nt.EASE_IN_OUT}`)),ue("fromVertical => toVertical",pe(`300ms ${nt.EASE_IN_OUT}`))]),jx=ct("zoomBigMotion",[ue("void => active",[q({opacity:0,transform:"scale(0.8)"}),pe(`${ot.BASE} ${nt.EASE_OUT_CIRC}`,q({opacity:1,transform:"scale(1)"}))]),ue("active => void",[q({opacity:1,transform:"scale(1)"}),pe(`${ot.BASE} ${nt.EASE_IN_OUT_CIRC}`,q({opacity:0,transform:"scale(0.8)"}))])]),$x=ct("zoomBadgeMotion",[ue(":enter",[q({opacity:0,transform:"scale(0) translate(50%, -50%)"}),pe(`${ot.SLOW} ${nt.EASE_OUT_BACK}`,q({opacity:1,transform:"scale(1) translate(50%, -50%)"}))]),ue(":leave",[q({opacity:1,transform:"scale(1) translate(50%, -50%)"}),pe(`${ot.SLOW} ${nt.EASE_IN_BACK}`,q({opacity:0,transform:"scale(0) translate(50%, -50%)"}))])]);function U3(n,t){if(n&1&&p(0,"nz-icon",0),n&2){let e=u();d("nzType",e.iconType)}}var G4=(()=>{class n{formStatusChanges=new _a(1);static \u0275fac=function(i){return new(i||n)};static \u0275prov=Z({token:n,factory:n.\u0275fac})}return n})(),K4=(()=>{class n{noFormStatus=new He(!1);static \u0275fac=function(i){return new(i||n)};static \u0275prov=Z({token:n,factory:n.\u0275fac})}return n})(),L3={error:"close-circle-fill",validating:"loading",success:"check-circle-fill",warning:"exclamation-circle-fill"},X4=(()=>{class n{cdr=g(Lt);status="";iconType=null;ngOnChanges(e){this.updateIcon()}updateIcon(){this.iconType=this.status?L3[this.status]:null,this.cdr.markForCheck()}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=z({type:n,selectors:[["nz-form-item-feedback-icon"]],hostAttrs:[1,"ant-form-item-feedback-icon"],hostVars:8,hostBindings:function(i,a){i&2&&me("ant-form-item-feedback-icon-error",a.status==="error")("ant-form-item-feedback-icon-warning",a.status==="warning")("ant-form-item-feedback-icon-success",a.status==="success")("ant-form-item-feedback-icon-validating",a.status==="validating")},inputs:{status:"status"},exportAs:["nzFormFeedbackIcon"],features:[Ae],decls:1,vars:1,consts:[[3,"nzType"]],template:function(i,a){i&1&&_(0,U3,1,1,"nz-icon",0),i&2&&C(a.iconType?0:-1)},dependencies:[Hi,Fi],encapsulation:2,changeDetection:0})}return n})();var Oo=(()=>{class n{animationType=g(Ua,{optional:!0});nzNoAnimation=!1;static \u0275fac=function(i){return new(i||n)};static \u0275dir=rt({type:n,selectors:[["","nzNoAnimation",""]],hostVars:2,hostBindings:function(i,a){i&2&&me("nz-animate-disabled",a.nzNoAnimation||a.animationType==="NoopAnimations")},inputs:{nzNoAnimation:[2,"nzNoAnimation","nzNoAnimation",ge]},exportAs:["nzNoAnimation"]})}return n})();var ta=typeof globalThis.requestAnimationFrame=="function"?globalThis.requestAnimationFrame:globalThis.setTimeout,ia=typeof globalThis.requestAnimationFrame=="function"?globalThis.cancelAnimationFrame:globalThis.clearTimeout;var Q4=["*"],Y3=n=>({$implicit:n});function R3(n,t){if(n&1&&c(0),n&2){let e=u(3);b(e.nzSplit)}}function N3(n,t){if(n&1&&(r(0,"span",2),E(1,R3,1,1,"ng-template",3),o()),n&2){let e=u().$index,i=u();l(),d("nzStringTemplateOutlet",i.nzSplit)("nzStringTemplateOutletContext",y(2,Y3,e))}}function B3(n,t){if(n&1&&(r(0,"div",0),At(1,1),o(),_(2,N3,2,4,"span",2)),n&2){let e=t.$implicit,i=t.$index,a=t.$count,s=u();l(),d("ngTemplateOutlet",e),l(),C(s.nzSplit&&i!==a-1?2:-1)}}var na=new Ze("NZ_SPACE_COMPACT_SIZE"),Z4=new Ze("NZ_SPACE_COMPACT_ITEMS"),oa=new Ze("NZ_SPACE_COMPACT_ITEM_TYPE"),j3=(()=>{class n{nzBlock=B(!1,{transform:ge});nzDirection=B("horizontal");nzSize=B("default");elementRef=g(Ue);static \u0275fac=function(i){return new(i||n)};static \u0275cmp=z({type:n,selectors:[["nz-space-compact"]],hostAttrs:[1,"ant-space-compact"],hostVars:4,hostBindings:function(i,a){i&2&&me("ant-space-compact-block",a.nzBlock())("ant-space-compact-vertical",a.nzDirection()==="vertical")},inputs:{nzBlock:[1,"nzBlock"],nzDirection:[1,"nzDirection"],nzSize:[1,"nzSize"]},exportAs:["nzSpaceCompact"],features:[Ut([{provide:na,useFactory:()=>g(n).nzSize},{provide:Z4,useFactory:()=>W([])}])],ngContentSelectors:Q4,decls:1,vars:0,template:function(i,a){i&1&&(Ve(),Me(0))},encapsulation:2,changeDetection:0})}return n})(),J4=(()=>{class n{spaceCompactCmp=g(j3,{host:!0,optional:!0});items=g(Z4,{host:!0,optional:!0});type=g(oa);elementRef=g(Ue);directionality=g(lo);dir=rr(this.directionality.change,{initialValue:this.directionality.value});get parentElement(){return this.elementRef.nativeElement?.parentElement}class=te(()=>{if(!this.spaceCompactCmp||!this.items||this.parentElement!==this.spaceCompactCmp.elementRef.nativeElement)return null;let e=this.items(),i=this.spaceCompactCmp.nzDirection(),a=[$3(this.type,i,this.dir()==="rtl")],s=e.indexOf(this),m=e.findIndex(M=>M);return s===m&&a.push(q3(this.type,i)),s===e.length-1&&a.push(W3(this.type,i)),a});constructor(){!this.spaceCompactCmp||!this.items||(ri(()=>{if(this.parentElement===this.spaceCompactCmp.elementRef.nativeElement){let e=Array.from(this.parentElement.children).indexOf(this.elementRef.nativeElement);this.items.update(i=>{let a=i.slice();return a.splice(e,0,this),a})}}),g(at).onDestroy(()=>{this.items?.update(e=>e.filter(i=>i!==this))}))}static \u0275fac=function(i){return new(i||n)};static \u0275dir=rt({type:n,hostVars:2,hostBindings:function(i,a){i&2&&Ce(a.class())},exportAs:["nzSpaceCompactItem"]})}return n})();function aa(n,t,e){return`ant-${n}-compact-${t==="vertical"?"vertical-":""}${e}`}function $3(n,t,e){let i=e?"-rtl":"";return`${aa(n,t,"item")}${i}`}function q3(n,t){return aa(n,t,"first-item")}function W3(n,t){return aa(n,t,"last-item")}var G3=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=rt({type:n,selectors:[["","nzSpaceItem",""]]})}return n})(),K3="space",X3={small:8,middle:16,large:24},Sb=(()=>{var i;let n,t=[],e=[];return i=class{_nzModuleName=K3;nzConfigService=g(xi);cdr=g(Lt);destroyRef=g(at);nzDirection="horizontal";nzAlign;nzSplit=null;nzWrap=!1;nzSize=yt(this,t,"small");items=yt(this,e);mergedAlign;horizontalSize;verticalSize;constructor(){this.updateSpaceSize()}ngOnChanges(s){let{nzSize:m}=s;m&&this.updateSpaceSize(),this.mergedAlign=this.nzAlign===void 0&&this.nzDirection==="horizontal"?"center":this.nzAlign}ngAfterContentInit(){this.items.changes.pipe(De(this.destroyRef)).subscribe(()=>{this.cdr.markForCheck()})}updateSpaceSize(){let{horizontalSize:s,verticalSize:m}=Q3(this.nzSize);this.horizontalSize=s,this.verticalSize=m}},(()=>{let s=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;n=[bi()],mi(null,null,n,{kind:"field",name:"nzSize",static:!1,private:!1,access:{has:m=>"nzSize"in m,get:m=>m.nzSize,set:(m,M)=>{m.nzSize=M}},metadata:s},t,e),s&&Object.defineProperty(i,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:s})})(),ji(i,"\u0275fac",function(m){return new(m||i)}),ji(i,"\u0275cmp",z({type:i,selectors:[["nz-space"],["","nz-space",""]],contentQueries:function(m,M,P){if(m&1&&Cn(P,G3,4,kt),m&2){let V;Ct(V=xt())&&(M.items=V)}},hostAttrs:[1,"ant-space"],hostVars:18,hostBindings:function(m,M){m&2&&(lt("flex-wrap",M.nzWrap?"wrap":null)("column-gap",M.horizontalSize,"px")("row-gap",M.verticalSize,"px"),me("ant-space-horizontal",M.nzDirection==="horizontal")("ant-space-vertical",M.nzDirection==="vertical")("ant-space-align-start",M.mergedAlign==="start")("ant-space-align-end",M.mergedAlign==="end")("ant-space-align-center",M.mergedAlign==="center")("ant-space-align-baseline",M.mergedAlign==="baseline"))},inputs:{nzDirection:"nzDirection",nzAlign:"nzAlign",nzSplit:"nzSplit",nzWrap:[2,"nzWrap","nzWrap",ge],nzSize:"nzSize"},exportAs:["nzSpace"],features:[Ae],ngContentSelectors:Q4,decls:3,vars:0,consts:[[1,"ant-space-item"],[3,"ngTemplateOutlet"],[1,"ant-space-split"],[3,"nzStringTemplateOutlet","nzStringTemplateOutletContext"]],template:function(m,M){m&1&&(Ve(),Me(0),L(1,B3,3,2,null,null,Wa)),m&2&&(l(),Y(M.items))},dependencies:[Ot,Nt],encapsulation:2,changeDetection:0})),i})();function Q3(n){let[t,e]=(Array.isArray(n)?n:[n,n]).map(i=>typeof i=="number"?i:X3[i]);return{horizontalSize:t,verticalSize:e}}var t0=["*"];function es(n,t){if(n&1&&(Dt(0),c(1),It()),n&2){let e=u();l(),b(e.nzLabel)}}function ts(n,t){}function is(n,t){if(n&1&&E(0,ts,0,0,"ng-template",1),n&2){let e=u();d("ngTemplateOutlet",e.template)}}function ns(n,t){if(n&1&&c(0),n&2){let e=u();O(" ",e.label," ")}}function os(n,t){n&1&&p(0,"nz-icon",3)}function as(n,t){}function rs(n,t){if(n&1&&E(0,as,0,0,"ng-template",1),n&2){let e=u(2);d("ngTemplateOutlet",e.icon)}}function ls(n,t){if(n&1&&(r(0,"div",2),_(1,os,1,0,"nz-icon",3)(2,rs,1,1,null,1),o()),n&2){let e=u();l(),C(e.icon?2:1)}}function cs(n,t){if(n&1&&(r(0,"div",0),p(1,"nz-embed-empty",4),o()),n&2){let e=u();l(),d("specificContent",e.notFoundContent)}}function ss(n,t){if(n&1&&p(0,"nz-option-item-group",5),n&2){let e=u().$implicit;d("nzLabel",e.groupLabel??null)}}function ds(n,t){if(n&1){let e=S();r(0,"nz-option-item",7),f("itemHover",function(a){h(e);let s=u(2);return v(s.onItemHover(a))})("itemClick",function(a){h(e);let s=u(2);return v(s.onItemClick(a))}),o()}if(n&2){let e=u().$implicit,i=u();d("icon",i.menuItemSelectedIcon)("customContent",e.nzCustomContent)("template",e.template??null)("grouped",!!e.groupLabel)("disabled",e.nzDisabled||i.isMaxMultipleCountReached&&!i.listOfSelectedValue.includes(e.nzValue))("showState",i.mode==="tags"||i.mode==="multiple")("title",e.nzTitle)("label",e.nzLabel)("compareWith",i.compareWith)("activatedValue",i.activatedValue)("listOfSelectedValue",i.listOfSelectedValue)("value",e.nzValue)}}function ms(n,t){if(n&1&&_(0,ss,1,1,"nz-option-item-group",5)(1,ds,1,12,"nz-option-item",6),n&2){let e,i=t.$implicit;C((e=i.type)==="group"?0:e==="item"?1:-1)}}function ps(n,t){}function us(n,t){n&1&&Me(0)}function hs(n,t){if(n&1&&(r(0,"span"),c(1),o()),n&2){let e=u();l(),Be("",e.listOfValue.length," / ",e.nzMaxMultipleCount)}}function vs(n,t){n&1&&p(0,"nz-icon",0)}function gs(n,t){n&1&&p(0,"nz-icon",2)}function fs(n,t){n&1&&p(0,"nz-icon",3)}function _s(n,t){if(n&1&&_(0,gs,1,0,"nz-icon",2)(1,fs,1,0,"nz-icon",3),n&2){let e=u(2);C(e.search?0:1)}}function Cs(n,t){if(n&1&&(Dt(0),p(1,"nz-icon",4),It()),n&2){let e=t.$implicit;l(),d("nzType",e)}}function xs(n,t){if(n&1&&E(0,Cs,2,1,"ng-container",1),n&2){let e=u(2);d("nzStringTemplateOutlet",e.suffixIcon)}}function bs(n,t){if(n&1&&_(0,_s,2,1)(1,xs,1,1,"ng-container"),n&2){let e=u();C(e.showArrow&&!e.suffixIcon?0:1)}}function Ss(n,t){if(n&1&&(Dt(0),c(1),It()),n&2){let e=u();l(),b(e.feedbackIcon)}}function ys(n,t){}function Ms(n,t){if(n&1&&E(0,ys,0,0,"ng-template",0),n&2){let e=u();d("ngTemplateOutlet",e.clearIcon)}}function zs(n,t){n&1&&p(0,"nz-icon",1)}function ws(n,t){if(n&1&&p(0,"span",4),n&2){let e=u(2);me("ant-select-selection-item-content",e.deletable),d("innerHTML",e.label,Ra)}}function Es(n,t){if(n&1&&(r(0,"span"),c(1),o()),n&2){let e=u(2);me("ant-select-selection-item-content",e.deletable),l(),b(e.label)}}function Ts(n,t){if(n&1&&(Dt(0),_(1,ws,1,3,"span",2)(2,Es,2,3,"span",3),It()),n&2){let e=u();l(),C(e.displayLabelInHtml?1:2)}}function Ps(n,t){n&1&&p(0,"nz-icon",6)}function Vs(n,t){}function ks(n,t){if(n&1&&E(0,Vs,0,0,"ng-template",7),n&2){let e=u(2);d("ngTemplateOutlet",e.removeIcon)}}function Ds(n,t){if(n&1){let e=S();r(0,"span",5),f("click",function(a){h(e);let s=u();return v(s.onDelete(a))}),_(1,Ps,1,0,"nz-icon",6)(2,ks,1,1,null,7),o()}if(n&2){let e=u();l(),C(e.removeIcon?2:1)}}function Is(n,t){if(n&1&&(Dt(0),c(1),It()),n&2){let e=u();l(),O(" ",e.placeholder," ")}}var Os=["inputElement"],Fs=["mirrorElement"];function Hs(n,t){n&1&&p(0,"span",3,1)}var As=(n,t)=>t.nzValue;function Us(n,t){if(n&1&&(Dt(0),c(1),It()),n&2){let e=u(2);l(),b(e.prefix)}}function Ls(n,t){if(n&1&&(r(0,"div",0),E(1,Us,2,1,"ng-container",4),o()),n&2){let e=u();l(),d("nzStringTemplateOutlet",e.prefix)}}function Ys(n,t){if(n&1&&p(0,"nz-select-item",6),n&2){let e=u(2);d("removeIcon",e.removeIcon)("label",e.listOfTopItem[0].nzLabel)("contentTemplateOutlet",e.customTemplate)("contentTemplateOutletContext",e.listOfTopItem[0])}}function Rs(n,t){if(n&1){let e=S();r(0,"nz-select-search",5),f("isComposingChange",function(a){h(e);let s=u();return v(s.isComposingChange(a))})("valueChange",function(a){h(e);let s=u();return v(s.onInputValueChange(a))}),o(),_(1,Ys,1,4,"nz-select-item",6)}if(n&2){let e=u();d("nzId",e.nzId)("disabled",e.disabled)("value",e.inputValue)("showInput",e.showSearch)("mirrorSync",!1)("autofocus",e.autofocus)("focusTrigger",e.open),l(),C(e.isShowSingleLabel?1:-1)}}function Ns(n,t){if(n&1){let e=S();r(0,"div",7)(1,"nz-select-item",10),f("delete",function(){let a=h(e).$implicit,s=u(2);return v(s.onDeleteItem(a.contentTemplateOutletContext))}),o()()}if(n&2){let e=t.$implicit,i=u(2);l(),d("removeIcon",i.removeIcon)("label",e.nzLabel)("disabled",e.nzDisabled||i.disabled)("contentTemplateOutlet",e.contentTemplateOutlet)("contentTemplateOutletContext",e.contentTemplateOutletContext)}}function Bs(n,t){if(n&1){let e=S();r(0,"div",2),L(1,Ns,2,5,"div",7,As),r(3,"div",8)(4,"nz-select-search",9),f("isComposingChange",function(a){h(e);let s=u();return v(s.isComposingChange(a))})("valueChange",function(a){h(e);let s=u();return v(s.onInputValueChange(a))}),o()()()}if(n&2){let e=u();l(),Y(e.listOfSlicedItem),l(3),d("nzId",e.nzId)("disabled",e.disabled)("value",e.inputValue)("autofocus",e.autofocus)("showInput",!0)("mirrorSync",!0)("focusTrigger",e.open)}}function js(n,t){if(n&1&&p(0,"nz-select-placeholder",3),n&2){let e=u();d("placeholder",e.placeHolder)}}function $s(n,t){if(n&1&&p(0,"nz-form-item-feedback-icon",6),n&2){let e=u(3);d("status",e.status)}}function qs(n,t){if(n&1&&_(0,$s,1,1,"nz-form-item-feedback-icon",6),n&2){let e=u(2);C(e.hasFeedback&&e.status?0:-1)}}function Ws(n,t){if(n&1&&(r(0,"nz-select-arrow",3),E(1,qs,1,1,"ng-template",null,1,Pi),o()),n&2){let e=G(2),i=u();d("showArrow",i.nzShowArrow)("loading",i.nzLoading)("search",i.nzOpen&&i.nzShowSearch)("suffixIcon",i.nzSuffixIcon)("feedbackIcon",e)("nzMaxMultipleCount",i.nzMaxMultipleCount)("listOfValue",i.listOfValue)("isMaxMultipleCountSet",i.isMaxMultipleCountSet)}}function Gs(n,t){if(n&1){let e=S();r(0,"nz-select-clear",7),f("clear",function(){h(e);let a=u();return v(a.onClearSelection())}),o()}if(n&2){let e=u();d("clearIcon",e.nzClearIcon)}}function Ks(n,t){if(n&1){let e=S();r(0,"nz-option-container",8),f("keydown",function(a){h(e);let s=u();return v(s.onKeyDown(a))})("itemClick",function(a){h(e);let s=u();return v(s.onItemClick(a))})("scrollToBottom",function(){h(e);let a=u();return v(a.nzScrollToBottom.emit())}),o()}if(n&2){let e=u();jn(e.nzDropdownStyle),me("ant-select-dropdown-placement-bottomLeft",e.dropdownPosition==="bottomLeft")("ant-select-dropdown-placement-topLeft",e.dropdownPosition==="topLeft")("ant-select-dropdown-placement-bottomRight",e.dropdownPosition==="bottomRight")("ant-select-dropdown-placement-topRight",e.dropdownPosition==="topRight"),d("itemSize",e.nzOptionHeightPx)("maxItemLength",e.nzOptionOverflowSize)("matchWidth",e.nzDropdownMatchSelectWidth)("@slideMotion","enter")("@.disabled",!!(e.noAnimation!=null&&e.noAnimation.nzNoAnimation))("nzNoAnimation",e.noAnimation==null?null:e.noAnimation.nzNoAnimation)("listOfContainerItem",e.listOfContainerItem)("menuItemSelectedIcon",e.nzMenuItemSelectedIcon)("notFoundContent",e.nzNotFoundContent)("activatedValue",e.activatedValue)("listOfSelectedValue",e.listOfValue)("dropdownRender",e.nzDropdownRender)("compareWith",e.compareWith)("mode",e.nzMode)("isMaxMultipleCountReached",e.isMaxMultipleCountReached)}}var ra=(()=>{class n{nzLabel=null;changes=new qt;ngOnChanges(){this.changes.next()}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=z({type:n,selectors:[["nz-option-group"]],inputs:{nzLabel:"nzLabel"},exportAs:["nzOptionGroup"],features:[Ae],ngContentSelectors:t0,decls:1,vars:0,template:function(i,a){i&1&&(Ve(),Me(0))},encapsulation:2,changeDetection:0})}return n})(),i0=(()=>{class n{nzLabel=null;static \u0275fac=function(i){return new(i||n)};static \u0275cmp=z({type:n,selectors:[["nz-option-item-group"]],hostAttrs:[1,"ant-select-item","ant-select-item-group"],inputs:{nzLabel:"nzLabel"},decls:1,vars:1,consts:[[4,"nzStringTemplateOutlet"]],template:function(i,a){i&1&&E(0,es,2,1,"ng-container",0),i&2&&d("nzStringTemplateOutlet",a.nzLabel)},dependencies:[Si,Nt],encapsulation:2,changeDetection:0})}return n})(),n0=(()=>{class n{el=g(Ue).nativeElement;ngZone=g(Wt);destroyRef=g(at);selected=!1;activated=!1;grouped=!1;customContent=!1;template=null;disabled=!1;showState=!1;title;label=null;value=null;activatedValue=null;listOfSelectedValue=[];icon=null;compareWith;itemClick=new H;itemHover=new H;ngOnChanges(e){let{value:i,activatedValue:a,listOfSelectedValue:s}=e;(i||s)&&(this.selected=this.listOfSelectedValue.some(m=>this.compareWith(m,this.value))),(i||a)&&(this.activated=this.compareWith(this.activatedValue,this.value))}ngOnInit(){rn(this.el,"click").pipe(De(this.destroyRef)).subscribe(()=>{this.disabled||this.ngZone.run(()=>this.itemClick.emit(this.value))}),rn(this.el,"mouseenter").pipe(De(this.destroyRef)).subscribe(()=>{this.disabled||this.ngZone.run(()=>this.itemHover.emit(this.value))})}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=z({type:n,selectors:[["nz-option-item"]],hostAttrs:[1,"ant-select-item","ant-select-item-option"],hostVars:9,hostBindings:function(i,a){i&2&&(wi("title",a.title),me("ant-select-item-option-grouped",a.grouped)("ant-select-item-option-selected",a.selected&&!a.disabled)("ant-select-item-option-disabled",a.disabled)("ant-select-item-option-active",a.activated&&!a.disabled))},inputs:{grouped:"grouped",customContent:[2,"customContent","customContent",ge],template:"template",disabled:"disabled",showState:"showState",title:"title",label:"label",value:"value",activatedValue:"activatedValue",listOfSelectedValue:"listOfSelectedValue",icon:"icon",compareWith:"compareWith"},outputs:{itemClick:"itemClick",itemHover:"itemHover"},features:[Ae],decls:4,vars:2,consts:[[1,"ant-select-item-option-content"],[3,"ngTemplateOutlet"],["unselectable","on",1,"ant-select-item-option-state"],["nzType","check",1,"ant-select-selected-icon"]],template:function(i,a){i&1&&(r(0,"div",0),_(1,is,1,1,null,1)(2,ns,1,1),o(),_(3,ls,3,1,"div",2)),i&2&&(l(),C(a.customContent?1:2),l(2),C(a.showState&&a.selected?3:-1))},dependencies:[Ot,Hi,Fi],encapsulation:2,changeDetection:0})}return n})(),o0=(()=>{class n{ngZone=g(Wt);platformId=g(Rn);notFoundContent=void 0;menuItemSelectedIcon=null;dropdownRender=null;activatedValue=null;listOfSelectedValue=[];compareWith;mode="default";matchWidth=!0;itemSize=32;maxItemLength=8;isMaxMultipleCountReached=!1;listOfContainerItem=[];itemClick=new H;scrollToBottom=new H;cdkVirtualScrollViewport;scrolledIndex=0;onItemClick(e){this.itemClick.emit(e)}onItemHover(e){this.activatedValue=e}trackValue(e,i){return i.key}onScrolledIndexChange(e){this.scrolledIndex=e,e===this.listOfContainerItem.length-this.maxItemLength-1&&this.scrollToBottom.emit()}scrollToActivatedValue(){let e=this.listOfContainerItem.findIndex(i=>this.compareWith(i.key,this.activatedValue));(e<this.scrolledIndex||e>=this.scrolledIndex+this.maxItemLength)&&this.cdkVirtualScrollViewport.scrollToIndex(e||0)}ngOnChanges(e){let{listOfContainerItem:i,activatedValue:a}=e;(i||a)&&this.scrollToActivatedValue()}ngAfterViewInit(){Wn(this.platformId)&&this.ngZone.runOutsideAngular(()=>setTimeout(()=>this.scrollToActivatedValue()))}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=z({type:n,selectors:[["nz-option-container"]],viewQuery:function(i,a){if(i&1&&jt(co,7),i&2){let s;Ct(s=xt())&&(a.cdkVirtualScrollViewport=s.first)}},hostAttrs:[1,"ant-select-dropdown"],inputs:{notFoundContent:"notFoundContent",menuItemSelectedIcon:"menuItemSelectedIcon",dropdownRender:"dropdownRender",activatedValue:"activatedValue",listOfSelectedValue:"listOfSelectedValue",compareWith:"compareWith",mode:"mode",matchWidth:"matchWidth",itemSize:"itemSize",maxItemLength:"maxItemLength",isMaxMultipleCountReached:"isMaxMultipleCountReached",listOfContainerItem:"listOfContainerItem"},outputs:{itemClick:"itemClick",scrollToBottom:"scrollToBottom"},exportAs:["nzOptionContainer"],features:[Ae],decls:5,vars:14,consts:[[1,"ant-select-item-empty"],[3,"scrolledIndexChange","itemSize","maxBufferPx","minBufferPx"],["cdkVirtualFor","",3,"cdkVirtualForOf","cdkVirtualForTrackBy","cdkVirtualForTemplateCacheSize"],[3,"ngTemplateOutlet"],["nzComponentName","select",3,"specificContent"],[3,"nzLabel"],[3,"icon","customContent","template","grouped","disabled","showState","title","label","compareWith","activatedValue","listOfSelectedValue","value"],[3,"itemHover","itemClick","icon","customContent","template","grouped","disabled","showState","title","label","compareWith","activatedValue","listOfSelectedValue","value"]],template:function(i,a){i&1&&(r(0,"div"),_(1,cs,2,1,"div",0),r(2,"cdk-virtual-scroll-viewport",1),f("scrolledIndexChange",function(m){return a.onScrolledIndexChange(m)}),E(3,ms,2,1,"ng-template",2),o(),E(4,ps,0,0,"ng-template",3),o()),i&2&&(l(),C(a.listOfContainerItem.length===0?1:-1),l(),lt("height",a.listOfContainerItem.length*a.itemSize,"px")("max-height",a.itemSize*a.maxItemLength,"px"),me("full-width",!a.matchWidth),d("itemSize",a.itemSize)("maxBufferPx",a.itemSize*a.maxItemLength)("minBufferPx",a.itemSize*a.maxItemLength),l(),d("cdkVirtualForOf",a.listOfContainerItem)("cdkVirtualForTrackBy",a.trackValue)("cdkVirtualForTemplateCacheSize",0),l(),d("ngTemplateOutlet",a.dropdownRender))},dependencies:[ul,Q1,i0,n0,Ot,Ir,Tr,Pr,co,U1],encapsulation:2,changeDetection:0})}return n})(),ca=(()=>{class n{destroyRef=g(at);nzOptionGroupComponent=g(ra,{optional:!0});changes=new qt;groupLabel=null;template;nzTitle;nzLabel=null;nzValue=null;nzKey;nzDisabled=!1;nzHide=!1;nzCustomContent=!1;ngOnInit(){this.nzOptionGroupComponent?.changes.pipe(Yn(!0),De(this.destroyRef)).subscribe(()=>{this.groupLabel=this.nzOptionGroupComponent?.nzLabel})}ngOnChanges(){this.changes.next()}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=z({type:n,selectors:[["nz-option"]],viewQuery:function(i,a){if(i&1&&jt(kt,7),i&2){let s;Ct(s=xt())&&(a.template=s.first)}},inputs:{nzTitle:"nzTitle",nzLabel:"nzLabel",nzValue:"nzValue",nzKey:"nzKey",nzDisabled:[2,"nzDisabled","nzDisabled",ge],nzHide:[2,"nzHide","nzHide",ge],nzCustomContent:[2,"nzCustomContent","nzCustomContent",ge]},exportAs:["nzOption"],features:[Ae],ngContentSelectors:t0,decls:1,vars:0,template:function(i,a){i&1&&(Ve(),$a(0,us,1,0,"ng-template"))},encapsulation:2,changeDetection:0})}return n})(),a0=(()=>{class n{listOfValue=[];loading=!1;search=!1;showArrow=!1;isMaxMultipleCountSet=!1;suffixIcon=null;feedbackIcon=null;nzMaxMultipleCount=1/0;static \u0275fac=function(i){return new(i||n)};static \u0275cmp=z({type:n,selectors:[["nz-select-arrow"]],hostAttrs:[1,"ant-select-arrow"],hostVars:2,hostBindings:function(i,a){i&2&&me("ant-select-arrow-loading",a.loading)},inputs:{listOfValue:"listOfValue",loading:"loading",search:"search",showArrow:"showArrow",isMaxMultipleCountSet:"isMaxMultipleCountSet",suffixIcon:"suffixIcon",feedbackIcon:"feedbackIcon",nzMaxMultipleCount:[2,"nzMaxMultipleCount","nzMaxMultipleCount",W1]},decls:4,vars:3,consts:[["nzType","loading"],[4,"nzStringTemplateOutlet"],["nzType","search"],["nzType","down"],[3,"nzType"]],template:function(i,a){i&1&&(_(0,hs,2,2,"span"),_(1,vs,1,0,"nz-icon",0)(2,bs,2,1),E(3,Ss,2,1,"ng-container",1)),i&2&&(C(a.isMaxMultipleCountSet?0:-1),l(),C(a.loading?1:2),l(2),d("nzStringTemplateOutlet",a.feedbackIcon))},dependencies:[Hi,Fi,Si,Nt],encapsulation:2,changeDetection:0})}return n})(),r0=(()=>{class n{clearIcon=null;clear=new H;onClick(e){e.preventDefault(),e.stopPropagation(),this.clear.emit(e)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=z({type:n,selectors:[["nz-select-clear"]],hostAttrs:[1,"ant-select-clear"],hostBindings:function(i,a){i&1&&f("click",function(m){return a.onClick(m)})},inputs:{clearIcon:"clearIcon"},outputs:{clear:"clear"},decls:2,vars:1,consts:[[3,"ngTemplateOutlet"],["nzType","close-circle","nzTheme","fill",1,"ant-select-close-icon"]],template:function(i,a){i&1&&_(0,Ms,1,1,null,0)(1,zs,1,0,"nz-icon",1),i&2&&C(a.clearIcon?0:1)},dependencies:[Ot,Hi,Fi],encapsulation:2,changeDetection:0})}return n})(),l0=(()=>{class n{disabled=!1;label=null;displayLabelInHtml=!1;deletable=!1;removeIcon=null;contentTemplateOutletContext=null;contentTemplateOutlet=null;delete=new H;get templateOutletContext(){return re({$implicit:this.contentTemplateOutletContext},this.contentTemplateOutletContext)}onDelete(e){e.preventDefault(),e.stopPropagation(),this.disabled||this.delete.next(e)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=z({type:n,selectors:[["nz-select-item"]],hostAttrs:[1,"ant-select-selection-item"],hostVars:3,hostBindings:function(i,a){i&2&&(wi("title",a.label),me("ant-select-selection-item-disabled",a.disabled))},inputs:{disabled:[2,"disabled","disabled",ge],label:"label",displayLabelInHtml:[2,"displayLabelInHtml","displayLabelInHtml",ge],deletable:[2,"deletable","deletable",ge],removeIcon:"removeIcon",contentTemplateOutletContext:"contentTemplateOutletContext",contentTemplateOutlet:"contentTemplateOutlet"},outputs:{delete:"delete"},decls:2,vars:3,consts:[[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],[1,"ant-select-selection-item-remove"],[3,"ant-select-selection-item-content","innerHTML"],[3,"ant-select-selection-item-content"],[3,"innerHTML"],[1,"ant-select-selection-item-remove",3,"click"],["nzType","close"],[3,"ngTemplateOutlet"]],template:function(i,a){i&1&&(E(0,Ts,3,1,"ng-container",0),_(1,Ds,3,1,"span",1)),i&2&&(d("nzStringTemplateOutlet",a.contentTemplateOutlet)("nzStringTemplateOutletContext",a.templateOutletContext),l(),C(a.deletable&&!a.disabled?1:-1))},dependencies:[Ot,Si,Nt,Hi,Fi],encapsulation:2,changeDetection:0})}return n})(),c0=(()=>{class n{placeholder=null;static \u0275fac=function(i){return new(i||n)};static \u0275cmp=z({type:n,selectors:[["nz-select-placeholder"]],hostAttrs:[1,"ant-select-selection-placeholder"],inputs:{placeholder:"placeholder"},decls:1,vars:1,consts:[[4,"nzStringTemplateOutlet"]],template:function(i,a){i&1&&E(0,Is,2,1,"ng-container",0),i&2&&d("nzStringTemplateOutlet",a.placeholder)},dependencies:[Si,Nt],encapsulation:2,changeDetection:0})}return n})(),la=(()=>{class n{elementRef=g(Ue);renderer=g(hi);focusMonitor=g(I1);nzId=null;disabled=!1;mirrorSync=!1;showInput=!0;focusTrigger=!1;value="";autofocus=!1;valueChange=new H;isComposingChange=new H;inputElement;mirrorElement;constructor(){ri(()=>{this.mirrorSync&&this.syncMirrorWidth(),this.autofocus&&this.focus()})}setCompositionState(e){this.isComposingChange.next(e)}onValueChange(e){this.value=e,this.valueChange.next(e),this.mirrorSync&&this.syncMirrorWidth()}clearInputValue(){let e=this.inputElement.nativeElement;e.value="",this.onValueChange("")}syncMirrorWidth(){let e=this.mirrorElement.nativeElement,i=this.elementRef.nativeElement,a=this.inputElement.nativeElement;this.renderer.removeStyle(i,"width"),this.renderer.setProperty(e,"textContent",`${a.value}\xA0`),this.renderer.setStyle(i,"width",`${e.scrollWidth}px`)}focus(){this.focusMonitor.focusVia(this.inputElement,"keyboard")}blur(){this.inputElement.nativeElement.blur()}ngOnChanges(e){let i=this.inputElement.nativeElement,{focusTrigger:a,showInput:s}=e;s&&(this.showInput?this.renderer.removeAttribute(i,"readonly"):this.renderer.setAttribute(i,"readonly","readonly")),a&&a.currentValue===!0&&a.previousValue===!1&&i.focus()}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=z({type:n,selectors:[["nz-select-search"]],viewQuery:function(i,a){if(i&1&&(jt(Os,7),jt(Fs,5)),i&2){let s;Ct(s=xt())&&(a.inputElement=s.first),Ct(s=xt())&&(a.mirrorElement=s.first)}},hostAttrs:[1,"ant-select-selection-search"],hostVars:2,hostBindings:function(i,a){i&2&&lt("width",a.mirrorSync?0:null,"px")},inputs:{nzId:"nzId",disabled:"disabled",mirrorSync:"mirrorSync",showInput:"showInput",focusTrigger:"focusTrigger",value:"value",autofocus:"autofocus"},outputs:{valueChange:"valueChange",isComposingChange:"isComposingChange"},features:[Ut([{provide:ar,useValue:!1}]),Ae],decls:3,vars:7,consts:[["inputElement",""],["mirrorElement",""],["autocomplete","off",1,"ant-select-selection-search-input",3,"ngModelChange","compositionstart","compositionend","ngModel","disabled"],[1,"ant-select-selection-search-mirror"]],template:function(i,a){if(i&1){let s=S();r(0,"input",2,0),f("ngModelChange",function(M){return h(s),v(a.onValueChange(M))})("compositionstart",function(){return h(s),v(a.setCompositionState(!0))})("compositionend",function(){return h(s),v(a.setCompositionState(!1))}),o(),_(2,Hs,2,0,"span",3)}i&2&&(lt("opacity",a.showInput?null:0),d("ngModel",a.value)("disabled",a.disabled),wi("id",a.nzId)("autofocus",a.autofocus?"autofocus":null),l(2),C(a.mirrorSync?2:-1))},dependencies:[Se,qe,de,Qt],encapsulation:2,changeDetection:0})}return n})(),Fo=(()=>{class n{destroyRef=g(at);elementRef=g(Ue);ngZone=g(Wt);noAnimation=g(Oo,{host:!0,optional:!0});nzId=null;showSearch=!1;placeHolder=null;open=!1;maxTagCount=1/0;autofocus=!1;disabled=!1;mode="default";customTemplate=null;maxTagPlaceholder=null;removeIcon=null;listOfTopItem=[];tokenSeparators=[];prefix=null;tokenize=new H;inputValueChange=new H;deleteItem=new H;nzSelectSearchComponent;listOfSlicedItem=[];isShowPlaceholder=!0;isShowSingleLabel=!1;isComposing=!1;inputValue=null;updateTemplateVariable(){let e=this.listOfTopItem.length===0;this.isShowPlaceholder=e&&!this.isComposing&&!this.inputValue,this.isShowSingleLabel=!e&&!this.isComposing&&!this.inputValue}isComposingChange(e){this.isComposing=e,this.updateTemplateVariable()}onInputValueChange(e){e!==this.inputValue&&(this.inputValue=e,this.updateTemplateVariable(),this.inputValueChange.emit(e),this.tokenSeparate(e,this.tokenSeparators))}tokenSeparate(e,i){let a=(m,M)=>{for(let P=0;P<M.length;++P)if(m.lastIndexOf(M[P])>0)return!0;return!1},s=(m,M)=>{let P=new RegExp(`[${M.join()}]`),V=m.split(P).filter($=>$);return[...new Set(V)]};if(e&&e.length&&i.length&&this.mode!=="default"&&a(e,i)){let m=s(e,i);this.tokenize.next(m)}}clearInputValue(){this.nzSelectSearchComponent?.clearInputValue()}focus(){this.nzSelectSearchComponent?.focus()}blur(){this.nzSelectSearchComponent?.blur()}onDeleteItem(e){!this.disabled&&!e.nzDisabled&&this.deleteItem.next(e)}ngOnChanges(e){let{listOfTopItem:i,maxTagCount:a,customTemplate:s,maxTagPlaceholder:m}=e;if(i&&this.updateTemplateVariable(),i||a||s||m){let M=this.listOfTopItem.slice(0,this.maxTagCount).map(P=>({nzLabel:P.nzLabel,nzValue:P.nzValue,nzDisabled:P.nzDisabled,contentTemplateOutlet:this.customTemplate,contentTemplateOutletContext:P}));if(this.listOfTopItem.length>this.maxTagCount){let P=`+ ${this.listOfTopItem.length-this.maxTagCount} ...`,V=this.listOfTopItem.map(se=>se.nzValue),$={nzLabel:P,nzValue:"$$__nz_exceeded_item",nzDisabled:!0,contentTemplateOutlet:this.maxTagPlaceholder,contentTemplateOutletContext:V.slice(this.maxTagCount)};M.push($)}this.listOfSlicedItem=M}}ngOnInit(){rn(this.elementRef.nativeElement,"click").pipe(De(this.destroyRef)).subscribe(e=>{e.target!==this.nzSelectSearchComponent.inputElement.nativeElement&&this.nzSelectSearchComponent.focus()}),rn(this.elementRef.nativeElement,"keydown").pipe(De(this.destroyRef)).subscribe(e=>{if(e.target instanceof HTMLInputElement){let i=e.target.value;e.keyCode===8&&this.mode!=="default"&&!i&&this.listOfTopItem.length>0&&(e.preventDefault(),this.ngZone.run(()=>this.onDeleteItem(this.listOfTopItem[this.listOfTopItem.length-1])))}})}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=z({type:n,selectors:[["nz-select-top-control"]],viewQuery:function(i,a){if(i&1&&jt(la,5),i&2){let s;Ct(s=xt())&&(a.nzSelectSearchComponent=s.first)}},hostAttrs:[1,"ant-select-selector"],inputs:{nzId:"nzId",showSearch:"showSearch",placeHolder:"placeHolder",open:"open",maxTagCount:[2,"maxTagCount","maxTagCount",Vi],autofocus:"autofocus",disabled:"disabled",mode:"mode",customTemplate:"customTemplate",maxTagPlaceholder:"maxTagPlaceholder",removeIcon:"removeIcon",listOfTopItem:"listOfTopItem",tokenSeparators:"tokenSeparators",prefix:"prefix"},outputs:{tokenize:"tokenize",inputValueChange:"inputValueChange",deleteItem:"deleteItem"},exportAs:["nzSelectTopControl"],features:[Ae],decls:5,vars:3,consts:[[1,"ant-select-prefix"],[1,"ant-select-selection-wrap"],[1,"ant-select-selection-overflow"],[3,"placeholder"],[4,"nzStringTemplateOutlet"],[3,"isComposingChange","valueChange","nzId","disabled","value","showInput","mirrorSync","autofocus","focusTrigger"],[3,"removeIcon","label","contentTemplateOutlet","contentTemplateOutletContext"],[1,"ant-select-selection-overflow-item"],[1,"ant-select-selection-overflow-item","ant-select-selection-overflow-item-suffix"],[3,"isComposingChange","valueChange","nzId","disabled","value","autofocus","showInput","mirrorSync","focusTrigger"],["deletable","",3,"delete","removeIcon","label","disabled","contentTemplateOutlet","contentTemplateOutletContext"]],template:function(i,a){if(i&1&&(_(0,Ls,2,1,"div",0),r(1,"span",1),_(2,Rs,2,8)(3,Bs,5,7,"div",2),_(4,js,1,1,"nz-select-placeholder",3),o()),i&2){let s;C(a.prefix?0:-1),l(2),C((s=a.mode)==="default"?2:3),l(2),C(a.isShowPlaceholder?4:-1)}},dependencies:[la,l0,c0,Nt],encapsulation:2,changeDetection:0})}return n})(),Xs=(n,t)=>t&&t.nzLabel?t.nzLabel.toString().toLowerCase().indexOf(n.toLowerCase())>-1:!1,e0="select",sa=(()=>{var gt;let n,t=[],e=[],i,a=[],s=[],m,M=[],P=[],V,$=[],se=[],Re,St=[],un=[];return gt=class{_nzModuleName=e0;ngZone=g(Wt);cdr=g(Lt);host=g(Ue);renderer=g(hi);platform=g(yn);focusMonitor=g(I1);directionality=g(lo);destroyRef=g(at);nzId=null;nzSize="default";nzStatus="";nzVariant=yt(this,t,"outlined");nzOptionHeightPx=(yt(this,e),yt(this,a,32));nzOptionOverflowSize=(yt(this,s),8);nzDropdownClassName=null;nzDropdownMatchSelectWidth=!0;nzDropdownStyle=null;nzNotFoundContent=void 0;nzPlaceHolder=null;nzPlacement=null;nzMaxTagCount=1/0;nzDropdownRender=null;nzCustomTemplate=null;nzPrefix=null;nzSuffixIcon=yt(this,M,null);nzClearIcon=(yt(this,P),null);nzRemoveIcon=null;nzMenuItemSelectedIcon=null;nzTokenSeparators=[];nzMaxTagPlaceholder=null;nzMaxMultipleCount=1/0;nzMode="default";nzFilterOption=Xs;compareWith=(T,D)=>T===D;nzAllowClear=!1;nzBorderless=yt(this,$,!1);nzShowSearch=(yt(this,se),!1);nzLoading=!1;nzAutoFocus=!1;nzAutoClearSearchValue=!0;nzServerSearch=!1;nzDisabled=!1;nzOpen=!1;nzSelectOnTab=!1;nzBackdrop=yt(this,St,!1);nzOptions=(yt(this,un),[]);nzShowArrow=!0;get showArrow(){return this.nzShowArrow||!!this.nzSuffixIcon}get isMultiple(){return this.nzMode==="multiple"||this.nzMode==="tags"}get isMaxMultipleCountSet(){return this.isMultiple&&this.nzMaxMultipleCount!==1/0}get isMaxMultipleCountReached(){return this.nzMaxMultipleCount!==1/0&&this.listOfValue.length===this.nzMaxMultipleCount}nzOnSearch=new H;nzScrollToBottom=new H;nzOpenChange=new H;nzBlur=new H;nzFocus=new H;nzOnClear=Wi();originElement;cdkConnectedOverlay;nzSelectTopControlComponent;listOfNzOptionComponent;listOfNzOptionGroupComponent;nzOptionGroupComponentElement;nzSelectTopControlComponentElement;finalSize=te(()=>this.compactSize?this.compactSize():this.size());size=W(this.nzSize);compactSize=g(na,{optional:!0});listOfValue$=new He([]);listOfTemplateItem$=new He([]);listOfTagAndTemplateItem=[];searchValue="";isReactiveDriven=!1;value;requestId=-1;isNzDisableFirstChange=!0;onChange=()=>{};onTouched=()=>{};dropdownPosition="bottomLeft";triggerWidth=null;listOfContainerItem=[];listOfTopItem=[];activatedValue=null;listOfValue=[];focused=!1;dir="ltr";positions=[];prefixCls="ant-select";statusCls={};status="";hasFeedback=!1;generateTagItem(T){return{nzValue:T,nzLabel:T,type:"item"}}onItemClick(T){if(this.activatedValue=T,this.nzMode==="default")(this.listOfValue.length===0||!this.compareWith(this.listOfValue[0],T))&&this.updateListOfValue([T]),this.setOpenState(!1);else{let D=this.listOfValue.findIndex(w=>this.compareWith(w,T));if(D!==-1){let w=this.listOfValue.filter((I,ne)=>ne!==D);this.updateListOfValue(w)}else if(this.listOfValue.length<this.nzMaxMultipleCount){let w=[...this.listOfValue,T];this.updateListOfValue(w)}this.focus(),this.nzAutoClearSearchValue&&this.clearInput()}}onItemDelete(T){let D=this.listOfValue.filter(w=>!this.compareWith(w,T.nzValue));this.updateListOfValue(D),this.clearInput()}updateListOfContainerItem(){let T=this.listOfTagAndTemplateItem.filter(I=>!I.nzHide).filter(I=>!this.nzServerSearch&&this.searchValue?this.nzFilterOption(this.searchValue,I):!0);if(this.nzMode==="tags"&&this.searchValue){let I=this.listOfTagAndTemplateItem.find(ne=>ne.nzLabel===this.searchValue);if(I)this.activatedValue=I.nzValue;else{let ne=this.generateTagItem(this.searchValue);T=[ne,...T],this.activatedValue=ne.nzValue}}let D=T.find(I=>I.nzLabel===this.searchValue)||T.find(I=>this.compareWith(I.nzValue,this.activatedValue))||T.find(I=>this.compareWith(I.nzValue,this.listOfValue[0]))||T[0];this.activatedValue=D&&D.nzValue||null;let w=[];this.isReactiveDriven?w=[...new Set(this.nzOptions.filter(I=>I.groupLabel).map(I=>I.groupLabel))]:this.listOfNzOptionGroupComponent&&(w=this.listOfNzOptionGroupComponent.map(I=>I.nzLabel)),w.forEach(I=>{let ne=T.findIndex(Fe=>I===Fe.groupLabel);if(ne>-1){let Fe={groupLabel:I,type:"group",key:I};T.splice(ne,0,Fe)}}),this.listOfContainerItem=[...T],this.updateCdkConnectedOverlayPositions()}clearInput(){this.nzSelectTopControlComponent.clearInputValue()}updateListOfValue(T){let w=((I,ne)=>ne==="default"?I.length>0?I[0]:null:I)(T,this.nzMode);this.value!==w&&(this.listOfValue=T,this.listOfValue$.next(T),this.value=w,this.onChange(this.value))}onTokenSeparate(T){let D=this.listOfTagAndTemplateItem.filter(I=>T.findIndex(ne=>ne===I.nzLabel)!==-1).map(I=>I.nzValue).filter(I=>this.listOfValue.findIndex(ne=>this.compareWith(ne,I))===-1),w=I=>this.isMaxMultipleCountSet?I.slice(0,this.nzMaxMultipleCount):I;if(this.nzMode==="multiple"){let I=w([...this.listOfValue,...D]);this.updateListOfValue(I)}else if(this.nzMode==="tags"){let I=T.filter(Fe=>this.listOfTagAndTemplateItem.findIndex(ai=>ai.nzLabel===Fe)===-1),ne=w([...this.listOfValue,...D,...I]);this.updateListOfValue(ne)}this.clearInput()}onKeyDown(T){if(this.nzDisabled)return;let D=this.listOfContainerItem.filter(I=>I.type==="item").filter(I=>!I.nzDisabled),w=D.findIndex(I=>this.compareWith(I.nzValue,this.activatedValue));switch(T.keyCode){case 38:if(T.preventDefault(),this.nzOpen&&D.length>0){let I=w>0?w-1:D.length-1;this.activatedValue=D[I].nzValue}break;case 40:if(T.preventDefault(),this.nzOpen&&D.length>0){let I=w<D.length-1?w+1:0;this.activatedValue=D[I].nzValue}else this.setOpenState(!0);break;case 13:T.preventDefault(),this.nzOpen?q1(this.activatedValue)&&w!==-1&&this.onItemClick(this.activatedValue):this.setOpenState(!0);break;case 32:this.nzOpen||(this.setOpenState(!0),T.preventDefault());break;case 9:this.nzSelectOnTab?this.nzOpen&&(T.preventDefault(),q1(this.activatedValue)&&this.onItemClick(this.activatedValue)):this.setOpenState(!1);break;case 27:break;default:this.nzOpen||this.setOpenState(!0)}}setOpenState(T){this.nzOpen!==T&&(this.nzOpen=T,this.nzOpenChange.emit(T),this.onOpenChange(),this.cdr.markForCheck())}onOpenChange(){this.updateCdkConnectedOverlayStatus(),this.nzAutoClearSearchValue&&this.clearInput()}onInputValueChange(T){this.searchValue=T,this.updateListOfContainerItem(),this.nzOnSearch.emit(T),this.updateCdkConnectedOverlayPositions()}onClearSelection(){this.updateListOfValue([]),this.nzOnClear.emit()}onClickOutside(T){let D=D1(T);this.host.nativeElement.contains(D)||this.setOpenState(!1)}focus(){this.nzSelectTopControlComponent.focus()}blur(){this.nzSelectTopControlComponent.blur()}onPositionChange(T){let D=A1(T);this.dropdownPosition=D}updateCdkConnectedOverlayStatus(){if(this.platform.isBrowser&&this.originElement.nativeElement){let T=this.triggerWidth;ia(this.requestId),this.requestId=ta(()=>{this.triggerWidth=this.originElement.nativeElement.getBoundingClientRect().width,T!==this.triggerWidth&&this.cdr.detectChanges()})}}updateCdkConnectedOverlayPositions(){ta(()=>{this.cdkConnectedOverlay?.overlayRef?.updatePosition()})}noAnimation=g(Oo,{host:!0,optional:!0});nzFormStatusService=g(G4,{optional:!0});nzFormNoStatusService=g(K4,{optional:!0});constructor(){this.destroyRef.onDestroy(()=>{ia(this.requestId),this.focusMonitor.stopMonitoring(this.host)}),ln(e0,()=>{this.size.set(this.nzSize),this.cdr.markForCheck()})}writeValue(T){if(this.value!==T){this.value=T;let w=((I,ne)=>I==null?[]:ne==="default"?[I]:I)(T,this.nzMode);this.listOfValue=w,this.listOfValue$.next(w),this.cdr.markForCheck()}}registerOnChange(T){this.onChange=T}registerOnTouched(T){this.onTouched=T}setDisabledState(T){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||T,this.isNzDisableFirstChange=!1,this.nzDisabled&&this.setOpenState(!1),this.cdr.markForCheck()}ngOnChanges({nzOpen:T,nzDisabled:D,nzOptions:w,nzStatus:I,nzPlacement:ne,nzSize:Fe}){if(T&&this.onOpenChange(),D&&this.nzDisabled&&this.setOpenState(!1),w){this.isReactiveDriven=!0;let Bi=(this.nzOptions||[]).map(Xe=>({template:Xe.label instanceof kt?Xe.label:null,nzTitle:this.getTitle(Xe.title,Xe.label),nzLabel:typeof Xe.label=="string"||typeof Xe.label=="number"?Xe.label:null,nzValue:Xe.value,nzDisabled:Xe.disabled||!1,nzHide:Xe.hide||!1,nzCustomContent:Xe.label instanceof kt,groupLabel:Xe.groupLabel||null,type:"item",key:Xe.key===void 0?Xe.value:Xe.key}));this.listOfTemplateItem$.next(Bi)}if(I&&this.setStatusStyles(this.nzStatus,this.hasFeedback),ne){let{currentValue:ai}=ne;this.dropdownPosition=ai;let Bi=["bottomLeft","topLeft","bottomRight","topRight"];ai&&Bi.includes(ai)?this.positions=[it[ai]]:this.positions=Bi.map(Xe=>it[Xe])}Fe&&this.size.set(Fe.currentValue)}ngOnInit(){this.nzFormStatusService?.formStatusChanges.pipe(Pa((T,D)=>T.status===D.status&&T.hasFeedback===D.hasFeedback),Ia(this.nzFormNoStatusService?this.nzFormNoStatusService.noFormStatus:pi(!1)),zi(([{status:T,hasFeedback:D},w])=>({status:w?"":T,hasFeedback:D})),De(this.destroyRef)).subscribe(({status:T,hasFeedback:D})=>{this.setStatusStyles(T,D)}),this.focusMonitor.monitor(this.host,!0).pipe(De(this.destroyRef)).subscribe(T=>{T?(this.focused=!0,this.cdr.markForCheck(),this.nzFocus.emit()):(this.focused=!1,this.cdr.markForCheck(),this.nzBlur.emit(),Promise.resolve().then(()=>{this.onTouched()}))}),ya([this.listOfValue$,this.listOfTemplateItem$]).pipe(De(this.destroyRef)).subscribe(([T,D])=>{let w=T.filter(()=>this.nzMode==="tags").filter(I=>D.findIndex(ne=>this.compareWith(ne.nzValue,I))===-1).map(I=>this.listOfTopItem.find(ne=>this.compareWith(ne.nzValue,I))||this.generateTagItem(I));this.listOfTagAndTemplateItem=[...D,...w],this.listOfTopItem=this.listOfValue.map(I=>[...this.listOfTagAndTemplateItem,...this.listOfTopItem].find(ne=>this.compareWith(I,ne.nzValue))).filter(I=>!!I),this.updateListOfContainerItem()}),this.directionality.change?.pipe(De(this.destroyRef)).subscribe(T=>{this.dir=T,this.cdr.detectChanges()}),this.dir=this.directionality.value,rn(this.host.nativeElement,"click").pipe(De(this.destroyRef)).subscribe(()=>{this.nzOpen&&this.nzShowSearch||this.nzDisabled||this.ngZone.run(()=>this.setOpenState(!this.nzOpen))}),this.cdkConnectedOverlay.overlayKeydown.pipe(De(this.destroyRef)).subscribe(T=>{T.keyCode===27&&this.setOpenState(!1)})}ngAfterContentInit(){this.isReactiveDriven||E1(this.listOfNzOptionGroupComponent.changes,this.listOfNzOptionComponent.changes).pipe(Yn(!0),ka(()=>E1(this.listOfNzOptionComponent.changes,this.listOfNzOptionGroupComponent.changes,...this.listOfNzOptionComponent.map(T=>T.changes),...this.listOfNzOptionGroupComponent.map(T=>T.changes)).pipe(Yn(!0))),De(this.destroyRef)).subscribe(()=>{let T=this.listOfNzOptionComponent.toArray().map(D=>{let{template:w,nzLabel:I,nzValue:ne,nzKey:Fe,nzDisabled:ai,nzHide:Bi,nzCustomContent:Xe,groupLabel:M0}=D;return{template:w,nzLabel:I,nzValue:ne,nzDisabled:ai,nzHide:Bi,nzCustomContent:Xe,groupLabel:M0,nzTitle:this.getTitle(D.nzTitle,D.nzLabel),type:"item",key:Fe===void 0?ne:Fe}});this.listOfTemplateItem$.next(T),this.cdr.markForCheck()})}setStatusStyles(T,D){this.status=T,this.hasFeedback=D,this.cdr.markForCheck(),this.statusCls=ol(this.prefixCls,T,D),Object.keys(this.statusCls).forEach(w=>{this.statusCls[w]?this.renderer.addClass(this.host.nativeElement,w):this.renderer.removeClass(this.host.nativeElement,w)})}getTitle(T,D){let w;return T===void 0?(typeof D=="string"||typeof D=="number")&&(w=D.toString()):(typeof T=="string"||typeof T=="number")&&(w=T.toString()),w}},(()=>{let T=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;n=[bi()],i=[bi()],m=[bi()],V=[bi()],Re=[bi()],mi(null,null,n,{kind:"field",name:"nzVariant",static:!1,private:!1,access:{has:D=>"nzVariant"in D,get:D=>D.nzVariant,set:(D,w)=>{D.nzVariant=w}},metadata:T},t,e),mi(null,null,i,{kind:"field",name:"nzOptionHeightPx",static:!1,private:!1,access:{has:D=>"nzOptionHeightPx"in D,get:D=>D.nzOptionHeightPx,set:(D,w)=>{D.nzOptionHeightPx=w}},metadata:T},a,s),mi(null,null,m,{kind:"field",name:"nzSuffixIcon",static:!1,private:!1,access:{has:D=>"nzSuffixIcon"in D,get:D=>D.nzSuffixIcon,set:(D,w)=>{D.nzSuffixIcon=w}},metadata:T},M,P),mi(null,null,V,{kind:"field",name:"nzBorderless",static:!1,private:!1,access:{has:D=>"nzBorderless"in D,get:D=>D.nzBorderless,set:(D,w)=>{D.nzBorderless=w}},metadata:T},$,se),mi(null,null,Re,{kind:"field",name:"nzBackdrop",static:!1,private:!1,access:{has:D=>"nzBackdrop"in D,get:D=>D.nzBackdrop,set:(D,w)=>{D.nzBackdrop=w}},metadata:T},St,un),T&&Object.defineProperty(gt,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:T})})(),ji(gt,"\u0275fac",function(D){return new(D||gt)}),ji(gt,"\u0275cmp",z({type:gt,selectors:[["nz-select"]],contentQueries:function(D,w,I){if(D&1&&(Cn(I,ca,5),Cn(I,ra,5)),D&2){let ne;Ct(ne=xt())&&(w.listOfNzOptionComponent=ne),Ct(ne=xt())&&(w.listOfNzOptionGroupComponent=ne)}},viewQuery:function(D,w){if(D&1&&(jt(Mn,7,Ue),jt(zn,7),jt(Fo,7),jt(ra,7,Ue),jt(Fo,7,Ue)),D&2){let I;Ct(I=xt())&&(w.originElement=I.first),Ct(I=xt())&&(w.cdkConnectedOverlay=I.first),Ct(I=xt())&&(w.nzSelectTopControlComponent=I.first),Ct(I=xt())&&(w.nzOptionGroupComponentElement=I.first),Ct(I=xt())&&(w.nzSelectTopControlComponentElement=I.first)}},hostAttrs:[1,"ant-select"],hostVars:30,hostBindings:function(D,w){D&2&&me("ant-select-in-form-item",!!w.nzFormStatusService)("ant-select-lg",w.finalSize()==="large")("ant-select-sm",w.finalSize()==="small")("ant-select-show-arrow",w.showArrow)("ant-select-disabled",w.nzDisabled)("ant-select-show-search",(w.nzShowSearch||w.nzMode!=="default")&&!w.nzDisabled)("ant-select-allow-clear",w.nzAllowClear)("ant-select-borderless",w.nzVariant==="borderless"||w.nzVariant==="outlined"&&w.nzBorderless)("ant-select-filled",w.nzVariant==="filled")("ant-select-underlined",w.nzVariant==="underlined")("ant-select-open",w.nzOpen)("ant-select-focused",w.nzOpen||w.focused)("ant-select-single",w.nzMode==="default")("ant-select-multiple",w.nzMode!=="default")("ant-select-rtl",w.dir==="rtl")},inputs:{nzId:"nzId",nzSize:"nzSize",nzStatus:"nzStatus",nzVariant:"nzVariant",nzOptionHeightPx:"nzOptionHeightPx",nzOptionOverflowSize:"nzOptionOverflowSize",nzDropdownClassName:"nzDropdownClassName",nzDropdownMatchSelectWidth:"nzDropdownMatchSelectWidth",nzDropdownStyle:"nzDropdownStyle",nzNotFoundContent:"nzNotFoundContent",nzPlaceHolder:"nzPlaceHolder",nzPlacement:"nzPlacement",nzMaxTagCount:"nzMaxTagCount",nzDropdownRender:"nzDropdownRender",nzCustomTemplate:"nzCustomTemplate",nzPrefix:"nzPrefix",nzSuffixIcon:"nzSuffixIcon",nzClearIcon:"nzClearIcon",nzRemoveIcon:"nzRemoveIcon",nzMenuItemSelectedIcon:"nzMenuItemSelectedIcon",nzTokenSeparators:"nzTokenSeparators",nzMaxTagPlaceholder:"nzMaxTagPlaceholder",nzMaxMultipleCount:[2,"nzMaxMultipleCount","nzMaxMultipleCount",W1],nzMode:"nzMode",nzFilterOption:"nzFilterOption",compareWith:"compareWith",nzAllowClear:[2,"nzAllowClear","nzAllowClear",ge],nzBorderless:[2,"nzBorderless","nzBorderless",ge],nzShowSearch:[2,"nzShowSearch","nzShowSearch",ge],nzLoading:[2,"nzLoading","nzLoading",ge],nzAutoFocus:[2,"nzAutoFocus","nzAutoFocus",ge],nzAutoClearSearchValue:[2,"nzAutoClearSearchValue","nzAutoClearSearchValue",ge],nzServerSearch:[2,"nzServerSearch","nzServerSearch",ge],nzDisabled:[2,"nzDisabled","nzDisabled",ge],nzOpen:[2,"nzOpen","nzOpen",ge],nzSelectOnTab:[2,"nzSelectOnTab","nzSelectOnTab",ge],nzBackdrop:[2,"nzBackdrop","nzBackdrop",ge],nzOptions:"nzOptions",nzShowArrow:[2,"nzShowArrow","nzShowArrow",ge]},outputs:{nzOnSearch:"nzOnSearch",nzScrollToBottom:"nzScrollToBottom",nzOpenChange:"nzOpenChange",nzBlur:"nzBlur",nzFocus:"nzFocus",nzOnClear:"nzOnClear"},exportAs:["nzSelect"],features:[Ut([{provide:Zn,useExisting:vn(()=>gt),multi:!0},{provide:oa,useValue:"select"}]),ja([J4]),Ae],decls:5,vars:26,consts:[["origin","cdkOverlayOrigin"],["feedbackIconTpl",""],["cdkOverlayOrigin","",3,"inputValueChange","tokenize","deleteItem","keydown","nzId","open","disabled","mode","nzNoAnimation","maxTagPlaceholder","removeIcon","placeHolder","maxTagCount","customTemplate","tokenSeparators","showSearch","autofocus","listOfTopItem","prefix"],[3,"showArrow","loading","search","suffixIcon","feedbackIcon","nzMaxMultipleCount","listOfValue","isMaxMultipleCountSet"],[3,"clearIcon"],["cdkConnectedOverlay","","nzConnectedOverlay","",3,"overlayOutsideClick","detach","positionChange","cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayMinWidth","cdkConnectedOverlayWidth","cdkConnectedOverlayOrigin","cdkConnectedOverlayTransformOriginOn","cdkConnectedOverlayPanelClass","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions"],[3,"status"],[3,"clear","clearIcon"],[3,"keydown","itemClick","scrollToBottom","itemSize","maxItemLength","matchWidth","nzNoAnimation","listOfContainerItem","menuItemSelectedIcon","notFoundContent","activatedValue","listOfSelectedValue","dropdownRender","compareWith","mode","isMaxMultipleCountReached"]],template:function(D,w){if(D&1){let I=S();r(0,"nz-select-top-control",2,0),f("inputValueChange",function(Fe){return h(I),v(w.onInputValueChange(Fe))})("tokenize",function(Fe){return h(I),v(w.onTokenSeparate(Fe))})("deleteItem",function(Fe){return h(I),v(w.onItemDelete(Fe))})("keydown",function(Fe){return h(I),v(w.onKeyDown(Fe))}),o(),_(2,Ws,3,8,"nz-select-arrow",3),_(3,Gs,1,1,"nz-select-clear",4),E(4,Ks,1,25,"ng-template",5),f("overlayOutsideClick",function(Fe){return h(I),v(w.onClickOutside(Fe))})("detach",function(){return h(I),v(w.setOpenState(!1))})("positionChange",function(Fe){return h(I),v(w.onPositionChange(Fe))})}if(D&2){let I=G(1);d("nzId",w.nzId)("open",w.nzOpen)("disabled",w.nzDisabled)("mode",w.nzMode)("@.disabled",!!(w.noAnimation!=null&&w.noAnimation.nzNoAnimation))("nzNoAnimation",w.noAnimation==null?null:w.noAnimation.nzNoAnimation)("maxTagPlaceholder",w.nzMaxTagPlaceholder)("removeIcon",w.nzRemoveIcon)("placeHolder",w.nzPlaceHolder)("maxTagCount",w.nzMaxTagCount)("customTemplate",w.nzCustomTemplate)("tokenSeparators",w.nzTokenSeparators)("showSearch",w.nzShowSearch)("autofocus",w.nzAutoFocus)("listOfTopItem",w.listOfTopItem)("prefix",w.nzPrefix),l(2),C(w.showArrow||w.hasFeedback&&w.status||w.isMaxMultipleCountSet?2:-1),l(),C(w.nzAllowClear&&!w.nzDisabled&&w.listOfValue.length?3:-1),l(),d("cdkConnectedOverlayHasBackdrop",w.nzBackdrop)("cdkConnectedOverlayMinWidth",w.nzDropdownMatchSelectWidth?null:w.triggerWidth)("cdkConnectedOverlayWidth",w.nzDropdownMatchSelectWidth?w.triggerWidth:null)("cdkConnectedOverlayOrigin",I)("cdkConnectedOverlayTransformOriginOn",".ant-select-dropdown")("cdkConnectedOverlayPanelClass",w.nzDropdownClassName)("cdkConnectedOverlayOpen",w.nzOpen)("cdkConnectedOverlayPositions",w.positions)}},dependencies:[Fo,Mn,Oo,a0,X4,r0,zn,U1,Lr,o0],encapsulation:2,data:{animation:[W4]},changeDetection:0})),gt})(),s0=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=_t({type:n});static \u0275inj=ft({imports:[sa,o0,n0,Fo,la,l0,r0,a0,c0,i0]})}return n})();var Zs=["optionTemplate"],Js=n=>({$implicit:n}),e6=(n,t)=>t.value;function t6(n,t){n&1&&At(0)}function i6(n,t){if(n&1&&E(0,t6,1,0,"ng-container",2),n&2){let e=u().$implicit;d("ngTemplateOutlet",t)("ngTemplateOutletContext",y(2,Js,e))}}function n6(n,t){if(n&1&&(p(0,"img",3),r(1,"span"),c(2),o()),n&2){let e=u().$implicit;d("src",e.icon,_e)("alt",e.label),l(2),b(e.label)}}function o6(n,t){if(n&1&&(r(0,"nz-option",1),_(1,i6,1,4,"ng-container")(2,n6,3,3),o()),n&2){let e,i=t.$implicit,a=u();d("nzValue",i.value)("nzLabel",i.label)("nzDisabled",i.disabled??!1)("nzCustomContent",!!a.optionTemplate()||!!i.icon),l(),C((e=a.optionTemplate())?1:i.icon?2:-1,e)}}var Ai=class n{optionTemplate=Sn("optionTemplate");options=B.required();placeholder=B("Seleccione");showSearch=B(!0);disabled=B(!1);allowClear=B(!1);loading=B(!1);size=B("default");multiple=B(!1);valueChange=Wi();searchChange=Wi();value=W(null);isDisabled=W(!1);onChange=()=>{};onTouched=()=>{};constructor(){bt(()=>{this.isDisabled.set(this.disabled())})}onValueChange(t){this.value.set(t),this.onChange(t),this.onTouched(),this.valueChange.emit(t)}onSearch(t){this.searchChange.emit(t)}writeValue(t){this.value.set(t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.isDisabled.set(t)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=z({type:n,selectors:[["app-core-select-2"]],contentQueries:function(e,i,a){e&1&&Ei(a,i.optionTemplate,Zs,5),e&2&&Kt()},inputs:{options:[1,"options"],placeholder:[1,"placeholder"],showSearch:[1,"showSearch"],disabled:[1,"disabled"],allowClear:[1,"allowClear"],loading:[1,"loading"],size:[1,"size"],multiple:[1,"multiple"]},outputs:{valueChange:"valueChange",searchChange:"searchChange"},features:[Ut([{provide:Zn,useExisting:vn(()=>n),multi:!0}])],decls:3,vars:8,consts:[[3,"ngModelChange","nzOnSearch","ngModel","nzPlaceHolder","nzShowSearch","nzDisabled","nzAllowClear","nzLoading","nzSize","nzMode"],[3,"nzValue","nzLabel","nzDisabled","nzCustomContent"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["width","24","height","24",3,"src","alt"]],template:function(e,i){e&1&&(r(0,"nz-select",0),f("ngModelChange",function(s){return i.onValueChange(s)})("nzOnSearch",function(s){return i.onSearch(s)}),L(1,o6,3,5,"nz-option",1,e6),o()),e&2&&(d("ngModel",i.value())("nzPlaceHolder",i.placeholder())("nzShowSearch",i.showSearch())("nzDisabled",i.isDisabled())("nzAllowClear",i.allowClear())("nzLoading",i.loading())("nzSize",i.size())("nzMode",i.multiple()?"multiple":"default"),l(),Y(i.options()))},dependencies:[s0,ca,sa,Ot,Se,de,Qt],styles:["[_nghost-%COMP%]{display:block;width:100%}nz-select[_ngcontent-%COMP%]{width:100%;min-width:100px}nz-option[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{vertical-align:middle;margin-right:8px;border-radius:4px;object-fit:cover}nz-option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{vertical-align:middle}"]})};var a6=n=>({"modal-body":n}),r6=n=>({"has-danger":n});function l6(n,t){if(n&1){let e=S();r(0,"div",0)(1,"h4",9),c(2,"DATOS DE ROL"),o(),r(3,"button",10),f("click",function(){h(e);let a=u();return v(a.close())}),o()()}}function c6(n,t){if(n&1){let e=S();r(0,"div",8)(1,"button",11),f("click",function(){h(e);let a=u();return v(a.close())}),c(2,"Cancelar"),o(),r(3,"button",12),f("click",function(){h(e);let a=u();return v(a.save())}),c(4,"Guardar"),o()()}}function s6(n,t){n&1&&p(0,"app-loading")}var Ho=class n{constructor(t){this.modalActive=t}accion="add";rolModule;isModal=!0;institution_id="";uid="";module_id="";rol_id="";showOption=!0;onSave=new He(!1);eventChange=new H;rolModuleService=g(ei);moduleService=g(an);authService=g(A);modulesOptions=te(()=>this.modules().map(t=>({value:t.id+"",label:t.denomination})));subscriptions=[];modules=W([]);ngOnInit(){return x(this,null,function*(){this.institution_id===""&&(this.institution_id=this.authService.institucionData?.idinstitucion+""),this.uid===""&&(this.uid=this.authService.userData.id+"");let t=this.onSave.subscribe(e=>{e&&this.save()});if(this.subscriptions.push(t),this.accion=="update"){if(!this.rolModule)return;this.form.patchValue({orderList:this.rolModule.orderList+"",moduleId:this.rolModule.module_id+"",rolId:this.rolModule.rol_id+""})}else this.accion=="add"&&this.form.patchValue({rolId:this.rol_id});this.getModules()})}getModules(){return x(this,null,function*(){let t=yield this.moduleService.list({idinstitucion:this.institution_id,state:"1"});t.state==="success"&&this.modules.set(t.data??[])})}ngAfterViewInit(){setTimeout(()=>{document.getElementById("orderListRo")?.focus()},150)}form=new xe({orderList:new F("0",{validators:[N.required],nonNullable:!0}),moduleId:new F("",{validators:[N.required],nonNullable:!0}),rolId:new F("0",{validators:[N.required],nonNullable:!0})});get orderListControl(){return this.form.get("orderList")}get moduleIdControl(){return this.form.get("moduleId")}get rolIdControl(){return this.form.get("rolId")}close(){this.isModal?this.modalActive.dismiss():this.eventChange.emit({event:"close",data:void 0})}submit=!1;loading=!1;save(){return x(this,null,function*(){if(this.submit=!0,!this.form.valid)return;this.submit=!1;let t=this.form.value;if(this.accion=="add"){let e={createBy:this.uid,orderList:+t.orderList,module_id:+t.moduleId,rol_id:+t.rolId};this.loading=!0;let i=yield this.rolModuleService.add(e);this.loading=!1,i.state=="success"&&(this.isModal?this.modalActive.close(i.data):this.eventChange.emit({event:"add",data:i.data}))}else if(this.accion=="update"){let e={id:+this.rolModule?.id,orderList:+t.orderList,module_id:+this.rolModule?.module_id,rol_id:+this.rolModule?.rol_id};this.loading=!0;let i=yield this.rolModuleService.update(e);this.loading=!1,i.state=="success"&&(this.isModal?this.modalActive.close(e):this.eventChange.emit({event:"update",data:e}))}})}ngOnDestroy(){this.subscriptions.forEach(t=>{t.unsubscribe()})}static \u0275fac=function(e){return new(e||n)(ee(ae,8))};static \u0275cmp=z({type:n,selectors:[["app-ui-rol-module-form"]],inputs:{accion:"accion",rolModule:"rolModule",isModal:"isModal",institution_id:"institution_id",uid:"uid",module_id:"module_id",rol_id:"rol_id",showOption:"showOption",onSave:"onSave"},outputs:{eventChange:"eventChange"},decls:11,vars:13,consts:[[1,"modal-header"],[1,"",3,"ngClass"],[1,"container",3,"submit","formGroup"],[1,"form-group","row",3,"ngClass"],["for","moduleIdRo",1,"control-label","col-12","col-md-4"],[1,"col-12","col-md-8"],["formControlName","moduleId",3,"options"],[1,"left",3,"control","show"],[1,"modal-footer"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["app-button","","size","lg","color","dark","variant","outline",3,"click"],["app-button","","size","lg",3,"click"]],template:function(e,i){e&1&&(_(0,l6,4,0,"div",0),r(1,"div",1)(2,"form",2),f("submit",function(){return i.save()}),r(3,"div",3)(4,"label",4),c(5,"M\xF3dulo "),o(),r(6,"div",5),p(7,"app-core-select-2",6)(8,"app-control-messages",7),o()()()(),_(9,c6,5,0,"div",8),_(10,s6,1,0,"app-loading")),e&2&&(C(i.isModal?0:-1),l(),d("ngClass",y(9,a6,i.isModal)),l(),d("formGroup",i.form),l(),d("ngClass",y(11,r6,i.moduleIdControl.invalid&&(i.moduleIdControl.touched||i.submit))),l(4),d("options",i.modulesOptions()),l(),d("control",i.moduleIdControl)("show",i.submit),l(),C(i.showOption?9:-1),l(),C(i.loading?10:-1))},dependencies:[ye,we,de,ze,Ee,Te,Pe,U,ie,Ai,zt,Zt],encapsulation:2})};var d6=n=>({active:n}),d0=(n,t)=>({item:n,indice:t}),m6=(n,t)=>t.id;function p6(n,t){if(n&1){let e=S();r(0,"button",10),f("click",function(){h(e);let a=u();return v(a.saveOrder())}),c(1,"Guardar orden"),o()}}function u6(n,t){if(n&1){let e=S();r(0,"tr",15,2),f("elementEvents",function(a){let s=h(e).$implicit,m=u(2);return v(m.select(s,a))}),r(2,"td",16),c(3),o(),r(4,"td",16),c(5),o(),r(6,"td",16),c(7),o(),r(8,"td",16)(9,"button",17),f("click",function(a){let s=h(e).$implicit,m=G(1);return u(2).select(s),v(m.open(a))}),p(10,"i",18),o()()()}if(n&2){let e=t.$implicit,i=t.$index,a=u(2),s=G(5);d("ngClass",y(6,d6,e.id==a.selected.id))("contextMenu",s)("contextMenuValue",be(8,d0,e,i)),l(3),O(" ",(i+1).zfill(2)," "),l(2),b(e.rol==null?null:e.rol.denominacion_rol),l(2),b(e.module==null?null:e.module.denomination)}}function h6(n,t){if(n&1){let e=S();r(0,"div")(1,"table",11)(2,"thead")(3,"tr")(4,"th",12),c(5,"#"),o(),r(6,"th"),c(7,"Rol"),o(),r(8,"th"),c(9,"M\xF3dulo"),o(),p(10,"th",12),o()(),r(11,"tbody",13),f("onUpdate",function(a){h(e);let s=u();return v(s.changeList(a))}),L(12,u6,11,11,"tr",14,m6),o()()()}if(n&2){let e=u();l(11),d("items",e.rolModules),l(),Y(e.rolModules)}}function v6(n,t){if(n&1){let e=S();r(0,"app-ui-rol-module-card",20,2),f("elementEvents",function(a){let s=h(e).$implicit,m=u(2);return v(m.select(s,a))})("openMenu",function(a){let s=h(e).$implicit,m=G(1);return u(2).select(s),v(m.open(a))}),o()}if(n&2){let e=t.$implicit,i=t.$index,a=u(2),s=G(5);d("card",R(a.mode))("item",e)("isActived",e.id==a.selected.id)("contextMenu",s)("showOption",!0)("contextMenuValue",be(7,d0,e,i))}}function g6(n,t){n&1&&p(0,"app-ui-message-empty")}function f6(n,t){if(n&1&&(r(0,"div"),L(1,v6,2,10,"app-ui-rol-module-card",19,J,!1,g6,1,0,"app-ui-message-empty"),o()),n&2){let e=u();Ce(he("_",e.mode)),l(),Y(e.rolModules)}}function _6(n,t){n&1&&(r(0,"div",21)(1,"div",22),p(2,"i",23),o(),r(3,"div",24),c(4,"Ver detalles"),o(),p(5,"div",25),o())}function C6(n,t){n&1&&(r(0,"div",21)(1,"div",22),p(2,"i",26),o(),r(3,"div",24),c(4,"Adicionar"),o(),r(5,"div",25),c(6,"F1"),o()())}function x6(n,t){n&1&&(r(0,"div",21)(1,"div",22),p(2,"i",27),o(),r(3,"div",24),c(4,"Editar"),o(),p(5,"div",25),o())}function b6(n,t){n&1&&(r(0,"div",21)(1,"div",22),p(2,"i",28),o(),r(3,"div",24),c(4,"Eliminar"),o(),p(5,"div",25),o())}function S6(n,t){}function y6(n,t){n&1&&(r(0,"div",21)(1,"div",22),p(2,"img",29),o(),r(3,"div",24),c(4,"Exportar"),o(),p(5,"div",25),o())}function M6(n,t){}function z6(n,t){n&1&&(r(0,"div",21)(1,"div",22),p(2,"i",30),o(),r(3,"div",24),c(4,"Actualizar lista"),o(),p(5,"div",25),o())}function w6(n,t){n&1&&(r(0,"div",21)(1,"div",22),p(2,"img",31),o(),r(3,"div",24),c(4,"En formato PDF"),o(),p(5,"div",25),o())}function E6(n,t){n&1&&(r(0,"div",21)(1,"div",22),p(2,"img",32),o(),r(3,"div",24),c(4,"En formato Excel"),o(),p(5,"div",25),o())}function T6(n,t){n&1&&p(0,"app-loading")}var Uo=class n{module_id="";rol_id="";showPagination=!0;mode="table";size="lg";eventChange=new H;rolModules=[];load=!0;rolModuleService=g(ei);authService=g(A);confirmationService=g(X);modalService=g(Ie);filter={texto:""};loading=!1;ngOnInit(){return x(this,null,function*(){this.filter.module_id=this.module_id,this.filter.rol_id=this.rol_id,this.filter.idinstitucion=this.authService.userData.idinstitucion+"",this.load&&this.resetPage()})}page=1;resetPage(){return x(this,null,function*(){this.page=1,this.list()})}onPage(){this.list()}list(){return x(this,null,function*(){this.loading=!0,this.showPagination&&(this.filter.page=this.page);let t=yield this.rolModuleService.list(this.filter);this.loading=!1,t&&t.state=="success"&&(this.rolModules=t.data??[])})}add(){this.openForm()}update(t){this.openForm("update",t)}openForm(t="add",e){return x(this,null,function*(){try{let i=yield this.modalService.open(Ho,{backdrop:"static",keyboard:!1,size:"lg"});i.componentInstance.accion=t,i.componentInstance.module_id=this.filter.module_id,i.componentInstance.rol_id=this.filter.rol_id,t=="update"&&(i.componentInstance.rolModule=JSON.parse(JSON.stringify(e)));let a=yield i.result;if(t=="add")this.rolModules.unshift(a);else if(t=="update"){if(!e)return;Object.assign(e,a)}}catch{}})}remove(t,e=-1){return x(this,null,function*(){if(!(yield this.confirmationService.create("Eliminar","\xBFEst\xE1 seguro de eliminar el registro?")))return;this.loading=!0;let a=yield this.rolModuleService.delete({id:t.id,module_id:t.module_id,rol_id:t.rol_id});this.loading=!1,a.state=="success"&&(this.rolModules.splice(e,1),this.selected={})})}openDetail(t){return x(this,null,function*(){try{let e=yield this.modalService.open(So,{backdrop:"static",keyboard:!1,size:"lg"});e.componentInstance.item=t,e.componentInstance.id=t.id,e.componentInstance.module_id=t.module_id,e.componentInstance.rol_id=t.rol_id;let i=yield e.result}catch{}})}searchChange(){this.resetPage()}stateFilterChange(){this.resetPage()}selected={};select(t,e="click"){t.id==this.selected.id&&e!="dblclick"||(this.selected=t,e=="dblclick"&&this.openDetail(t),this.eventChange.emit({event:e,data:JSON.parse(JSON.stringify(t))}))}canAdd=()=>this.rolModuleService.canAdd;canEdit=()=>this.rolModuleService.canEdit;canRemove=()=>this.rolModuleService.canRemove;canChangeState=()=>this.rolModuleService.canChangeState;canExport=()=>this.rolModuleService.canExport;canExportExcel=()=>this.rolModuleService.canExportExcel;canExportPdf=()=>this.rolModuleService.canExportPdf;export(t="pdf"){return x(this,null,function*(){yield this.rolModuleService.export(this.filter,t)})}changeMode(t){this.mode=t}changes=[];changeList(t){if(this.rolModules.forEach((e,i)=>{e.order_new=i+1}),this.detectSaveOrder(),this.mode!="table"){let e=this.mode;this.mode="table",setTimeout(()=>{this.mode=e})}}detectSaveOrder(){this.changes=[],this.rolModules.forEach((t,e)=>{typeof t.order_new<"u"&&t.order_new!=t.orderList&&this.changes.push({id:t.id,module_id:t.module_id,rol_id:t.rol_id,orderList:t.order_new})})}saveOrder(){return x(this,null,function*(){if(!(yield this.confirmationService.create("Guardar Orden","\xBFEst\xE1 seguro de guardar el orden?")))return;this.loading=!0,(yield this.rolModuleService.saveOrder(this.changes)).state=="success"&&(this.rolModules.forEach((i,a)=>{i.orderList=i.order_new??i.orderList}),this.changes=[]),this.loading=!1})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=z({type:n,selectors:[["app-ui-rol-module-list"]],inputs:{module_id:"module_id",rol_id:"rol_id",showPagination:"showPagination",mode:"mode",size:"size",rolModules:"rolModules",load:"load"},outputs:{eventChange:"eventChange"},decls:19,vars:21,consts:[["menu",""],["SubMenu",""],["ngxContextMenu","ngxContextMenu"],["type","button",1,"btn","btn-warning","btn-md-custom","btn-order"],[3,"searchChange","onAdd","onExport","onSearch","reload","pageChange","modeChange","search","canExport","canExportExcel","canExportPdf","page","showPagination","canNew","mode","size"],[3,"class"],["contextMenuItem","",3,"execute"],["contextMenuItem","",3,"execute","visible"],["contextMenuItem","",3,"divider"],["contextMenuItem","",3,"visible","subMenu"],["type","button",1,"btn","btn-warning","btn-md-custom","btn-order",3,"click"],[1,"table","table-sm","table-box","table-fixed"],[2,"width","40px"],["sortablejs","",3,"onUpdate","items"],[3,"ngClass","contextMenu","contextMenuValue"],[3,"elementEvents","ngClass","contextMenu","contextMenuValue"],[1,"text-center"],[1,"btn","btn-more",3,"click"],[1,"ion-md-more"],[3,"item","isActived","card","contextMenu","showOption","contextMenuValue"],[3,"elementEvents","openMenu","item","isActived","card","contextMenu","showOption","contextMenuValue"],[1,"_items"],[1,"icons"],[1,"icons","icon","ion-md-list-box"],[1,"label","w-100"],[1,"atajo"],[1,"icons","icon","ion-md-add"],[1,"icons","icon","ion-md-create"],[1,"icons","icon","ion-md-trash"],["src","https://cdn-icons-png.flaticon.com/512/5414/5414637.png","alt",""],[1,"icons","icon","ion-md-refresh"],["src","assets/img/icons/pdf.png","alt",""],["src","assets/img/icons/excel.png","alt",""]],template:function(e,i){if(e&1){let a=S();_(0,p6,2,0,"button",3),r(1,"app-ui-header-management",4),le("searchChange",function(m){return h(a),Q(i.filter.texto,m)||(i.filter.texto=m),v(m)}),f("onAdd",function(){return h(a),v(i.add())})("onExport",function(m){return h(a),v(i.export(m))})("onSearch",function(){return h(a),v(i.searchChange())})("reload",function(){return h(a),v(i.resetPage())}),le("pageChange",function(m){return h(a),Q(i.page,m)||(i.page=m),v(m)}),f("pageChange",function(){return h(a),v(i.onPage())}),le("modeChange",function(m){return h(a),Q(i.mode,m)||(i.mode=m),v(m)}),o(),_(2,h6,14,1,"div")(3,f6,4,4,"div",5),r(4,"context-menu",null,0),E(6,_6,6,0,"ng-template",6),f("execute",function(m){return h(a),v(i.openDetail(m.value.item))}),E(7,C6,7,0,"ng-template",7),f("execute",function(){return h(a),v(i.add())}),E(8,x6,6,0,"ng-template",7),f("execute",function(m){return h(a),v(i.update(m.value.item))}),E(9,b6,6,0,"ng-template",7),f("execute",function(m){return h(a),v(i.remove(m.value.item,m.value.indice))}),E(10,S6,0,0,"ng-template",8)(11,y6,6,0,"ng-template",9)(12,M6,0,0,"ng-template",8)(13,z6,6,0,"ng-template",6),f("execute",function(){return h(a),v(i.list())}),o(),r(14,"context-menu",null,1),E(16,w6,6,0,"ng-template",7),f("execute",function(){return h(a),v(i.export())}),E(17,E6,6,0,"ng-template",7),f("execute",function(){return h(a),v(i.export("excel"))}),o(),_(18,T6,1,0,"app-loading")}if(e&2){let a=G(15);C(i.changes.length?0:-1),l(),oe("search",i.filter.texto),d("canExport",i.rolModuleService.canExport)("canExportExcel",i.rolModuleService.canExportExcel)("canExportPdf",i.rolModuleService.canExportPdf),oe("page",i.page),d("showPagination",i.showPagination)("canNew",i.rolModuleService.canAdd),oe("mode",i.mode),d("size",i.size),l(),C(i.mode=="table"?2:3),l(5),d("visible",i.canAdd),l(),d("visible",i.canEdit),l(),d("visible",i.canRemove),l(),d("divider",!0),l(),d("visible",i.canExport)("subMenu",a),l(),d("divider",!0),l(4),d("visible",i.canExportPdf),l(),d("visible",i.canExportExcel),l(),C(i.loading?18:-1)}},dependencies:[ut,pt,mt,dt,U,Se,ie,Je,Mt,on,wt,ht,Yt,mo],encapsulation:2})};var m0=n=>({active:n}),P6=n=>({"modal-body p-0":n});function V6(n,t){if(n&1){let e=S();r(0,"div",0)(1,"h4",8),c(2," DATOS DEL ROL: "),r(3,"b")(4,"b"),c(5),o()()(),r(6,"button",9),f("click",function(){h(e);let a=u();return v(a.close())}),o()()}if(n&2){let e=u();l(5),b(e.item.denominacion_rol)}}function k6(n,t){if(n&1&&(r(0,"div",7)(1,"div",10)(2,"div",11)(3,"label",12),c(4," Estado: "),o(),r(5,"div",13),c(6),o()(),r(7,"div",11)(8,"label",12),c(9," Denominaci\xF3n: "),o(),r(10,"div",13),c(11),o()(),r(12,"div",11)(13,"label",12),c(14," Aplicaciones: "),o(),r(15,"div",13),c(16),o()()(),r(17,"div",14),p(18,"app-ui-rol-detail-list",15),o()()),n&2){let e=u();d("hidden",e.tab!="datos"),l(6),O(" ",e.item.estado_rol," "),l(5),O(" ",e.item.denominacion_rol," "),l(5),O(" ",e.item.sistema," "),l(2),d("sistema",R(e.item.sistema))("rol_idrol",R(e.item.idrol))}}function D6(n,t){if(n&1&&(r(0,"div",7),p(1,"app-ui-rol-module-list",16),o()),n&2){let e=u();d("hidden",e.tab!="modulos"),l(),d("rol_id",R(e.item.idrol))}}var Lo=class n{item={};isModal=!0;tab="datos";activeModal=g(ae);ngOnInit(){this.spanel(this.tab)}close(){this.isModal&&this.activeModal.dismiss()}tabs={};spanel(t){this.tab=t,this.tabs[t]=!0}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=z({type:n,selectors:[["app-ui-rol-detail"]],inputs:{item:"item",isModal:"isModal",tab:"tab"},decls:13,vars:12,consts:[[1,"modal-header"],[1,"nav","nav-tabs","_nav_primary"],[1,"nav-item",3,"click"],["href","javascript:void(0)",1,"nav-link",3,"ngClass"],["src","https://cdn-icons-png.flaticon.com/512/4295/4295930.png","alt",""],["src","https://cdn-icons-png.flaticon.com/512/17296/17296078.png","alt",""],[1,"",3,"ngClass"],[3,"hidden"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"px-3"],[1,"d-flex","justify-content-between"],["for",""],[1,"text-end","data"],[1,"",2,"min-height","500px"],[3,"sistema","rol_idrol"],[3,"rol_id"]],template:function(e,i){e&1&&(_(0,V6,7,1,"div",0),r(1,"ul",1)(2,"li",2),f("click",function(){return i.spanel("datos")}),r(3,"a",3),p(4,"img",4),c(5," Datos "),o()(),r(6,"li",2),f("click",function(){return i.spanel("modulos")}),r(7,"a",3),p(8,"img",5),c(9," M\xF3dulos "),o()()(),r(10,"div",6),_(11,k6,19,8,"div",7),_(12,D6,2,3,"div",7),o()),e&2&&(C(i.isModal?0:-1),l(3),d("ngClass",y(6,m0,i.tab=="datos")),l(4),d("ngClass",y(8,m0,i.tab=="modulos")),l(3),d("ngClass",y(10,P6,i.isModal)),l(),C(i.tabs.datos?11:-1),l(),C(i.tabs.modulos?12:-1))},dependencies:[bo,Uo,U],styles:[".modal-body[_ngcontent-%COMP%]{min-height:calc(100vh - 150px)}"]})};var I6=/[&<>"']/g,Py=RegExp(I6.source);function O6(){return new da}var da=class{constructor(){this._selected=[]}get value(){return this._selected}select(t,e,i){if(t.selected=!0,(!t.children||!e&&i)&&this._selected.push(t),e)if(t.parent){let a=t.parent.children.length,s=t.parent.children.filter(m=>m.selected).length;t.parent.selected=a===s}else t.children&&(this._setChildrenSelectedState(t.children,!0),this._removeChildren(t),i&&this._activeChildren(t)?this._selected=[...this._selected.filter(a=>a.parent!==t),t]:this._selected=[...this._selected,...t.children.filter(a=>!a.disabled)])}unselect(t,e){if(this._selected=this._selected.filter(i=>i!==t),t.selected=!1,e)if(t.parent&&t.parent.selected){let i=t.parent.children;this._removeParent(t.parent),this._removeChildren(t.parent),this._selected.push(...i.filter(a=>a!==t&&!a.disabled)),t.parent.selected=!1}else t.children&&(this._setChildrenSelectedState(t.children,!1),this._removeChildren(t))}clear(t){this._selected=t?this._selected.filter(e=>e.disabled):[]}_setChildrenSelectedState(t,e){for(let i of t)i.disabled||(i.selected=e)}_removeChildren(t){this._selected=[...this._selected.filter(e=>e.parent!==t),...t.children.filter(e=>e.parent===t&&e.disabled&&e.selected)]}_removeParent(t){this._selected=this._selected.filter(e=>e!==t)}_activeChildren(t){return t.children.every(e=>!e.disabled||e.selected)}},F6=new Ze("ng-select-selection-model");var p0=(()=>{let t=class t{};t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=_t({type:t}),t.\u0275inj=ft({providers:H6()});let n=t;return n})();function H6(){return[{provide:F6,useValue:O6}]}var A6=n=>({"modal-body":n}),Ui=n=>({"has-danger":n});function U6(n,t){if(n&1){let e=S();r(0,"div",0)(1,"h4",26),c(2,"DATOS DEL ROL AA"),o(),r(3,"button",27),f("click",function(){h(e);let a=u();return v(a.close())}),o()()}}function L6(n,t){if(n&1){let e=S();r(0,"div",25)(1,"button",28),f("click",function(){h(e);let a=u();return v(a.close())}),c(2," Cancelar "),o(),r(3,"button",29),f("click",function(){h(e);let a=u();return v(a.save())}),c(4," Guardar "),o()()}}function Y6(n,t){n&1&&p(0,"app-loading")}var Yo=class n{constructor(t){this.modalActive=t}accion="add";rol;isModal=!0;idinstitution="";idaplicacion="";uid="";showOption=!0;onSave=new He(!1);eventChange=new H;rolService=g(Rt);authService=g(A);cs=g(ke);states=this.rolService.states;applications=this.cs.getSignal("applicationsAll");suites=this.cs.getSignal("suites");applicationOptions=te(()=>this.applications().map(t=>({value:t.codigo,label:t.denominacion})));stateOptions=te(()=>this.states.map(t=>({value:t.code+"",label:t.denomination})));ubicarOptions=[{value:"",label:"Seleccione"},{value:"1",label:"Si"},{value:"0",label:"No"}];yesNoOptions=[{value:"1",label:"Si"},{value:"0",label:"No"}];subscriptions=[];ngOnInit(){return x(this,null,function*(){this.idinstitution===""&&(this.idinstitution=this.authService.institucionData?.idinstitucion+""),this.uid===""&&(this.uid=this.authService.userData.id+"");let t=this.onSave.subscribe(e=>{e&&this.save()});if(this.subscriptions.push(t),this.accion=="update"){if(console.log(this.rol),!this.rol)return;let e=[];this.rol.sistema!=""&&(e=this.rol.sistema.split(",")),this.form.patchValue({applications:e,codigo_rol:this.rol?.codigo_rol,denominacion_rol:this.rol?.denominacion_rol,ubicar:this.rol?.ubicar,estado_rol:this.rol?.estado_rol,inApp:this.rol?.inApp,inWeb:this.rol?.inWeb})}else console.log(`this.idaplicacion: ${this.idaplicacion}`),this.form.patchValue({applications:[this.idaplicacion],inApp:"1",inWeb:"1"});yield this.cs.getCatalogos({idinstitution:this.idinstitution,applicationsAll:!0,suites:!0}),this.applications_suite=this.applications(),this.accion=="update"})}ngAfterViewInit(){setTimeout(()=>{document.getElementById("codigo")?.focus()},150)}form=new xe({applications:new F([],{validators:[N.required],nonNullable:!0}),suite:new F("",{validators:[],nonNullable:!0}),codigo_rol:new F("",{validators:[N.required],nonNullable:!0}),ubicar:new F("",{validators:[N.required],nonNullable:!0}),estado_rol:new F("1",{validators:[N.required],nonNullable:!0}),denominacion_rol:new F("",{validators:[N.required],nonNullable:!0}),inApp:new F("",{validators:[N.required],nonNullable:!0}),inWeb:new F("",{validators:[N.required],nonNullable:!0})});get applicationsControl(){return this.form.get("applications")}get suiteControl(){return this.form.get("suite")}get ubicarControl(){return this.form.get("ubicar")}get codigoControl(){return this.form.get("codigo_rol")}get estadoControl(){return this.form.get("estado_rol")}get denominacionControl(){return this.form.get("denominacion_rol")}get inAppControl(){return this.form.get("inApp")}get inWebControl(){return this.form.get("inWeb")}close(){this.isModal?this.modalActive.dismiss():this.eventChange.emit({event:"close",data:void 0})}submit=!1;loading=!1;save(){return x(this,null,function*(){if(this.submit=!0,!this.form.valid)return;this.submit=!1;let t=this.form.value;if(this.accion=="add"){let e={codigo_rol:t.codigo_rol,denominacion_rol:t.denominacion_rol,estado_rol:t.estado_rol,uid:this.uid,ubicar:t.ubicar,sistema:t.applications.join(","),inApp:t.inApp,inWeb:t.inWeb};try{this.loading=!0;let i=yield this.rolService.add(e);this.loading=!1,i.state=="success"&&(this.isModal?this.modalActive.close(i.data):this.eventChange.emit({event:"add",data:i.data}))}catch(i){console.log(i.message)}}else if(this.accion=="update"){let e={idrol:this.rol?.idrol,codigo_rol:t.codigo_rol,denominacion_rol:t.denominacion_rol,estado_rol:t.estado_rol,ubicar:t.ubicar,sistema:t.applications.join(","),inApp:t.inApp,inWeb:t.inWeb};try{this.loading=!0;let i=yield this.rolService.update(e);this.loading=!1,i.state=="success"&&(this.isModal?this.modalActive.close(e):this.eventChange.emit({event:"update",data:e}))}catch(i){console.log(i.message)}}})}applications_suite=[];changeSuite(){this.suiteControl?.value===""?this.applications_suite=this.applications():this.suiteControl?.value==="0"?this.applications_suite=this.applications().filter(t=>t.suites==""):this.applications_suite=this.applications().filter(t=>t.suites==this.suiteControl?.value),this.applicationsControl?.setValue([])}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}static \u0275fac=function(e){return new(e||n)(ee(ae,8))};static \u0275cmp=z({type:n,selectors:[["app-ui-rol-form"]],inputs:{accion:"accion",rol:"rol",isModal:"isModal",idinstitution:"idinstitution",idaplicacion:"idaplicacion",uid:"uid",showOption:"showOption",onSave:"onSave"},outputs:{eventChange:"eventChange"},decls:50,vars:48,consts:[[1,"modal-header"],[1,"",3,"ngClass"],[1,"form-horizontal","form-label-left",3,"submit","formGroup"],[1,"row"],[1,"col-md-12"],[1,"form-group","row",3,"ngClass"],["for","sistema",1,"control-label","col-12","col-md-4"],[1,"col-12","col-md-8"],["formControlName","applications",3,"options","multiple"],[1,"left",3,"control","show"],["for","codigo",1,"control-label","col-12","col-md-4"],["autocomplete","off","type","text","name","codigo","id","codigo","formControlName","codigo_rol",1,"form-control"],["for","denominacion",1,"control-label","col-12","col-md-4"],["type","text","name","denominacion","id","denominacion","formControlName","denominacion_rol",1,"form-control"],[1,"row","form-group"],[1,"col-12","col-md-3",3,"ngClass"],["for","estado",1,""],[1,""],["formControlName","estado_rol",3,"options"],["for","ubicar",1,""],["formControlName","ubicar",3,"options"],["for","inWeb",1,""],["formControlName","inWeb",3,"options"],["for","inApp",1,""],["formControlName","inApp",3,"options"],[1,"modal-footer"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["type","button",1,"btn","btn-outline-secondary","btn-lg-medio","mr-1",3,"click"],["type","button",1,"btn","btn-primary","btn-lg-medio",3,"click"]],template:function(e,i){e&1&&(_(0,U6,4,0,"div",0),r(1,"div",1)(2,"form",2),f("submit",function(){return i.save()}),r(3,"div",3)(4,"div",4)(5,"div",5)(6,"label",6),c(7,"Aplicaci\xF3n "),o(),r(8,"div",7),p(9,"app-core-select-2",8)(10,"app-control-messages",9),o()(),r(11,"div",5)(12,"label",10),c(13,"C\xF3digo "),o(),r(14,"div",7),p(15,"input",11)(16,"app-control-messages",9),o()(),r(17,"div",5)(18,"label",12),c(19,"Denominaci\xF3n "),o(),r(20,"div",7),p(21,"input",13)(22,"app-control-messages",9),o()(),r(23,"div",14)(24,"div",15)(25,"label",16),c(26,"Estado "),o(),r(27,"div",17),p(28,"app-core-select-2",18)(29,"app-control-messages",9),o()(),r(30,"div",15)(31,"label",19),c(32,"Asignar ubicaci\xF3n "),o(),r(33,"div",17),p(34,"app-core-select-2",20)(35,"app-control-messages",9),o()(),r(36,"div",15)(37,"label",21),c(38,"\xBFMostrar web? "),o(),r(39,"div",17),p(40,"app-core-select-2",22)(41,"app-control-messages",9),o()(),r(42,"div",15)(43,"label",23),c(44,"\xBFMostrar app? "),o(),r(45,"div",17),p(46,"app-core-select-2",24)(47,"app-control-messages",9),o()()()()()()(),_(48,L6,5,0,"div",25),_(49,Y6,1,0,"app-loading")),e&2&&(C(i.isModal?0:-1),l(),d("ngClass",y(32,A6,i.isModal)),l(),d("formGroup",i.form),l(3),d("ngClass",y(34,Ui,(i.submit||i.applicationsControl.touched)&&i.applicationsControl.invalid)),l(4),d("options",i.applicationOptions())("multiple",!0),l(),d("control",i.applicationsControl)("show",i.submit),l(),d("ngClass",y(36,Ui,(i.submit||i.codigoControl.touched)&&i.codigoControl.invalid)),l(5),d("control",i.codigoControl)("show",i.submit),l(),d("ngClass",y(38,Ui,(i.submit||i.denominacionControl.touched)&&i.denominacionControl.invalid)),l(5),d("control",i.denominacionControl)("show",i.submit),l(2),d("ngClass",y(40,Ui,(i.submit||i.estadoControl.touched)&&i.estadoControl.invalid)),l(4),d("options",i.stateOptions()),l(),d("control",i.estadoControl)("show",i.submit),l(),d("ngClass",y(42,Ui,(i.submit||i.ubicarControl.touched)&&i.ubicarControl.invalid)),l(4),d("options",i.ubicarOptions),l(),d("control",i.ubicarControl)("show",i.submit),l(),d("ngClass",y(44,Ui,(i.submit||i.inWebControl.touched)&&i.inWebControl.invalid)),l(4),d("options",i.yesNoOptions),l(),d("control",i.inWebControl)("show",i.submit),l(),d("ngClass",y(46,Ui,(i.submit||i.inAppControl.touched)&&i.inAppControl.invalid)),l(4),d("options",i.yesNoOptions),l(),d("control",i.inAppControl)("show",i.submit),l(),C(i.showOption?48:-1),l(),C(i.loading?49:-1))},dependencies:[ye,we,qe,de,ze,Ee,Te,Pe,U,ie,p0,Ai],encapsulation:2})};var R6=n=>({active:n});function N6(n,t){if(n&1&&(r(0,"div",1)(1,"b"),c(2),o()()),n&2){let e=u();l(2),b(e.item.codigo_rol)}}function B6(n,t){if(n&1){let e=S();r(0,"button",6),f("click",function(){h(e);let a=u(3);return v(a.emit("remove"))}),p(1,"i",7),o()}}function j6(n,t){if(n&1){let e=S();r(0,"button",8),f("click",function(){h(e);let a=u(3);return v(a.emit("add"))}),p(1,"i",9),o()}}function $6(n,t){if(n&1&&(r(0,"div",3),_(1,B6,2,0,"button",4)(2,j6,2,0,"button",5),o()),n&2){let e=u(2);l(),C(e.isActived?1:2)}}function q6(n,t){if(n&1&&(r(0,"div",3),p(1,"input",10),o()),n&2){let e=u(2);l(),d("checked",e.isActived)}}function W6(n,t){if(n&1&&_(0,$6,3,1,"div",3)(1,q6,2,1,"div",3),n&2){let e=u();C(e.subMode=="multiple"?0:1)}}function G6(n,t){if(n&1){let e=S();r(0,"div")(1,"button",11),f("click",function(a){h(e);let s=u();return v(s.openMenuEmit(a))}),p(2,"i",12),o()()}}var Ro=class n{item={};isActived=!1;isActivedChange=new H;card="box";mode="";subMode="";openMenu=new H;event=new H;openMenuEmit(t){this.openMenu.emit(t)}select(){this.mode=="select"&&(this.isActived=!this.isActived,this.isActivedChange.emit(this.isActived))}emit(t){this.event.emit(t)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=z({type:n,selectors:[["app-ui-rol-card"]],inputs:{item:"item",isActived:"isActived",card:"card",mode:"mode",subMode:"subMode"},outputs:{isActivedChange:"isActivedChange",openMenu:"openMenu",event:"event"},decls:8,vars:10,consts:[[3,"ngClass"],[1,"abreviatura","text-truncate"],[1,"title","text-truncate"],[1,""],["type","button",1,"btn","btn-outline-danger","btn-sm-custom"],["type","button",1,"btn","btn-outline-light","btn-sm-custom"],["type","button",1,"btn","btn-outline-danger","btn-sm-custom",3,"click"],[1,"icon","ion-md-close"],["type","button",1,"btn","btn-outline-light","btn-sm-custom",3,"click"],[1,"icon","ion-md-add"],["type","checkbox",1,"form-check-input",3,"checked"],["type","button",1,"btn","btn-more",3,"click"],[1,"icon","ion-md-more"]],template:function(e,i){e&1&&(r(0,"div",0),p(1,"div"),r(2,"div"),_(3,N6,3,1,"div",1),r(4,"div",2),c(5),o()(),_(6,W6,2,1),_(7,G6,3,0,"div"),o()),e&2&&(Ce(he("items box-main _",i.mode," ")),d("ngClass",y(8,R6,i.isActived)),l(3),C(i.mode!="select"?3:-1),l(2),b(i.item.denominacion_rol),l(),C(i.mode=="select"?6:-1),l(),C(i.mode!="select"?7:-1))},dependencies:[U],styles:[".items._select[_ngcontent-%COMP%]{cursor:pointer}"]})};var K6=n=>({active:n}),u0=(n,t)=>({item:n,indice:t}),X6=n=>({"background-color":n,color:"#fff"}),h0=(n,t)=>t.idrol;function Q6(n,t){if(n&1&&(r(0,"span",16),c(1),o()),n&2){let e=t.$implicit;d("ngStyle",y(2,X6,e.color)),l(),O(" ",e.name," ")}}function Z6(n,t){if(n&1){let e=S();r(0,"tr",13,2),f("elementEvents",function(a){let s=h(e).$implicit,m=u(2);return v(m.select(s,a))}),r(2,"td",14),c(3),o(),r(4,"td",15),c(5),o(),r(6,"td",15),c(7),o(),r(8,"td"),L(9,Q6,2,4,"span",16,J),o(),r(11,"td",14),c(12),o(),r(13,"td",14),c(14),o(),r(15,"td",14),p(16,"app-text-state",17),o(),r(17,"td",14)(18,"button",18),f("click",function(a){let s=h(e).$implicit,m=G(1);return u(2).select(s),v(m.open(a))}),p(19,"i",19),o()()()}if(n&2){let e=t.$implicit,i=t.$index,a=u(2),s=G(4);d("ngClass",y(9,K6,e.idrol==a.selected.idrol))("contextMenu",s)("contextMenuValue",be(11,u0,e,i)),l(3),O(" ",(i+1).zfill(2)," "),l(2),b(e.codigo_rol),l(2),b(e.denominacion_rol),l(2),Y(e.systems),l(3),O(" ",e.inApp=="1"?"Si":"No"," "),l(2),O(" ",e.inWeb=="1"?"Si":"No"," "),l(2),d("state",e.estado_rol)}}function J6(n,t){if(n&1&&(r(0,"div")(1,"table",9)(2,"thead")(3,"tr")(4,"th",10),c(5,"#"),o(),r(6,"th"),c(7,"Codigo"),o(),r(8,"th"),c(9,"Denominaci\xF3n"),o(),r(10,"th"),c(11,"Sistema"),o(),r(12,"th"),c(13,"\xBFApp?"),o(),r(14,"th"),c(15,"\xBFWeb?"),o(),r(16,"th"),c(17,"Estado"),o(),p(18,"th",11),o()(),r(19,"tbody"),L(20,Z6,20,14,"tr",12,h0),o()()()),n&2){let e=u();l(20),Y(e.rols)}}function e8(n,t){if(n&1){let e=S();r(0,"app-ui-rol-card",21,2),f("elementEvents",function(a){let s=h(e).$implicit,m=u(2);return v(m.select(s,a))})("openMenu",function(a){let s=h(e).$implicit,m=G(1);return u(2).select(s),v(m.open(a))}),o()}if(n&2){let e=t.$implicit,i=t.$index,a=u(2),s=G(4);d("card",R(a.mode))("item",e)("isActived",e.idrol==a.selected.idrol)("contextMenu",s)("contextMenuValue",be(6,u0,e,i))}}function t8(n,t){n&1&&p(0,"app-ui-message-empty")}function i8(n,t){if(n&1&&(r(0,"div"),L(1,e8,2,9,"app-ui-rol-card",20,h0,!1,t8,1,0,"app-ui-message-empty"),o()),n&2){let e=u();Ce(he("_",e.mode)),l(),Y(e.rols)}}function n8(n,t){n&1&&(r(0,"div",22)(1,"div",23),p(2,"i",24),o(),r(3,"div",25),c(4,"Ver detalles"),o(),p(5,"div",26),o())}function o8(n,t){n&1&&(r(0,"div",22)(1,"div",23),p(2,"i",27),o(),r(3,"div",25),c(4,"Adicionar"),o(),r(5,"div",26),c(6,"F1"),o()())}function a8(n,t){n&1&&(r(0,"div",22)(1,"div",23),p(2,"i",28),o(),r(3,"div",25),c(4,"Editar"),o(),p(5,"div",26),o())}function r8(n,t){n&1&&(r(0,"div",22)(1,"div",23),p(2,"i",29),o(),r(3,"div",25),c(4,"Eliminar"),o(),p(5,"div",26),o())}function l8(n,t){}function c8(n,t){n&1&&(r(0,"div",30),p(1,"i",31),o(),r(2,"div",25),c(3,"Desactivar"),o())}function s8(n,t){n&1&&(r(0,"div",32),p(1,"i",33),o(),r(2,"div",25),c(3,"Activar"),o())}function d8(n,t){if(n&1&&(r(0,"div",22),_(1,c8,4,0),_(2,s8,4,0),p(3,"div",26),o()),n&2){let e=t.$implicit,i=u();l(),C(e.item.estado_rol==i.ERolState.ACTIVE?1:-1),l(),C(e.item.estado_rol==i.ERolState.INACTIVE?2:-1)}}function m8(n,t){n&1&&(r(0,"div",22)(1,"div",23),p(2,"img",34),o(),r(3,"div",25),c(4,"Exportar"),o(),p(5,"div",26),o())}function p8(n,t){}function u8(n,t){n&1&&(r(0,"div",22)(1,"div",23),p(2,"i",35),o(),r(3,"div",25),c(4,"Actualizar lista"),o(),p(5,"div",26),o())}function h8(n,t){n&1&&(r(0,"div",22)(1,"div",23),p(2,"img",36),o(),r(3,"div",25),c(4,"En formato PDF"),o(),p(5,"div",26),o())}function v8(n,t){n&1&&(r(0,"div",22)(1,"div",23),p(2,"img",37),o(),r(3,"div",25),c(4,"En formato Excel"),o(),p(5,"div",26),o())}function g8(n,t){n&1&&p(0,"app-loading")}var No=class n{idinstitution="";estado_rol="";idaplicacion="";mode="table";size="lg";eventChange=new H;rolService=g(Rt);authService=g(A);confirmationService=g(X);modalService=g(Ie);filter={texto:"",estado_rol:""};states=this.rolService.states;rols=[];ERolState=tn;loading=!1;applications=[];ngOnInit(){this.idinstitution===""&&(this.idinstitution=this.authService.institucionData?.idinstitucion+""),this.filter.estado_rol=this.estado_rol,this.filter.sistema=this.idaplicacion,this.list()}list(){return x(this,null,function*(){this.loading=!0;let t=yield this.rolService.list(this.filter);if(this.loading=!1,console.log(t),t&&t.state=="success"){this.rols=t.list;let e={},i=0;this.rols.forEach(a=>{a.systems=a.sistema.split(",").filter(s=>s!="").map((s,m)=>(e[s]||(e[s]={name:s.trim(),color:this.getSystemColor(i)},i++),e[s]))})}})}add(){this.openForm()}update(t){this.openForm("update",t)}openForm(t="add",e){return x(this,null,function*(){try{let i=yield this.modalService.open(Yo,{backdrop:"static",keyboard:!1,size:"lg"});i.componentInstance.accion=t,i.componentInstance.idaplicacion=this.idaplicacion,t=="update"&&(i.componentInstance.rol=JSON.parse(JSON.stringify(e)));let a=yield i.result;if(t=="add")this.rols.unshift(a);else if(t=="update"){if(!e)return;Object.assign(e,a)}}catch{}})}remove(t,e=-1){return x(this,null,function*(){if(!(yield this.confirmationService.create("Eliminar","\xBFEst\xE1 seguro de eliminar el registro?")))return;this.loading=!0;let a=yield this.rolService.delete(t);this.loading=!1,a.state=="success"&&(this.rols.splice(e,1),this.selected={})})}openDetail(t){return x(this,null,function*(){try{let e=yield this.modalService.open(Lo,{backdrop:"static",keyboard:!1,size:"lg",windowClass:"modal_1000"});e.componentInstance.item=t;let i=yield e.result}catch{}})}changeState(t){return x(this,null,function*(){let e=t.estado_rol=="1"?"0":"1",i=yield this.rolService.changeState({estado_rol:e,idrol:t.idrol});i&&i.state=="success"&&(t.estado_rol=e)})}searchChange(){this.list()}stateFilterChange(){this.list()}selected={};select(t,e="click"){t.idrol==this.selected.idrol&&e!="dblclick"||(this.selected=t,e=="dblclick"&&this.openDetail(t),this.eventChange.emit({event:e,data:JSON.parse(JSON.stringify(t))}))}getSystemColor(t){let e=["#007bff","#28a745","#ffc107","#dc3545","#6610f2","#fd7e14","#20c997","#6f42c1","#e83e8c","#6c757d"];return e[t%e.length]}canAdd=()=>this.rolService.canAdd;canEdit=()=>this.rolService.canEdit;canRemove=()=>this.rolService.canRemove;canChangeState=()=>this.rolService.canChangeState;canExport=()=>this.rolService.canExport;canExportExcel=()=>this.rolService.canExportExcel;canExportPdf=()=>this.rolService.canExportPdf;export(t="pdf"){return x(this,null,function*(){yield this.rolService.export(this.filter,t)})}subfilter={estado_rol:"",sistema:"-1"};filtrar(){}changeApplication(){}calculate(){}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=z({type:n,selectors:[["app-ui-rol-list"]],inputs:{idinstitution:"idinstitution",estado_rol:"estado_rol",idaplicacion:"idaplicacion",mode:"mode",size:"size"},outputs:{eventChange:"eventChange"},decls:19,vars:21,consts:[["menu",""],["SubMenu",""],["ngxContextMenu","ngxContextMenu"],[3,"stateChange","searchChange","onAdd","onExport","onSearch","reload","modeChange","state","search","states","canExport","canExportExcel","canExportPdf","canNew","mode","size"],[3,"class"],["contextMenuItem","",3,"execute"],["contextMenuItem","",3,"execute","visible"],["contextMenuItem","",3,"divider"],["contextMenuItem","",3,"visible","subMenu"],[1,"table","table-sm","table-box","table-fixed"],[2,"width","10px"],[2,"width","25px"],[3,"ngClass","contextMenu","contextMenuValue"],[3,"elementEvents","ngClass","contextMenu","contextMenuValue"],[1,"text-center"],["nowrap",""],[1,"badge","me-1","mb-1",3,"ngStyle"],[3,"state"],[1,"btn","btn-more",3,"click"],[1,"ion-md-more"],[3,"item","isActived","card","contextMenu","contextMenuValue"],[3,"elementEvents","openMenu","item","isActived","card","contextMenu","contextMenuValue"],[1,"_items"],[1,"icons"],[1,"icons","icon","ion-md-list-box"],[1,"label","w-100"],[1,"atajo"],[1,"icons","icon","ion-md-add"],[1,"icons","icon","ion-md-create"],[1,"icons","icon","ion-md-trash"],[1,"icons","text-danger"],[1,"icon","ion-md-eye-off"],[1,"icons","text-success"],[1,"icon","ion-md-eye"],["src","https://cdn-icons-png.flaticon.com/512/5414/5414637.png","alt",""],[1,"icons","icon","ion-md-refresh"],["src","assets/img/icons/pdf.png","alt",""],["src","assets/img/icons/excel.png","alt",""]],template:function(e,i){if(e&1){let a=S();r(0,"app-ui-header-management",3),le("stateChange",function(m){return h(a),Q(i.filter.estado_rol,m)||(i.filter.estado_rol=m),v(m)})("searchChange",function(m){return h(a),Q(i.filter.texto,m)||(i.filter.texto=m),v(m)}),f("onAdd",function(){return h(a),v(i.add())})("onExport",function(m){return h(a),v(i.export(m))})("onSearch",function(){return h(a),v(i.searchChange())})("reload",function(){return h(a),v(i.list())}),le("modeChange",function(m){return h(a),Q(i.mode,m)||(i.mode=m),v(m)}),o(),_(1,J6,22,0,"div")(2,i8,4,4,"div",4),r(3,"context-menu",null,0),E(5,n8,6,0,"ng-template",5),f("execute",function(m){return h(a),v(i.openDetail(m.value.item))}),E(6,o8,7,0,"ng-template",6),f("execute",function(){return h(a),v(i.add())}),E(7,a8,6,0,"ng-template",6),f("execute",function(m){return h(a),v(i.update(m.value.item))}),E(8,r8,6,0,"ng-template",6),f("execute",function(m){return h(a),v(i.remove(m.value.item,m.value.indice))}),E(9,l8,0,0,"ng-template",7)(10,d8,4,2,"ng-template",6),f("execute",function(m){return h(a),v(i.changeState(m.value.item))}),E(11,m8,6,0,"ng-template",8)(12,p8,0,0,"ng-template",7)(13,u8,6,0,"ng-template",5),f("execute",function(){return h(a),v(i.list())}),o(),r(14,"context-menu",null,1),E(16,h8,6,0,"ng-template",6),f("execute",function(){return h(a),v(i.export())}),E(17,v8,6,0,"ng-template",6),f("execute",function(){return h(a),v(i.export("excel"))}),o(),_(18,g8,1,0,"app-loading")}if(e&2){let a=G(15);oe("state",i.filter.estado_rol)("search",i.filter.texto),d("states",i.states)("canExport",i.rolService.canExport)("canExportExcel",i.rolService.canExportExcel)("canExportPdf",i.rolService.canExportPdf)("canNew",i.rolService.canAdd),oe("mode",i.mode),d("size",i.size),l(),C(i.mode=="table"?1:2),l(5),d("visible",i.canAdd),l(),d("visible",i.canEdit),l(),d("visible",i.canRemove),l(),d("divider",!0),l(),d("visible",i.canChangeState),l(),d("visible",i.canExport)("subMenu",a),l(),d("divider",!0),l(4),d("visible",i.canExportPdf),l(),d("visible",i.canExportExcel),l(),C(i.loading?18:-1)}},dependencies:[ie,ut,pt,mt,dt,Xt,U,Ka,Se,Je,Et,Ro,wt,ht,Yt],styles:[".grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 2fr}.grid[_ngcontent-%COMP%]   .panel[_ngcontent-%COMP%]{height:calc(100vh - var(--h-navbar));overflow:auto}"]})};var si=(e=>(e.ACTIVE="1",e.INACTIVE="0",e))(si||{});var Pt=class n{API=`${K.account2}/user/rol`;apiService=g(fe);loadingService=g(Oe);confirmationService=g(X);auth=g(A);toastrService=g(ce);states=[{code:"1",denomination:"Activo"},{code:"0",denomination:"Inactivo"}];stateMap=this.states.reduce((t,e)=>(t[e.code]=e.denomination,t),{});canAdd=!1;canEdit=!1;canRemove=!1;canChangeState=!1;canExport=!1;canExportExcel=!1;canExportPdf=!1;constructor(){this.canEdit=this.auth.hasSubPermission("user-rol-EDIT"),this.canRemove=this.auth.hasSubPermission("user-rol-REMOVE"),this.canChangeState=this.auth.hasSubPermission("user-rol-CHANGE-STATE"),this.canExport=this.auth.hasPermission("user-rol-EXPORT"),this.canExportExcel=this.auth.hasSubPermission("user-rol-EXPORT-EXCEL"),this.canExportPdf=this.auth.hasSubPermission("user-rol-EXPORT-PDF")}list(t){return x(this,null,function*(){return yield this.apiService.postPrivate(`${this.API}/list`,t)})}add(t){return x(this,null,function*(){let e=yield this.apiService.postPrivate(`${this.API}/create`,t);return e.state=="success"&&e.data&&this.toastrService.success(e.message),e})}data(t){return x(this,null,function*(){return yield this.apiService.getPrivate(`${this.API}/data/${t.id}`,t)})}update(t){return x(this,null,function*(){let e=yield this.apiService.putPrivate(`${this.API}/update/${t.id}`,t);return e.state=="success"&&this.toastrService.success(e.message),e})}patch(t){return x(this,null,function*(){let e=yield this.apiService.putPrivate(`${this.API}/update/${t.id}`,t);return e.state=="success"&&this.toastrService.success(e.message),e})}changeStateMessage(t){let e=this.stateMap[t],i="";switch(t){case"1":i="text-success";break;case"0":i="text-danger";break}return{message:`
            <div class="text-center">
                <div class="mb-3">\xBFEst\xE1 seguro de cambiar el estado del registro?</div>
                <h3 >Nuevo estado: <b class="${i}">${e}</b></h3>
            </div>
        `,denomination:e}}changeStateSave(t){return x(this,null,function*(){return yield this.apiService.putPrivate(`${this.API}/state/change/${t.id}`,t)})}changeState(t){return x(this,null,function*(){let{message:e}=this.changeStateMessage(t.state);if(!(yield this.confirmationService.create("Confirmar",e)))return;this.loadingService.open();let a=yield this.changeStateSave(t);return this.loadingService.hide(),a})}delete(t){return x(this,null,function*(){let e=yield this.apiService.deletePrivate(`${this.API}/delete/${t.id}`,t);return e.state=="success"&&this.toastrService.success(e.message),e})}export(t,e,i=!0){return x(this,null,function*(){if(i&&!(yield this.confirmationService.create("Confirmar","\xBFEst\xE1 seguro de exportar los datos?")))return;this.loadingService.open();let a=ve(re({},t),{type_export:e,url:K.storage_view}),s=yield this.apiService.getPrivate(`${this.API}/export`,a);return this.loadingService.hide(),s&&s.state=="success"&&window.open(s.url),s})}static \u0275fac=function(e){return new(e||n)};static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})};var f8=n=>({active:n});function _8(n,t){if(n&1){let e=S();r(0,"div")(1,"button",3),f("click",function(a){h(e);let s=u(2);return v(s.openMenuEmit(a))}),p(2,"i",4),o()()}}function C8(n,t){if(n&1&&(r(0,"div",0)(1,"div")(2,"div",2),c(3),o(),r(4,"div",2),c(5),o(),r(6,"div",2),c(7),o(),r(8,"div",2),c(9),o(),r(10,"div",2),c(11),o(),r(12,"div",2),c(13),o(),r(14,"div"),c(15),o(),r(16,"div",2),c(17),o(),r(18,"div",2),c(19),o(),r(20,"div",2),c(21),o(),r(22,"div",2),c(23),o(),r(24,"div",2),c(25),o(),r(26,"div",2),c(27),o(),r(28,"div",2),c(29),o()(),_(30,_8,3,0,"div"),o()),n&2){let e=u();d("ngClass",y(16,f8,e.isActived)),l(3),b(e.item.id),l(2),b(e.item.user_id),l(2),b(e.item.rol),l(2),b(e.item.privileges),l(2),b(e.item.subPrivileges),l(2),b(e.item.typeUser),l(2),b(e.userRolService.stateMap[e.item.state]),l(2),b(e.item.rol_id),l(2),b(e.item.system),l(2),b(e.item.field1),l(2),b(e.item.field2),l(2),b(e.item.field3),l(2),b(e.item.field4),l(2),b(e.item.field5),l(),C(e.showOption?30:-1)}}function x8(n,t){if(n&1&&(r(0,"table",1)(1,"thead")(2,"tr"),p(3,"th",5)(4,"th"),o()(),r(5,"tbody")(6,"tr")(7,"td",6)(8,"b"),c(9," Rol "),o()(),r(10,"td"),c(11),o()(),r(12,"tr")(13,"td",6)(14,"b"),c(15," Privilegios "),o()(),r(16,"td"),c(17),o()(),r(18,"tr")(19,"td",6)(20,"b"),c(21," Subprivilegios "),o()(),r(22,"td"),c(23),o()(),r(24,"tr")(25,"td",6)(26,"b"),c(27," Tipo usuario "),o()(),r(28,"td"),c(29),o()(),r(30,"tr")(31,"td",6)(32,"b"),c(33," Estado "),o()(),r(34,"td"),p(35,"app-text-state",7),o()(),r(36,"tr")(37,"td",6)(38,"b"),c(39," Sistema "),o()(),r(40,"td"),c(41),o()(),r(42,"tr")(43,"td",6)(44,"b"),c(45," Campo 1 "),o()(),r(46,"td"),c(47),o()(),r(48,"tr")(49,"td",6)(50,"b"),c(51," Campo 2 "),o()(),r(52,"td"),c(53),o()(),r(54,"tr")(55,"td",6)(56,"b"),c(57," Campo 3 "),o()(),r(58,"td"),c(59),o()(),r(60,"tr")(61,"td",6)(62,"b"),c(63," Campo 4 "),o()(),r(64,"td"),c(65),o()(),r(66,"tr")(67,"td",6)(68,"b"),c(69," Campo 5 "),o()(),r(70,"td"),c(71),o()()()()),n&2){let e=u();l(11),b(e.item.rol),l(6),b(e.item.privileges),l(6),b(e.item.subPrivileges),l(6),b(e.item.typeUser),l(6),d("state",e.item.state),l(6),b(e.item.system),l(6),b(e.item.field1),l(6),b(e.item.field2),l(6),b(e.item.field3),l(6),b(e.item.field4),l(6),b(e.item.field5)}}var cn=class n{item={};isActived=!1;card="box";showOption=!1;openMenu=new H;modeData="";userRolService=g(Pt);openMenuEmit(t){this.openMenu.emit(t)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=z({type:n,selectors:[["app-ui-user-rol-card"]],inputs:{item:"item",isActived:"isActived",card:"card",showOption:"showOption",modeData:"modeData"},outputs:{openMenu:"openMenu"},decls:2,vars:1,consts:[[1,"items","box-main",3,"ngClass"],[1,"table","table-datos","box-main"],[1,"text-truncate"],["type","button",1,"btn","btn-more",3,"click"],[1,"icon","ion-md-more"],[2,"width","100px"],["nowrap",""],[3,"state"]],template:function(e,i){e&1&&_(0,C8,31,18,"div",0)(1,x8,72,11,"table",1),e&2&&C(i.card=="box"?0:i.card=="table"?1:-1)},dependencies:[U,Et],encapsulation:2})};var b8=n=>({"modal-body":n});function S8(n,t){if(n&1){let e=S();r(0,"div",0)(1,"h4",3),c(2,"DATOS DEL ROL"),o(),r(3,"button",4),f("click",function(){h(e);let a=u();return v(a.close())}),o()()}}var Bo=class n{constructor(t){this.activeModal=t}isModal=!0;item={};eventChange=new H;userRolService=g(Pt);EUserRolState=si;close(){this.isModal?this.activeModal.close():this.eventChange.emit({event:"close",data:this.item})}static \u0275fac=function(e){return new(e||n)(ee(ae,8))};static \u0275cmp=z({type:n,selectors:[["app-ui-user-rol-detail"]],inputs:{isModal:"isModal",item:"item"},outputs:{eventChange:"eventChange"},decls:3,vars:5,consts:[[1,"modal-header"],[1,"",3,"ngClass"],["card","table",3,"item"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"]],template:function(e,i){e&1&&(_(0,S8,4,0,"div",0),r(1,"div",1),p(2,"app-ui-user-rol-card",2),o()),e&2&&(C(i.isModal?0:-1),l(),d("ngClass",y(3,b8,i.isModal)),l(),d("item",i.item))},dependencies:[U,cn],encapsulation:2})};var y8=(n,t)=>({active:n,"has-children":t}),M8=n=>({active:n});function z8(n,t){n&1&&p(0,"i",20)}function w8(n,t){n&1&&p(0,"i",21)}function E8(n,t){if(n&1){let e=S();r(0,"div",42),f("click",function(a){h(e);let s=u().$implicit,m=u(3);return v(m.collapsed(a,s))}),p(1,"i",43),o()}if(n&2){let e=u().$implicit;l(),d("ngClass",e.isCollapsed?"ion-md-arrow-forward":"ion-md-arrow-down")}}function T8(n,t){n&1&&p(0,"div",35)}function P8(n,t){if(n&1){let e=S();r(0,"div",46),f("click",function(){let a=h(e),s=a.$implicit,m=a.$index,M=u(5);return v(M.seleccionado(s,m))}),r(1,"div",47),p(2,"div",48),o(),r(3,"div",49)(4,"div",2)(5,"div",50)(6,"div",51),c(7),o()(),r(8,"div",52),p(9,"i",40),o()()()()}if(n&2){let e=t.$implicit;d("ngClass",y(3,M8,e.active)),l(7),b(e.denominacion_opcion),l(2),d("ngClass",e.active?"ion-md-checkmark-circle text-success":"ion-md-radio-button-off ")}}function V8(n,t){if(n&1&&(r(0,"div",41)(1,"div",44),L(2,P8,10,5,"div",45,J),o()()),n&2){let e=u().$implicit;d("ngbCollapse",e.isCollapsed),l(2),Y(e.details)}}function k8(n,t){if(n&1){let e=S();r(0,"div",32)(1,"div",33),_(2,E8,2,1,"div",34)(3,T8,1,0,"div",35),r(4,"div",36),f("click",function(){let a=h(e),s=a.$implicit,m=a.$index,M=u(3);return v(M.seleccionado(s,m))}),r(5,"div",2)(6,"div",37)(7,"div",38),c(8),o()(),r(9,"div",39),p(10,"i",40),o()()()(),_(11,V8,4,1,"div",41),o()}if(n&2){let e=t.$implicit;d("ngClass",be(5,y8,e.active,e.details.length>0)),l(2),C(e.details.length>0?2:3),l(6),b(e.denominacion_opcion),l(2),d("ngClass",e.active?"ion-md-checkmark-circle text-success":"ion-md-radio-button-off "),l(),C(e.details.length>0?11:-1)}}function D8(n,t){if(n&1&&(r(0,"div",30),L(1,k8,12,8,"div",32,J),o()),n&2){let e=u().$implicit;l(),Y(e.details)}}function I8(n,t){n&1&&(r(0,"div",31),p(1,"i",53),r(2,"p",54),c(3,"Sin opciones disponibles"),o()())}function O8(n,t){if(n&1){let e=S();r(0,"div",14)(1,"div",17)(2,"div",18)(3,"div",19),_(4,z8,1,0,"i",20)(5,w8,1,0,"i",21),o(),r(6,"div",22)(7,"h6",23),c(8),o()(),r(9,"div",24)(10,"span",25),c(11),o()(),r(12,"div",26)(13,"button",27),f("click",function(){let a=h(e).$implicit,s=u();return v(s.toggleGroupCollapse(a))}),p(14,"i",28),o()()()(),r(15,"div",29),_(16,D8,3,0,"div",30)(17,I8,4,0,"div",31),o()()}if(n&2){let e=t.$implicit,i=u();l(4),C(e.code==="custom"?4:5),l(4),b(e.denomination),l(3),Be(" ",i.getActiveCount(e),"/",i.getTotalCount(e)," "),l(3),d("ngClass",i.isGroupCollapsed(e)?"ion-md-add":"ion-md-remove"),l(2),C(e.details.length>0?16:17)}}function F8(n,t){n&1&&(r(0,"div",15)(1,"div",55)(2,"div",56),p(3,"i",57),r(4,"h6",58),c(5,"No hay permisos configurados"),o(),r(6,"p",59),c(7,"No se encontraron opciones para este rol."),o()()()())}function H8(n,t){n&1&&(r(0,"div",16),p(1,"app-loading"),o())}var jo=class n{opciones="";opcionesChange=new H;subopciones="";subopcionesChange=new H;idrol="";accessAll=!1;rolDetailService=g(gi);moduleDetailService=g(nn);moduleService=g(an);authService=g(A);loading=W(!1);details=W([]);detailsModule=W([]);modules=W([]);selectedItem=W(void 0);detallesGroup=te(()=>{let t=this.details(),e=this.detailsModule(),i=this.modules(),a=this.opciones+","+this.subopciones,s=a!==",",m=[];if(t.length>0){let P=[],V;t.forEach($=>{let se=s&&a.indexOf(","+$.codigo_opcion+",")!==-1,Re=ve(re({},$),{isCollapsed:!se,active:se,details:[]});$.nivel_opcion===1?(P.push(Re),V=Re):$.nivel_opcion===2&&V&&V.details.push(Re)}),m.push({code:"custom",denomination:"Propio",details:P})}let M=new Map;return e.forEach((P,V)=>{P.orderList=V+P.id*100,M.has(P.module_id)||M.set(P.module_id,[]),M.get(P.module_id).push(P)}),M.forEach((P,V)=>{let $=i.find(St=>St.id===V),se=[],Re;P.forEach(St=>{let un=s&&a.indexOf(","+St.code+",")!==-1,gt={iddetalle_rol:0,rol_idrol:parseInt(this.idrol)||0,codigo_opcion:St.code,createBy:"",denominacion_opcion:St.denomination,nivel_opcion:St.level,orden_opcion:St.orderList,isCollapsed:!un,active:un,details:[]};St.level===1?(se.push(gt),Re=gt):St.level===2&&Re&&Re.details.push(gt)}),m.push({code:$?.code||"",denomination:$?.denomination||"",details:se})}),m.sort((P,V)=>P.code==="custom"?-1:V.code==="custom"?1:0),console.log(m),m});ngOnInit(){return x(this,null,function*(){this.getData()})}getData(){return x(this,null,function*(){this.getList(),this.listModule(),this.listModules()})}getList(){return x(this,null,function*(){this.loading.set(!0);let t=yield this.rolDetailService.list({rol_idrol:this.idrol});if(this.loading.set(!1),t.state=="success"){let e=t.list??[];(this.opciones=="**"||this.subopciones=="**")&&(this.accessAll=!0),this.details.set(e)}})}listModule(){return x(this,null,function*(){this.loading.set(!0);let t=yield this.moduleDetailService.list({idinstitucion:this.authService.userData.idinstitucion+"",rol_id:this.idrol});if(this.loading.set(!1),t&&t.state=="success"){let e=t.data??[];this.detailsModule.set(e)}})}listModules(){return x(this,null,function*(){this.loading.set(!0);let t=yield this.moduleService.list({idinstitucion:this.authService.userData.idinstitucion+""});if(this.loading.set(!1),t&&t.state=="success"){let e=t.data??[];this.modules.set(e)}})}changeAcceso(){this.accessAll?(this.opcionesChange.emit("**"),this.subopcionesChange.emit("**")):(this.opcionesChange.emit(""),this.subopcionesChange.emit(""))}seleccionado(t,e=-1,i="click"){t.active=!t.active,t.nivel_opcion===1&&(t.details.forEach(a=>{a.active=t.active}),t.active&&t.details.length>0&&(t.isCollapsed=!1)),this.selectedItem.set(structuredClone(t)),this.agrupar(),this.accessAll=!1}agrupar(){let t=[],e=[];this.detallesGroup().forEach(s=>{s.details.forEach(m=>{m.active&&m.nivel_opcion===1&&e.push(m.codigo_opcion),m.details.forEach(M=>{M.active&&M.nivel_opcion===2&&t.push(M.codigo_opcion)})})});let i=t.length?","+t.join(",")+",":"",a=e.length?","+e.join(",")+",":"";this.subopcionesChange.emit(i),this.opcionesChange.emit(a)}collapsed(t,e){e.isCollapsed=!e.isCollapsed,t.preventDefault(),t.stopPropagation()}getActiveCount(t){let e=0;return t.details.forEach(i=>{i.active&&e++,i.details.forEach(a=>{a.active&&e++})}),e}getTotalCount(t){let e=0;return t.details.forEach(i=>{e++,e+=i.details.length}),e}toggleGroupCollapse(t){let e=this.isGroupCollapsed(t);t.details.forEach(i=>{i.details.length>0&&(i.isCollapsed=!e)})}isGroupCollapsed(t){let e=t.details.filter(i=>i.details.length>0);return e.length===0?!0:e.every(i=>i.isCollapsed)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=z({type:n,selectors:[["app-ui-rol-detail-select"]],inputs:{opciones:"opciones",subopciones:"subopciones",idrol:"idrol",accessAll:"accessAll"},outputs:{opcionesChange:"opcionesChange",subopcionesChange:"subopcionesChange"},decls:20,vars:3,consts:[[1,"rol-detail-header","mb-1"],[1,"box-main","py-1"],[1,"d-flex","justify-content-between","align-items-center"],[1,"header-info"],[1,"mb-0","text-primary"],[1,"icon","ion-md-key","me-2"],[1,"header-actions","d-flex","gap-2","align-items-center"],["type","button","title","Actualizar",1,"btn","btn-outline-primary","btn-refresh","btn-refresh-sm",3,"click"],[1,"icon","ion-md-refresh"],[1,"form-check","form-switch","mb-0"],["type","checkbox","id","accessAllSwitch",1,"form-check-input",3,"change","ngModelChange","ngModel"],["for","accessAllSwitch",1,"form-check-label"],[1,"rol-detail-content","px-1"],[1,"groups-container"],[1,"group-card","card","shadow-sm","mb-3"],[1,"no-data-state","text-center","py-4"],[1,"loading-overlay"],[1,"card-header","bg-gradient"],[1,"d-flex","align-items-center"],[1,"group-icon","me-2"],[1,"icon","ion-md-settings","text-primary"],[1,"icon","ion-md-apps","text-success"],[1,"group-info","flex-grow-1"],[1,"mb-0","fw-bold","fs-6"],[1,"group-stats","me-2"],[1,"badge","bg-primary","text-white"],[1,"group-collapse"],["type","button","title","Expandir/Colapsar todo el grupo",1,"btn","btn-link","btn-sm","p-1",3,"click"],[1,"icon",3,"ngClass"],[1,"card-body","p-0"],[1,"options-list"],[1,"empty-state","text-center","py-4"],[1,"option-item",3,"ngClass"],[1,"option-main","d-flex","align-items-center"],[1,"expand-indicator","me-2","cursor-pointer"],[1,"me-2",2,"width","16px"],[1,"option-content","flex-grow-1","cursor-pointer",3,"click"],[1,"option-info"],[1,"option-title"],[1,"option-status"],[1,"status-icon",3,"ngClass"],[1,"sub-options",3,"ngbCollapse"],[1,"expand-indicator","me-2","cursor-pointer",3,"click"],[1,"icon","fs-6",3,"ngClass"],[1,"sub-options-content","bg-light"],[1,"sub-option-item","d-flex","align-items-center","cursor-pointer",3,"ngClass"],[1,"sub-option-item","d-flex","align-items-center","cursor-pointer",3,"click","ngClass"],[1,"sub-option-indicator","me-2"],[1,"sub-line"],[1,"sub-option-content","flex-grow-1"],[1,"sub-option-info"],[1,"sub-option-title"],[1,"sub-option-status"],[1,"icon","ion-md-information-circle","fs-2"],[1,"mt-2","mb-0"],[1,"box-main","border-0"],[1,"card-body","py-4"],[1,"icon","ion-md-folder-open","fs-1"],[1,"mt-3","text-muted"],[1,"mb-3","text-muted"]],template:function(e,i){e&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h6",4),p(5,"i",5),c(6," Permisos de Rol "),o()(),r(7,"div",6)(8,"button",7),f("click",function(){return i.getData()}),p(9,"i",8),o(),r(10,"div",9)(11,"input",10),f("change",function(){return i.changeAcceso()}),le("ngModelChange",function(s){return Q(i.accessAll,s)||(i.accessAll=s),s}),o(),r(12,"label",11),c(13,"Acceso Total"),o()()()()()(),r(14,"div",12)(15,"div",13),L(16,O8,18,6,"div",14,J),o(),_(18,F8,8,0,"div",15),o(),_(19,H8,2,0,"div",16)),e&2&&(l(11),oe("ngModel",i.accessAll),l(5),Y(i.detallesGroup()),l(2),C(i.detallesGroup().length===0&&!i.loading()?18:-1),l(),C(i.loading()?19:-1))},dependencies:[Se,or,de,Qt,U,ie,zt,vr,lr],styles:['.rol-detail-header[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border-radius:8px}.rol-detail-header[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:.75rem 1rem}.rol-detail-header[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .header-info[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:.95rem;font-weight:600}.rol-detail-header[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .btn-sm[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.8rem}.rol-detail-header[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]{font-size:.85rem;color:#495057}.rol-detail-content[_ngcontent-%COMP%]   .groups-container[_ngcontent-%COMP%]   .group-card[_ngcontent-%COMP%]{border-radius:8px;overflow:hidden;transition:transform .2s ease,box-shadow .2s ease}.rol-detail-content[_ngcontent-%COMP%]   .groups-container[_ngcontent-%COMP%]   .group-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa,#e9ecef);border-bottom:1px solid #dee2e6;padding:.1rem .5rem}.rol-detail-content[_ngcontent-%COMP%]   .groups-container[_ngcontent-%COMP%]   .group-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .group-icon[_ngcontent-%COMP%]{width:28px;height:28px;border-radius:6px;display:flex;align-items:center;justify-content:center;background:#fff;box-shadow:0 1px 4px #0000001a}.rol-detail-content[_ngcontent-%COMP%]   .groups-container[_ngcontent-%COMP%]   .group-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .group-icon[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:1rem}.rol-detail-content[_ngcontent-%COMP%]   .groups-container[_ngcontent-%COMP%]   .group-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#495057;margin-bottom:0;font-size:.9rem}.rol-detail-content[_ngcontent-%COMP%]   .groups-container[_ngcontent-%COMP%]   .group-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .group-stats[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.7rem;padding:4px 8px;border-radius:12px}.rol-detail-content[_ngcontent-%COMP%]   .groups-container[_ngcontent-%COMP%]   .group-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .group-collapse[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{border:none;text-decoration:none;transition:all .15s ease;border-radius:4px}.rol-detail-content[_ngcontent-%COMP%]   .groups-container[_ngcontent-%COMP%]   .group-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .group-collapse[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:hover{background:#fff3;color:#495057!important}.rol-detail-content[_ngcontent-%COMP%]   .groups-container[_ngcontent-%COMP%]   .group-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .group-collapse[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 2px #007bff40}.rol-detail-content[_ngcontent-%COMP%]   .groups-container[_ngcontent-%COMP%]   .group-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .group-collapse[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:.9rem;transition:transform .15s ease}.rol-detail-content[_ngcontent-%COMP%]   .groups-container[_ngcontent-%COMP%]   .group-card[_ngcontent-%COMP%]   .options-list[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]{border-bottom:1px solid #f8f9fa;transition:background .15s ease}.rol-detail-content[_ngcontent-%COMP%]   .groups-container[_ngcontent-%COMP%]   .group-card[_ngcontent-%COMP%]   .options-list[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.rol-detail-content[_ngcontent-%COMP%]   .groups-container[_ngcontent-%COMP%]   .group-card[_ngcontent-%COMP%]   .options-list[_ngcontent-%COMP%]   .option-item.active[_ngcontent-%COMP%]{background:linear-gradient(90deg,#e3f2fd,#f8f9fa)}.rol-detail-content[_ngcontent-%COMP%]   .groups-container[_ngcontent-%COMP%]   .group-card[_ngcontent-%COMP%]   .options-list[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]:hover:not(.active){background:#f8f9fa}.rol-detail-content[_ngcontent-%COMP%]   .groups-container[_ngcontent-%COMP%]   .group-card[_ngcontent-%COMP%]   .options-list[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   .option-main[_ngcontent-%COMP%]{padding:.25rem 1rem}.rol-detail-content[_ngcontent-%COMP%]   .groups-container[_ngcontent-%COMP%]   .group-card[_ngcontent-%COMP%]   .options-list[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   .option-main[_ngcontent-%COMP%]   .expand-indicator[_ngcontent-%COMP%]{color:#6c757d;transition:color .15s ease;width:16px;display:flex;justify-content:center}.rol-detail-content[_ngcontent-%COMP%]   .groups-container[_ngcontent-%COMP%]   .group-card[_ngcontent-%COMP%]   .options-list[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   .option-main[_ngcontent-%COMP%]   .expand-indicator[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:.9rem;transition:transform .15s ease}.rol-detail-content[_ngcontent-%COMP%]   .groups-container[_ngcontent-%COMP%]   .group-card[_ngcontent-%COMP%]   .options-list[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   .option-main[_ngcontent-%COMP%]   .option-content[_ngcontent-%COMP%]   .option-info[_ngcontent-%COMP%]   .option-title[_ngcontent-%COMP%]{color:#495057;font-size:.9rem;font-weight:700;line-height:1.2}.rol-detail-content[_ngcontent-%COMP%]   .groups-container[_ngcontent-%COMP%]   .group-card[_ngcontent-%COMP%]   .options-list[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   .option-main[_ngcontent-%COMP%]   .option-content[_ngcontent-%COMP%]   .option-status[_ngcontent-%COMP%]{color:#000}.rol-detail-content[_ngcontent-%COMP%]   .groups-container[_ngcontent-%COMP%]   .group-card[_ngcontent-%COMP%]   .options-list[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   .option-main[_ngcontent-%COMP%]   .option-content[_ngcontent-%COMP%]   .option-status[_ngcontent-%COMP%]   .status-icon[_ngcontent-%COMP%]{font-size:1.25rem}.rol-detail-content[_ngcontent-%COMP%]   .groups-container[_ngcontent-%COMP%]   .group-card[_ngcontent-%COMP%]   .options-list[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   .sub-options[_ngcontent-%COMP%]   .sub-options-content[_ngcontent-%COMP%]{background:#f8f9fa}.rol-detail-content[_ngcontent-%COMP%]   .groups-container[_ngcontent-%COMP%]   .group-card[_ngcontent-%COMP%]   .options-list[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   .sub-options[_ngcontent-%COMP%]   .sub-options-content[_ngcontent-%COMP%]   .sub-option-item[_ngcontent-%COMP%]{padding:.05rem 1rem .05rem 1.5rem;border-bottom:1px solid #f1f3f4;cursor:pointer;transition:background .15s ease}.rol-detail-content[_ngcontent-%COMP%]   .groups-container[_ngcontent-%COMP%]   .group-card[_ngcontent-%COMP%]   .options-list[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   .sub-options[_ngcontent-%COMP%]   .sub-options-content[_ngcontent-%COMP%]   .sub-option-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.rol-detail-content[_ngcontent-%COMP%]   .groups-container[_ngcontent-%COMP%]   .group-card[_ngcontent-%COMP%]   .options-list[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   .sub-options[_ngcontent-%COMP%]   .sub-options-content[_ngcontent-%COMP%]   .sub-option-item.active[_ngcontent-%COMP%]{background:linear-gradient(90deg,#fff3e0,#f3e5f5)}.rol-detail-content[_ngcontent-%COMP%]   .groups-container[_ngcontent-%COMP%]   .group-card[_ngcontent-%COMP%]   .options-list[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   .sub-options[_ngcontent-%COMP%]   .sub-options-content[_ngcontent-%COMP%]   .sub-option-item[_ngcontent-%COMP%]:hover:not(.active){background:#f0f0f0}.rol-detail-content[_ngcontent-%COMP%]   .groups-container[_ngcontent-%COMP%]   .group-card[_ngcontent-%COMP%]   .options-list[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   .sub-options[_ngcontent-%COMP%]   .sub-options-content[_ngcontent-%COMP%]   .sub-option-item[_ngcontent-%COMP%]   .sub-option-indicator[_ngcontent-%COMP%]   .sub-line[_ngcontent-%COMP%]{width:12px;height:1px;background:#dee2e6;position:relative}.rol-detail-content[_ngcontent-%COMP%]   .groups-container[_ngcontent-%COMP%]   .group-card[_ngcontent-%COMP%]   .options-list[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   .sub-options[_ngcontent-%COMP%]   .sub-options-content[_ngcontent-%COMP%]   .sub-option-item[_ngcontent-%COMP%]   .sub-option-indicator[_ngcontent-%COMP%]   .sub-line[_ngcontent-%COMP%]:before{content:"";position:absolute;left:-8px;top:-3px;width:1px;height:6px;background:#dee2e6}.rol-detail-content[_ngcontent-%COMP%]   .groups-container[_ngcontent-%COMP%]   .group-card[_ngcontent-%COMP%]   .options-list[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   .sub-options[_ngcontent-%COMP%]   .sub-options-content[_ngcontent-%COMP%]   .sub-option-item[_ngcontent-%COMP%]   .sub-option-content[_ngcontent-%COMP%]   .sub-option-info[_ngcontent-%COMP%]   .sub-option-title[_ngcontent-%COMP%]{color:#495057;font-size:.85rem;line-height:1.2}.rol-detail-content[_ngcontent-%COMP%]   .groups-container[_ngcontent-%COMP%]   .group-card[_ngcontent-%COMP%]   .options-list[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   .sub-options[_ngcontent-%COMP%]   .sub-options-content[_ngcontent-%COMP%]   .sub-option-item[_ngcontent-%COMP%]   .sub-option-content[_ngcontent-%COMP%]   .sub-option-status[_ngcontent-%COMP%]{color:#000}.rol-detail-content[_ngcontent-%COMP%]   .groups-container[_ngcontent-%COMP%]   .group-card[_ngcontent-%COMP%]   .options-list[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]   .sub-options[_ngcontent-%COMP%]   .sub-options-content[_ngcontent-%COMP%]   .sub-option-item[_ngcontent-%COMP%]   .sub-option-content[_ngcontent-%COMP%]   .sub-option-status[_ngcontent-%COMP%]   .status-icon[_ngcontent-%COMP%]{font-size:1.25rem}.rol-detail-content[_ngcontent-%COMP%]   .groups-container[_ngcontent-%COMP%]   .group-card[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{color:#6c757d;padding:2rem 1rem}.rol-detail-content[_ngcontent-%COMP%]   .groups-container[_ngcontent-%COMP%]   .group-card[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{opacity:.5}.rol-detail-content[_ngcontent-%COMP%]   .groups-container[_ngcontent-%COMP%]   .group-card[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.85rem}.rol-detail-content[_ngcontent-%COMP%]   .no-data-state[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border-radius:8px}.rol-detail-content[_ngcontent-%COMP%]   .no-data-state[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:2rem 1rem}.rol-detail-content[_ngcontent-%COMP%]   .no-data-state[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{opacity:.3;font-size:2.5rem!important}.rol-detail-content[_ngcontent-%COMP%]   .no-data-state[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:1rem}.rol-detail-content[_ngcontent-%COMP%]   .no-data-state[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.85rem}.rol-detail-content[_ngcontent-%COMP%]   .no-data-state[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .btn-sm[_ngcontent-%COMP%]{padding:.375rem .75rem;font-size:.8rem}.loading-overlay[_ngcontent-%COMP%]{position:relative;min-height:150px;display:flex;align-items:center;justify-content:center}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.bg-gradient[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa,#e9ecef)}@media (max-width: 768px){.rol-detail-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem!important;align-items:stretch!important}.rol-detail-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}.rol-detail-content[_ngcontent-%COMP%]   .groups-container[_ngcontent-%COMP%]   .group-card[_ngcontent-%COMP%]{margin-bottom:1rem}.rol-detail-content[_ngcontent-%COMP%]   .groups-container[_ngcontent-%COMP%]   .group-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{flex-wrap:wrap;gap:.5rem}.rol-detail-content[_ngcontent-%COMP%]   .groups-container[_ngcontent-%COMP%]   .group-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .group-stats[_ngcontent-%COMP%]{margin-left:auto}.rol-detail-content[_ngcontent-%COMP%]   .groups-container[_ngcontent-%COMP%]   .group-card[_ngcontent-%COMP%]   .option-main[_ngcontent-%COMP%]{padding:.75rem!important}.rol-detail-content[_ngcontent-%COMP%]   .groups-container[_ngcontent-%COMP%]   .group-card[_ngcontent-%COMP%]   .sub-option-item[_ngcontent-%COMP%]{padding:.6rem 1rem .6rem 2rem!important}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-5px)}to{opacity:1;transform:translateY(0)}}.sub-options[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .2s ease-out}.option-main[_ngcontent-%COMP%]:focus-within, .sub-option-item[_ngcontent-%COMP%]:focus-within{outline:2px solid #007bff;outline-offset:-2px}']})};var v0=["categories","subcategories","clientClasifications","proveedorClasifications","financialSources","financialSourcesAll","operationsAgent","series","concepts","insumos"],yi=class n extends tr{constructor(e,i){super(e);this.auth=i;bt(()=>{let a=this.auth.institucionSettings();a&&vi(()=>{this.showInventorySerie.set(a?.accessOption?.serie===!0),this.showInventoryLote.set(a?.accessOption?.lote===!0),this.showInventoryCobranza.set(a?.accessOption?.cobranza===!0)})})}cs=g(ke);API=K.fe_catalog;catalogKeys=v0;series=te(()=>this.getSignal("series")());categories=te(()=>this.getSignal("categories")());categoriesBySystem=te(()=>{let e=this.auth.currentSystem();return this.categories().filter(i=>i.sistema===e)});subcategories=te(()=>this.getSignal("subcategories")());establishments=this.cs.establishments;conceptsIngreso=te(()=>this.getSignal("concepts")().filter(e=>e.destination==="ingreso"||e.destination===""));conceptsEgreso=te(()=>this.getSignal("concepts")().filter(e=>e.destination==="egreso"||e.destination===""));conceptsFinanza=te(()=>this.getSignal("concepts")().filter(e=>e.destination==="finanza"||e.destination===""));saleSource=W("complete");navBarTemplate=new He(void 0);misFinancialSources={list:[],uid:""};getCatalogos(e){return x(this,null,function*(){let P=e,{idinstitution:i,force:a}=P,s=An(P,["idinstitution","force"]),m={idinstitution:i,force:a},M={idinstitution:i,force:a};for(let V of Object.keys(s)){let $=s[V];$!==void 0&&(v0.includes(V)?m[V]=$:ir.includes(V)&&(M[V]=$))}yield Promise.all([fa(n.prototype,this,"loadCatalogs").call(this,m),this.cs.getCatalogos(M)])})}loadSeries=e=>this.getCatalogos({series:!0,idinstitution:e});loadEstablishments=e=>this.getCatalogos({establishments:!0,idinstitution:e});showInventorySerie=W(!1);showInventoryLote=W(!1);showInventoryCobranza=W(!1);static \u0275fac=function(i){return new(i||n)(ui(fe),ui(A))};static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})};var sn=class n{dias_maximo_envio=3;$estado_documento={};$estado_documento_corto={};$estado_proforma={};$estado_salida={};$tipo_documento={};$tipo_documento_color={};$tipo_documento_persona={};$afectacion={};$afectacion_salida={};$motivo_nota_credito={};$motivo_nota_debito={};$condicion_pago={};$currencies={};$forma_pago={};$tabla5={};$tabla6={};$tabla10={};$tabla12={};$bien_detraccion={};$medio_pago={};$operacion={};tipo_documentos_all=[{codigo:"00",denominacion:"NOTA DE VENTA",color:"#FF9800",destination:"otros"},{codigo:"P0",denominacion:"PEDIDO",color:"#b9c41a",destination:"otros"},{codigo:"PR",denominacion:"PROFORMA",color:"#6f4bef",destination:"otros"},{codigo:"01",denominacion:"FACTURA",color:"#3F51B5",destination:"sunat"},{codigo:"03",denominacion:"BOLETA DE VENTA",color:"#9C27B0",destination:"sunat"},{codigo:"07",denominacion:"NOTA DE CREDITO",color:"#e12b6c",destination:"sunat"},{codigo:"08",denominacion:"NOTA DE DEBITO",color:"#30ddba",destination:"sunat"},{codigo:"SA",denominacion:"NOTA DE SALIDA",color:"#b9c41a",destination:"salida"},{codigo:"OP",denominacion:"ORDEN DE PAGO",color:"#b9c41a",destination:"salida"}];estado_documento=[{codigo:"02",denominacion:"Envio Aceptado"},{codigo:"05",denominacion:"Anulado"},{codigo:"00",denominacion:"Registrado"},{codigo:"01",denominacion:"Generado XML"},{codigo:"03",denominacion:"Envio Observado"},{codigo:"04",denominacion:"Envio Rechazado"},{codigo:"06",denominacion:"Envio con Excepcion"},{codigo:"r1",denominacion:"Resumen generado"},{codigo:"r2",denominacion:"Solicitud de resumen enviada"},{codigo:"r3",denominacion:"Error al enviar resumen"},{codigo:"r4",denominacion:"Solicitud de resumen aceptada"}];estado_documento_corto=[{codigo:"02",denominacion:"Enviado"},{codigo:"05",denominacion:"Anulado"},{codigo:"00",denominacion:"Registrado"},{codigo:"01",denominacion:"Generado XML"},{codigo:"03",denominacion:"Observado"},{codigo:"04",denominacion:"Rechazado"},{codigo:"06",denominacion:"Excepci\xF3n"},{codigo:"r1",denominacion:"Resumen generado"},{codigo:"r2",denominacion:"Pendiente"},{codigo:"r3",denominacion:"Error al enviar resumen"},{codigo:"r4",denominacion:"Enviado"}];estado_proforma=[{codigo:"05",denominacion:"Anulado"},{codigo:"00",denominacion:"Registrado"},{codigo:"01",denominacion:"Emitido"}];estado_salida=[{codigo:"05",denominacion:"Anulado"},{codigo:"00",denominacion:"Registrado"}];afectacion=[{codigo:"10",denominacion:"Gravado - Operaci\xF3n Onerosa"},{codigo:"11",denominacion:"[Gratuito] Gravado - Retiro por premio"},{codigo:"12",denominacion:"[Gratuito] Gravado - Retiro por donaci\xF3n"},{codigo:"13",denominacion:"[Gratuito] Gravado - Retiro"},{codigo:"14",denominacion:"[Gratuito] Gravado - Retiro por publicidad"},{codigo:"15",denominacion:"[Gratuito] Gravado - Bonificaciones"},{codigo:"16",denominacion:"[Gratuito] Gravado - Retiro por entrega a trabajadores"},{codigo:"17",denominacion:"[Gratuito] Gravado - IVAP"},{codigo:"20",denominacion:"Exonerado - Operaci\xF3n Onerosa"},{codigo:"21",denominacion:"Exonerado - Transferencia Gratuita"},{codigo:"30",denominacion:"Inafecto - Operaci\xF3n Onerosa"}];afectacion_salida=[{codigo:"00",denominacion:"Sin registro"},{codigo:"10",denominacion:"Gravado - CON IGV"},{codigo:"11",denominacion:"[Gratuito] Gravado - Retiro por premio"},{codigo:"12",denominacion:"[Gratuito] Gravado - Retiro por donaci\xF3n"},{codigo:"13",denominacion:"[Gratuito] Gravado - Retiro"},{codigo:"14",denominacion:"[Gratuito] Gravado - Retiro por publicidad"},{codigo:"15",denominacion:"[Gratuito] Gravado - Bonificaciones"},{codigo:"16",denominacion:"[Gratuito] Gravado - Retiro por entrega a trabajadores"},{codigo:"17",denominacion:"[Gratuito] Gravado - IVAP"},{codigo:"20",denominacion:"Exonerado - SIN IGV"},{codigo:"21",denominacion:"Exonerado - Transferencia Gratuita"},{codigo:"30",denominacion:"Inafecto - Operaci\xF3n Onerosa"},{codigo:"40",denominacion:"Exportaci\xF3n"}];motivo_nota_credito=[{codigo:"01",descripcion:"Anulaci\xF3n de la operaci\xF3n"},{codigo:"02",descripcion:"Anulaci\xF3n por error en el RUC"},{codigo:"03",descripcion:"Correcci\xF3n por error en la descripci\xF3n"},{codigo:"04",descripcion:"Descuento global"},{codigo:"05",descripcion:"Descuento por \xEDtem"},{codigo:"06",descripcion:"Devoluci\xF3n total"},{codigo:"07",descripcion:"Devoluci\xF3n por \xEDtem"},{codigo:"08",descripcion:"Bonificaci\xF3n"},{codigo:"09",descripcion:"Disminuci\xF3n en el valor"},{codigo:"10",descripcion:"Otros Conceptos"}];motivo_nota_debito=[{codigo:"01",descripcion:"Intereses por mora"},{codigo:"02",descripcion:"Aumento en el valor"},{codigo:"03",descripcion:"Penalidades/ otros conceptos"}];condicion_pago=[{codigo:"01",denominacion:"Contado"},{codigo:"02",denominacion:"Credito"}];moneda=[{codigo:"PEN",denominacion:"SOLES",simbolo:"S/"},{codigo:"USD",denominacion:"DOLARES AMERICANOS",simbolo:"$"}];forma_pago=[{codigo:"01",denominacion:"Efectivo"},{codigo:"02",denominacion:"Cheque"},{codigo:"03",denominacion:"Transferencia"}];tabla5=[{codigo:"01",denominacion:"MERCADER\xCDA"},{codigo:"02",denominacion:"PRODUCTO TERMINADO"},{codigo:"03",denominacion:"MATERIAS PRIMAS Y AUXILIARES - MATERIALES"},{codigo:"04",denominacion:"ENVASES Y EMBALAJES"},{codigo:"05",denominacion:"SUMINISTROS DIVERSOS"},{codigo:"99",denominacion:"OTROS (ESPECIFICAR)"}];tabla6=[{codigo:"01",denominacion:"KILOGRAMOS"},{codigo:"02",denominacion:"LIBRAS"},{codigo:"03",denominacion:"TONELADAS LARGAS"},{codigo:"04",denominacion:"TONELADAS M\xC9TRICAS"},{codigo:"05",denominacion:"TONELADAS CORTAS"},{codigo:"06",denominacion:"GRAMOS"},{codigo:"07",denominacion:"UNIDADES"},{codigo:"08",denominacion:"LITROS"},{codigo:"09",denominacion:"GALONES"},{codigo:"10",denominacion:"BARRILES"},{codigo:"11",denominacion:"LATAS"},{codigo:"12",denominacion:"CAJAS"},{codigo:"13",denominacion:"MILLARES"},{codigo:"14",denominacion:"METROS C\xDABICOS"},{codigo:"15",denominacion:"METROS"},{codigo:"99",denominacion:"OTROS (ESPECIFICAR)"}];tabla10=[{state:"1",destination:"compra",codigo:"00",denominacion:"Otros (especificar)"},{state:"1",destination:"compra",codigo:"01",denominacion:"Factura"},{state:"1",destination:"admin",codigo:"02",denominacion:"Recibo por Honorarios"},{state:"1",destination:"compra",codigo:"03",denominacion:"Boleta de Venta"},{state:"1",destination:"compra",codigo:"04",denominacion:"Liquidaci\xF3n de compra"},{state:"1",destination:"admin",codigo:"05",denominacion:"Boleto de compa\xF1\xEDa de aviaci\xF3n comercial por el servicio de transporte a\xE9reo de pasajeros"},{state:"1",destination:"admin",codigo:"06",denominacion:"Carta de porte a\xE9reo por el servicio de transporte de carga a\xE9rea"},{state:"1",destination:"compra",codigo:"07",denominacion:"Nota de cr\xE9dito"},{state:"1",destination:"compra",codigo:"08",denominacion:"Nota de d\xE9bito"},{state:"1",destination:"admin",codigo:"09",denominacion:"Gu\xEDa de remisi\xF3n - Remitente"},{state:"1",destination:"admin",codigo:"10",denominacion:"Recibo por Arrendamiento"},{state:"1",destination:"admin",codigo:"14",denominacion:"Recibo por servicios p\xFAblicos de suministro de energ\xEDa el\xE9ctrica, agua, tel\xE9fono, telex y telegr\xE1ficos y otros servicios complementarios que se incluyan en el recibo de servicio p\xFAblico"},{state:"1",destination:"admin",codigo:"15",denominacion:"Boleto emitido por las empresas de transporte p\xFAblico urbano de pasajeros"},{state:"1",destination:"admin",codigo:"16",denominacion:"Boleto de viaje emitido por las empresas de transporte p\xFAblico interprovincial de pasajeros dentro del pa\xEDs"},{state:"1",destination:"admin",codigo:"17",denominacion:"Documento emitido por la Iglesia Cat\xF3lica por el arrendamiento de bienes inmuebles"},{state:"1",destination:"admin",codigo:"29",denominacion:"Documentos emitidos por la COFOPRI en calidad de oferta de venta de terrenos, los correspondientes a las subastas p\xFAblicas y a la retribuci\xF3n de los servicios que presta"},{state:"1",destination:"admin",codigo:"30",denominacion:"Documentos emitidos por las empresas que desempe\xF1an el rol adquirente en los sistemas de pago mediante tarjetas de cr\xE9dito y d\xE9bito"},{state:"1",destination:"admin",codigo:"31",denominacion:"Gu\xEDa de Remisi\xF3n - Transportista"},{state:"1",destination:"admin",codigo:"32",denominacion:"Documentos emitidos por las empresas recaudadoras de la denominada Garant\xEDa de Red Principal a la que hace referencia  el numeral 7.6 del art\xEDculo 7\xB0 de la Ley N\xB0 27133 \u2013 Ley de Promoci\xF3n del Desarrollo de la Industria del Gas Natural Gas Natural"},{state:"1",destination:"admin",codigo:"34",denominacion:"Documento del Operador"},{state:"1",destination:"admin",codigo:"35",denominacion:"Documento del Part\xEDcipe"},{state:"1",destination:"admin",codigo:"36",denominacion:"Recibo de Distribuci\xF3n de Gas Natural"},{state:"1",destination:"admin",codigo:"37",denominacion:"Documentos que emitan los concesionarios del servicio de revisiones t\xE9cnicas vehiculares, por la prestaci\xF3n de dicho servicio"},{state:"1",destination:"admin",codigo:"50",denominacion:"Declaraci\xF3n \xDAnica de Aduanas - Importaci\xF3n definitiva"},{state:"1",destination:"admin",codigo:"52",denominacion:"Despacho Simplificado - Importaci\xF3n Simplificada"},{state:"1",destination:"admin",codigo:"53",denominacion:"Declaraci\xF3n de Mensajer\xEDa o Courier"},{state:"1",destination:"admin",codigo:"54",denominacion:"Liquidaci\xF3n de Cobranza"},{state:"1",destination:"admin",codigo:"87",denominacion:"Nota de Cr\xE9dito Especial"},{state:"1",destination:"admin",codigo:"88",denominacion:"Nota de D\xE9bito Especial"},{state:"1",destination:"admin",codigo:"91",denominacion:"Comprobante de No Domiciliado"},{state:"1",destination:"admin",codigo:"96",denominacion:"Exceso de cr\xE9dito fiscal por retiro de bienes"},{state:"1",destination:"compra",codigo:"97",denominacion:"Nota de Cr\xE9dito - No Domiciliado"},{state:"1",destination:"compra",codigo:"98",denominacion:"Nota de D\xE9bito - No Domiciliado"},{state:"1",destination:"admin",codigo:"99",denominacion:"Otros -Consolidado de Boletas de Venta"},{state:"1",destination:"otro",codigo:"INV",denominacion:"Inventario inicial"},{state:"1",destination:"otro",codigo:"INTERNO",denominacion:"Documento interno"}];tabla12=[{codigo:"01",denominacion:"VENTA"},{codigo:"02",denominacion:"COMPRA"},{codigo:"03",denominacion:"CONSIGNACI\xD3N RECIBIDA"},{codigo:"04",denominacion:"CONSIGNACI\xD3N ENTREGADA"},{codigo:"05",denominacion:"DEVOLUCI\xD3N RECIBIDA"},{codigo:"06",denominacion:"DEVOLUCI\xD3N ENTREGADA"},{codigo:"07",denominacion:"PROMOCI\xD3N"},{codigo:"08",denominacion:"PREMIO"},{codigo:"09",denominacion:"DONACI\xD3N"},{codigo:"10",denominacion:"SALIDA A PRODUCCI\xD3N"},{codigo:"11",denominacion:"TRANSFERENCIA ENTRE ALMACENES"},{codigo:"12",denominacion:"RETIRO"},{codigo:"13",denominacion:"MERMAS"},{codigo:"14",denominacion:"DESMEDROS"},{codigo:"15",denominacion:"DESTRUCCI\xD3N"},{codigo:"16",denominacion:"SALDO INICIAL"},{codigo:"99",denominacion:"OTROS (ESPECIFICAR)"}];bien_detraccion=[{codigo:"001",denominacion:"Az\xFAcar"},{codigo:"003",denominacion:"Alcohol et\xEDlico"},{codigo:"004",denominacion:"Recursos hidrobiol\xF3gicos"},{codigo:"005",denominacion:"Ma\xEDz amarillo duro"},{codigo:"006",denominacion:"Algod\xF3n"},{codigo:"007",denominacion:"Ca\xF1a de az\xFAcar"},{codigo:"008",denominacion:"Madera    "},{codigo:"009",denominacion:"Arena y piedra."},{codigo:"010",denominacion:"Residuos, subproductos, desechos, recortes y desperdicios"},{codigo:"011",denominacion:"Bienes del inciso A) del Ap\xE9ndice I de la Ley del IGV"},{codigo:"012",denominacion:"Intermediaci\xF3n laboral y tercerizaci\xF3n"},{codigo:"013",denominacion:"Animales vivos"},{codigo:"014",denominacion:"Carnes y despojos comestibles"},{codigo:"015",denominacion:"Abonos, cueros y pieles de origen animal"},{codigo:"016",denominacion:"Aceite de pescado"},{codigo:"017",denominacion:"Harina, polvo y \u201Cpellets\u201D de pescado, crust\xE1ceos, moluscos y dem\xE1s invertebrados acu\xE1ticos"},{codigo:"018",denominacion:"Embarcaciones pesqueras"},{codigo:"019",denominacion:"Arrendamiento de bienes muebles"},{codigo:"020",denominacion:"Mantenimiento y reparaci\xF3n de bienes muebles"},{codigo:"021",denominacion:"Movimiento de carga"},{codigo:"022",denominacion:"Otros servicios empresariales"},{codigo:"023",denominacion:"Leche"},{codigo:"024",denominacion:"Comisi\xF3n mercantil"},{codigo:"025",denominacion:"Fabricaci\xF3n de bienes por encargo"},{codigo:"026",denominacion:"Servicio de transporte de personas"},{codigo:"029",denominacion:"Algod\xF3n en rama sin desmontar"},{codigo:"030",denominacion:"Contratos de construcci\xF3n"},{codigo:"031",denominacion:"Oro gravado con el IGV"},{codigo:"032",denominacion:"P\xE1prika y otros frutos de los g\xE9neros capsicum o pimienta"},{codigo:"033",denominacion:"Esp\xE1rragos"},{codigo:"034",denominacion:"Minerales met\xE1licos no aur\xEDferos"},{codigo:"035",denominacion:"Bienes exonerados del IGV"},{codigo:"036",denominacion:"Oro y dem\xE1s minerales met\xE1licos exonerados del IGV"},{codigo:"037",denominacion:"Dem\xE1s servicios gravados con el IGV"},{codigo:"039",denominacion:"Minerales no met\xE1licos"},{codigo:"040",denominacion:"Bien inmueble gravado con IGV"}];medio_pago=[{codigo:"001",denominacion:"DEP\xD3SITO EN CUENTA"},{codigo:"002",denominacion:"GIRO"},{codigo:"003",denominacion:"TRANSFERENCIA DE FONDOS"},{codigo:"004",denominacion:"ORDEN DE PAGO"},{codigo:"005",denominacion:"TARJETA DE D\xC9BITO"},{codigo:"006",denominacion:"TARJETA DE CR\xC9DITO EMITIDA EN EL PA\xCDS POR UNA EMPRESA DEL SISTEMA FINANCIERO"},{codigo:"007",denominacion:"CHEQUES CON LA CL\xC1USULA DE 'NO NEGOCIABLE', 'INTRANSFERIBLES', 'NO A LA ORDEN' U OTRA EQUIVALENTE, A QUE SE REFIERE EL INCISO G) DEL ARTICULO 5\xB0 DE LA LEY"},{codigo:"008",denominacion:"EFECTIVO, POR OPERACIONES EN LAS QUE NO EXISTE OBLIGACI\xD3N DE UTILIZAR MEDIO DE PAGO"},{codigo:"009",denominacion:"EFECTIVO, EN LOS DEM\xC1S CASOS"},{codigo:"010",denominacion:"MEDIOS DE PAGO USADOS EN COMERCIO EXTERIOR"},{codigo:"011",denominacion:"DOCUMENTOS EMITIDOS POR LAS EDPYMES Y LAS COOPERATIVAS DE AHORRO Y CR\xC9DITO NO AUTORIZADAS A CAPTAR DEP\xD3SITOS DEL P\xDABLICO"},{codigo:"012",denominacion:"TARJETA DE CR\xC9DITO EMITIDA EN EL PA\xCDS O EN EL EXTERIOR POR UNA EMPRESA NO PERTENECIENTE AL SISTEMA FINANCIERO, CUYO OBJETO PRINCIPAL SEA LA EMISI\xD3N Y ADMINISTRACI\xD3N DE TARJETAS DE CR\xC9DITO"},{codigo:"013",denominacion:"TARJETAS DE CR\xC9DITO EMITIDAS EN EL EXTERIOR POR EMPRESAS BANCARIAS O FINANCIERAS NO DOMICILIADAS"},{codigo:"101",denominacion:"TRANSFERENCIAS - COMERCIO EXTERIOR"},{codigo:"102",denominacion:"CHEQUES BANCARIOS - COMERCIO EXTERIOR"},{codigo:"103",denominacion:"ORDEN DE PAGO SIMPLE - COMERCIO EXTERIOR"},{codigo:"104",denominacion:"ORDEN DE PAGO DOCUMENTARIO - COMERCIO EXTERIOR"},{codigo:"105",denominacion:"REMESA SIMPLE - COMERCIO EXTERIOR"},{codigo:"106",denominacion:"REMESA DOCUMENTARIA - COMERCIO EXTERIOR"},{codigo:"107",denominacion:"CARTA DE CR\xC9DITO SIMPLE - COMERCIO EXTERIOR"},{codigo:"108",denominacion:"CARTA DE CR\xC9DITO DOCUMENTA"}];operacion=[{codigo:"0101",denominacion:"Venta interna",documentos:"Factura, Boletas",tipo_documentos:",01,03,"},{codigo:"0112",denominacion:"Venta Interna - Sustenta Gastos Deducibles Persona Natural",documentos:"Factura",tipo_documentos:",01,"},{codigo:"0113",denominacion:"Venta Interna - NRUS",documentos:"Boleta",tipo_documentos:",03,"},{codigo:"1001",denominacion:"Operaci\xF3n Sujeta a Detracci\xF3n",documentos:"Factura, Boletas",tipo_documentos:",01,03,"},{codigo:"1002",denominacion:"Operaci\xF3n Sujeta a Detracci\xF3n - Recursos Hidrobiol\xF3gicos",documentos:"Factura, Boletas",tipo_documentos:",01,03,"},{codigo:"1003",denominacion:"Operaci\xF3n Sujeta a Detracci\xF3n - Servicios de Transporte Pasajeros",documentos:"Factura, Boletas",tipo_documentos:",01,03,"},{codigo:"1004",denominacion:"Operaci\xF3n Sujeta a Detracci\xF3n - Servicios de Transporte Carga",documentos:"Factura, Boletas",tipo_documentos:",01,03,"},{codigo:"2001",denominacion:"Operaci\xF3n Sujeta a Percepci\xF3n",documentos:"Factura, Boletas",tipo_documentos:",01,03,"},{codigo:"2002",denominacion:"Operaci\xF3n sujeta a Retenci\xF3n de Renta de segunda categor\xEDa",documentos:"Factura",tipo_documentos:",01,"}];motivo_ingreso=[{codigo:"01",denominacion:"MOTIVO 01"},{codigo:"02",denominacion:"MOTIVO 02"}];$motivo_ingreso={};constructor(){this.tipo_documentos_all.forEach(t=>{this.$tipo_documento[t.codigo]=t.denominacion,this.$tipo_documento_color[t.codigo]=t}),this.estado_documento.forEach(t=>{this.$estado_documento[t.codigo]=t.denominacion}),this.estado_documento_corto.forEach(t=>{this.$estado_documento_corto[t.codigo]=t.denominacion}),this.estado_proforma.forEach(t=>{this.$estado_proforma[t.codigo]=t.denominacion}),this.estado_salida.forEach(t=>{this.$estado_salida[t.codigo]=t.denominacion}),this.afectacion.forEach(t=>{this.$afectacion[t.codigo]=t.denominacion}),this.afectacion_salida.forEach(t=>{this.$afectacion_salida[t.codigo]=t.denominacion}),this.motivo_nota_credito.forEach(t=>{this.$motivo_nota_credito[t.codigo]=t.descripcion}),this.motivo_nota_debito.forEach(t=>{this.$motivo_nota_debito[t.codigo]=t.descripcion}),this.condicion_pago.forEach(t=>{this.$condicion_pago[t.codigo]=t.denominacion}),this.moneda.forEach(t=>{this.$currencies[t.codigo]=t}),this.forma_pago.forEach(t=>{this.$forma_pago[t.codigo]=t.denominacion}),this.tabla5.forEach(t=>{this.$tabla5[t.codigo]=t.denominacion}),this.tabla6.forEach(t=>{this.$tabla6[t.codigo]=t.denominacion}),this.tabla10.forEach(t=>{this.$tabla10[t.codigo]=t.denominacion}),this.tabla12.forEach(t=>{this.$tabla12[t.codigo]=t.denominacion}),this.bien_detraccion.forEach(t=>{this.$bien_detraccion[t.codigo]=t.denominacion}),this.medio_pago.forEach(t=>{this.$medio_pago[t.codigo]=t.denominacion}),this.operacion.forEach(t=>{this.$operacion[t.codigo]=t.denominacion}),this.motivo_ingreso.forEach(t=>{this.$motivo_ingreso[t.codigo]=t.denominacion})}static isExonerado(t){return["20","21"].includes(t)}static isGravado(t){return["10","11","12","13","14","15","16","17"].includes(t)}static isOnerosa(t){return["30","31"].includes(t)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})};var In=n=>({"has-danger":n}),$o=(n,t)=>t.id;function U8(n,t){if(n&1&&(r(0,"option",8),c(1),o()),n&2){let e=t.$implicit;d("value",R(e.id)),l(),O(" ",e.denomination," ")}}function L8(n,t){if(n&1&&(r(0,"option",8),c(1),o()),n&2){let e=t.$implicit;d("value",R(e.id)),l(),O(" ",e.denomination," ")}}function Y8(n,t){if(n&1&&(r(0,"option",8),c(1),o()),n&2){let e=t.$implicit;d("value",R(e.id)),l(),b(e.denomination)}}function R8(n,t){if(n&1&&(r(0,"option",8),c(1),o()),n&2){let e=t.$implicit;d("value",R(e.id)),l(),b(e.serie)}}function N8(n,t){if(n&1&&(r(0,"option",8),c(1),o()),n&2){let e=t.$implicit;d("value",R(e.codigo)),l(),b(e.denominacion)}}var qo=class n{detalleForm=new xe({});item;idinstitucion="";submit=!1;cs=g(yi);FEService=g(sn);areas_all=this.cs.cs.getSignal("areasAll");areas=[];establecimientos=[];establecimientos_all=this.cs.cs.getSignal("establishmentsAll");microredesAll=this.cs.cs.getSignal("microgridsAll");series=this.cs.getSignal("series");typeDocuments=this.FEService.tipo_documentos_all;ngOnInit(){return x(this,null,function*(){yield this.cs.getCatalogos({areasAll:!0,microgridsAll:!0,establishmentsAll:!0,series:!0,idinstitution:this.idinstitucion}),this.item?(this.changeMicrored(),this.item.field2!==null&&this.item.field2!==""&&this.changeEstablecimiento()):this.changeMicrored()})}get campo_1Control(){return this.detalleForm.get("campo_1")}get campo_2Control(){return this.detalleForm.get("campo_2")}get campo_3Control(){return this.detalleForm.get("campo_3")}get campo_4Control(){return this.detalleForm.get("campo_4")}get campo_5Control(){return this.detalleForm.get("campo_5")}changeMicrored(){let t=this.campo_1Control.value;t!=""?this.establecimientos=this.establecimientos_all().filter(e=>e.microgrid_id+""==t+""):this.establecimientos=this.establecimientos_all(),this.areas=[]}changeEstablecimiento(){let t=this.campo_2Control.value;t!=""?this.areas=this.areas_all().filter(e=>e.establishment_id+""==t+""):this.areas=this.areas_all()}save(){}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=z({type:n,selectors:[["app-ui-user-rol-detail-form"]],inputs:{detalleForm:"detalleForm",item:"item",idinstitucion:"idinstitucion",submit:"submit"},decls:63,vars:26,consts:[[1,"",3,"submit","formGroup"],[1,"row"],[1,"col-md-12"],[1,"form-group","row",3,"ngClass"],["for","sucursal",1,"control-label","col-12","col-md-4"],[1,"col-12","col-md-8"],["name","sucursal","id","sucursal","formControlName","campo_1",1,"form-select",3,"change"],["value",""],[3,"value"],[1,"left",3,"control","show"],["for","almacen",1,"control-label","col-12","col-md-4"],["name","almacen","id","almacen","formControlName","campo_2",1,"form-select",3,"change"],[1,"col-12"],["for","documento",1,"control-label","col-12","col-md-4"],[1,"ml-2"],["name","documento","id","documento","formControlName","campo_3",1,"form-select"],["name","documento","id","documento","formControlName","campo_4",1,"form-select"],["name","documento","id","documento","formControlName","campo_5",1,"form-select"]],template:function(e,i){e&1&&(r(0,"form",0),f("submit",function(){return i.save()}),r(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4),c(5,"Local a cargo "),o(),r(6,"div",5)(7,"select",6),f("change",function(){return i.changeMicrored()}),r(8,"option",7),c(9,"Todos"),o(),L(10,U8,2,3,"option",8,$o),o(),p(12,"app-control-messages",9),o()()(),r(13,"div",2)(14,"div",3)(15,"label",10),c(16,"Establecimiento a cargo "),o(),r(17,"div",5)(18,"select",11),f("change",function(){return i.changeEstablecimiento()}),r(19,"option",7),c(20,"Todos"),o(),L(21,L8,2,3,"option",8,$o),o(),p(23,"app-control-messages",9),o()()(),r(24,"div",12)(25,"div",3)(26,"label",13),c(27,"Area a cargo "),r(28,"small",14),c(29,"(por defecto)"),o()(),r(30,"div",5)(31,"select",15)(32,"option",7),c(33,"Todos"),o(),L(34,Y8,2,3,"option",8,$o),o(),p(36,"app-control-messages",9),o()()(),r(37,"div",12)(38,"div",3)(39,"label",13),c(40,"Serie "),r(41,"small",14),c(42,"(por defecto)"),o()(),r(43,"div",5)(44,"select",16)(45,"option",7),c(46,"Todos"),o(),L(47,R8,2,3,"option",8,$o),o(),p(49,"app-control-messages",9),o()()(),r(50,"div",12)(51,"div",3)(52,"label",13),c(53,"Tipo documento "),r(54,"small",14),c(55,"(por defecto)"),o()(),r(56,"div",5)(57,"select",17)(58,"option",7),c(59,"Todos"),o(),L(60,N8,2,3,"option",8,J),o(),p(62,"app-control-messages",9),o()()()()()),e&2&&(d("formGroup",i.detalleForm),l(3),d("ngClass",y(16,In,i.submit&&i.campo_1Control.invalid||i.campo_1Control.invalid&&i.campo_1Control.touched)),l(7),Y(i.microredesAll()),l(2),d("control",i.campo_1Control)("show",i.submit),l(2),d("ngClass",y(18,In,i.submit&&i.campo_2Control.invalid||i.campo_2Control.invalid&&i.campo_2Control.touched)),l(7),Y(i.establecimientos),l(2),d("control",i.campo_2Control)("show",i.submit),l(2),d("ngClass",y(20,In,i.submit&&i.campo_3Control.invalid||i.campo_3Control.invalid&&i.campo_3Control.touched)),l(9),Y(i.areas),l(2),d("control",i.campo_3Control)("show",i.submit),l(2),d("ngClass",y(22,In,i.submit&&i.campo_4Control.invalid||i.campo_4Control.invalid&&i.campo_4Control.touched)),l(9),Y(i.series()),l(2),d("control",i.campo_4Control)("show",i.submit),l(2),d("ngClass",y(24,In,i.submit&&i.campo_5Control.invalid||i.campo_5Control.invalid&&i.campo_5Control.touched)),l(9),Y(i.typeDocuments),l(2),d("control",i.campo_5Control)("show",i.submit))},dependencies:[ye,we,Ge,Ke,We,de,ze,Ee,Te,Pe,U],encapsulation:2})};var B8=n=>({"modal-body px-0":n}),ma=n=>({"has-danger":n}),j8=(n,t)=>t.code,$8=(n,t)=>t.idaplicacion,q8=(n,t)=>t.idrol;function W8(n,t){if(n&1){let e=S();r(0,"div",0)(1,"h4",13),c(2,"DATOS DEL ROL"),o(),r(3,"button",14),f("click",function(){h(e);let a=u();return v(a.close())}),o()()}}function G8(n,t){if(n&1&&(r(0,"option",7),c(1),o()),n&2){let e=t.$implicit;d("value",R(e.idaplicacion)),l(),b(e.denominacion)}}function K8(n,t){if(n&1&&(r(0,"option",7),c(1),o()),n&2){let e=t.$implicit;d("value",R(e.idrol)),l(),Be("[",e.idrol,"] - ",e.denominacion_rol)}}function X8(n,t){if(n&1){let e=S();r(0,"div",3)(1,"label",15),c(2,"Sistema "),o(),r(3,"div",5)(4,"select",16),f("change",function(){h(e);let a=u();return v(a.changeApplication())}),r(5,"option",17),c(6,"Todos"),o(),L(7,G8,2,3,"option",7,$8),o(),p(9,"app-control-messages",8),o()(),r(10,"div",3)(11,"label",18),c(12,"ROL "),o(),r(13,"div",5)(14,"select",19),f("change",function(){h(e);let a=u();return v(a.changeRol())}),r(15,"option",17),c(16,"Seleccione"),o(),L(17,K8,2,4,"option",7,q8),o(),p(19,"app-control-messages",8),o()()}if(n&2){let e=u();d("ngClass",y(6,ma,e.submit&&e.systemIdControl.invalid||e.systemIdControl.invalid&&e.systemIdControl.touched)),l(7),Y(e.applications()),l(2),d("control",e.systemIdControl)("show",e.submit),l(),d("ngClass",y(8,ma,e.submit&&e.rolIdControl.invalid||e.rolIdControl.invalid&&e.rolIdControl.touched)),l(7),Y(e.roles),l(2),d("control",e.rolIdControl)("show",e.submit)}}function Q8(n,t){if(n&1&&(r(0,"div",20)(1,"label",21),c(2,"Sistema "),o(),r(3,"div",5)(4,"div",22),c(5),o()()(),r(6,"div",20)(7,"label",18),c(8,"ROL "),o(),r(9,"div",5)(10,"div",22),c(11),o()()()),n&2){let e=u();l(5),O(" ",e.userRol==null?null:e.userRol.system," "),l(6),O(" ",e.userRol==null?null:e.userRol.rol," ")}}function Z8(n,t){if(n&1&&(r(0,"option",7),c(1),o()),n&2){let e=t.$implicit;d("value",e.code),l(),b(e.denomination)}}function J8(n,t){if(n&1&&p(0,"app-ui-user-rol-detail-form",9),n&2){let e=u();d("detalleForm",e.formDetail)("item",e.userRol)("idinstitucion",e.institution_id)("submit",e.submit)}}function e5(n,t){if(n&1){let e=S();r(0,"app-ui-rol-detail-select",23),le("opcionesChange",function(a){h(e);let s=u();return Q(s.privilegios,a)||(s.privilegios=a),v(a)})("subopcionesChange",function(a){h(e);let s=u();return Q(s.subprivilegios,a)||(s.subprivilegios=a),v(a)}),o()}if(n&2){let e=u();d("idrol",R(e.rol_id)),oe("opciones",e.privilegios)("subopciones",e.subprivilegios)}}function t5(n,t){if(n&1){let e=S();r(0,"button",26),f("click",function(){h(e);let a=u(2);return v(a.close())}),c(1," Cancelar "),o()}}function i5(n,t){n&1&&c(0," Adicionar rol ")}function n5(n,t){n&1&&c(0," Guardar cambios ")}function o5(n,t){if(n&1){let e=S();r(0,"div",12),_(1,t5,2,0,"button",24),r(2,"button",25),f("click",function(){h(e);let a=u();return v(a.save())}),_(3,i5,1,0)(4,n5,1,0),o()()}if(n&2){let e=u();l(),C(e.isModal?1:-1),l(2),C(e.accion=="add"?3:4)}}function a5(n,t){n&1&&p(0,"app-loading")}var dn=class n{constructor(t){this.modalActive=t}accion="add";userRol;isModal=!0;institution_id="";uid="";user_id="";system="";typeUser="";state="1";rol_id="";showOption=!0;onSave=new He(!1);isSave=!0;eventChange=new H;userRolService=g(Pt);authService=g(A);rolService=g(Rt);catalogsService=g(ke);states=this.userRolService.states;subscriptions=[];applications=this.catalogsService.getSignal("applications");privilegios="**";subprivilegios="**";ngOnInit(){return x(this,null,function*(){this.institution_id===""&&(this.institution_id=this.authService.institucionData?.idinstitucion+""),this.uid===""&&(this.uid=this.authService.userData.id+"");let t=this.onSave.subscribe(e=>{e&&this.save()});if(this.subscriptions.push(t),console.log("**************************"),console.log("this.userRol"),console.log(this.userRol),console.log("**************************"),this.accion=="update"){if(!this.userRol)return;this.privilegios=this.userRol.privileges,this.subprivilegios=this.userRol.subPrivileges,this.form.patchValue({userId:this.userRol.user_id+"",rol:this.userRol.rol,privileges:this.userRol.privileges,subPrivileges:this.userRol.subPrivileges,typeUser:this.userRol.typeUser+"",state:this.userRol.state,rolId:this.userRol.rol_id+"",system:this.userRol.system,field1:this.userRol.field1,field2:this.userRol.field2,field3:this.userRol.field3,field4:this.userRol.field4,field5:this.userRol.field5,systemId:"0"}),this.formDetail.patchValue({campo_1:this.userRol.field1,campo_2:this.userRol.field2,campo_3:this.userRol.field3,campo_4:this.userRol.field4,campo_5:this.userRol.field5}),this.rol_id=this.userRol.rol_id+"",this.showRol=!0;let e=yield this.rolService.data({idrol:+this.userRol.rol_id});e.state=="success"&&(this.form.patchValue({rol:e.data?.codigo_rol}),this.ubicar=e.data?.ubicar)}else this.accion=="add"&&this.form.patchValue({userId:this.user_id,typeUser:this.typeUser,state:this.state,rolId:this.rol_id});if(yield this.catalogsService.getCatalogos({idinstitution:this.institution_id,applications:!0}),this.accion=="add"){if(this.form.patchValue({typeUser:"1"}),this.system=="")return;let e=this.applications().find(i=>i.codigo+""==this.system);e&&(this.form.patchValue({systemId:e.idaplicacion+"",system:e.codigo,rolId:this.rol_id}),yield this.changeApplication(),yield this.changeRol())}})}ngAfterViewInit(){setTimeout(()=>{document.getElementById("userId")?.focus()},150)}formDetail=new xe({campo_1:new F("",{validators:[],nonNullable:!0}),campo_2:new F("",{validators:[],nonNullable:!0}),campo_3:new F("",{validators:[],nonNullable:!0}),campo_4:new F("",{validators:[],nonNullable:!0}),campo_5:new F("",{validators:[],nonNullable:!0})});get campo_1Control(){return this.form.get("campo_1")}get campo_2Control(){return this.form.get("campo_2")}get campo_3Control(){return this.form.get("campo_3")}get campo_4Control(){return this.form.get("campo_4")}get campo_5Control(){return this.form.get("campo_5")}form=new xe({userId:new F("0",{validators:[],nonNullable:!0}),rol:new F("",{validators:[N.required],nonNullable:!0}),privileges:new F("",{validators:[],nonNullable:!0}),subPrivileges:new F("",{validators:[],nonNullable:!0}),typeUser:new F("0",{validators:[N.required],nonNullable:!0}),systemId:new F("",{validators:[N.required],nonNullable:!0}),state:new F("1",{validators:[N.required],nonNullable:!0}),rolId:new F("0",{validators:[N.required],nonNullable:!0}),system:new F("",{validators:[N.required],nonNullable:!0}),field1:new F("",{validators:[],nonNullable:!0}),field2:new F("",{validators:[],nonNullable:!0}),field3:new F("",{validators:[],nonNullable:!0}),field4:new F("",{validators:[],nonNullable:!0}),field5:new F("",{validators:[],nonNullable:!0})});get userIdControl(){return this.form.get("userId")}get rolControl(){return this.form.get("rol")}get privilegesControl(){return this.form.get("privileges")}get subPrivilegesControl(){return this.form.get("subPrivileges")}get typeUserControl(){return this.form.get("typeUser")}get stateControl(){return this.form.get("state")}get rolIdControl(){return this.form.get("rolId")}get systemControl(){return this.form.get("system")}get systemIdControl(){return this.form.get("systemId")}get field1Control(){return this.form.get("field1")}get field2Control(){return this.form.get("field2")}get field3Control(){return this.form.get("field3")}get field4Control(){return this.form.get("field4")}get field5Control(){return this.form.get("field5")}close(){this.isModal?this.modalActive.dismiss():this.eventChange.emit({event:"close",data:void 0})}submit=!1;loading=!1;save(){return x(this,null,function*(){if(this.submit=!0,console.log(this.form),this.form.patchValue({privileges:this.privilegios,subPrivileges:this.subprivilegios}),!this.form.valid)return;this.submit=!1;let t=this.form.value,e=this.formDetail.value;if(this.accion=="add"){let i={user_id:+t.userId,rol:t.rol,privileges:t.privileges,subPrivileges:t.subPrivileges,typeUser:+t.typeUser,state:t.state,rol_id:+t.rolId,system:t.system,field1:e.campo_1,field2:e.campo_2,field3:e.campo_3,field4:e.campo_4,field5:e.campo_5};if(!this.isSave){this.isModal?this.modalActive.close(i):this.eventChange.emit({event:"add",data:i});return}this.loading=!0;let a=yield this.userRolService.add(i);this.loading=!1,a.state=="success"&&(this.isModal?this.modalActive.close(a.data):this.eventChange.emit({event:"add",data:a.data}))}else if(this.accion=="update"){let i={user_id:+t.userId,rol:t.rol,privileges:t.privileges,subPrivileges:t.subPrivileges,typeUser:+t.typeUser,state:t.state,rol_id:+t.rolId,system:t.system,field1:e.campo_1,field2:e.campo_2,field3:e.campo_3,field4:e.campo_4,field5:e.campo_5,id:+this.userRol?.id};if(!this.isSave){this.isModal?this.modalActive.close(i):this.eventChange.emit({event:"update",data:i});return}this.loading=!0;let a=yield this.userRolService.update(i);this.loading=!1,a.state=="success"&&(this.isModal?this.modalActive.close(i):this.eventChange.emit({event:"update",data:i}))}})}ubicar="";roles=[];showRol=!1;changeRol(){this.showRol=!1,this.ubicar="",setTimeout(t=>{this.showRol=!0;let e=this.roles.find(i=>i.idrol+""==this.rolIdControl.value);e&&(this.ubicar=e.ubicar,this.rol_id=e.idrol+"",this.form.patchValue({rolId:e.idrol+"",rol:e.codigo_rol}))},250)}changeApplication(){return x(this,null,function*(){let t=this.systemIdControl.value;if(t==""){this.roles=[];return}let e=this.applications().find(a=>a.idaplicacion+""==t);this.form.patchValue({system:e?.codigo});let i=yield this.rolService.list({sistema:e?.codigo,estado_rol:"1"});i.state=="success"&&(this.roles=i.list)})}ngOnDestroy(){this.subscriptions.forEach(t=>{t.unsubscribe()})}static \u0275fac=function(e){return new(e||n)(ee(ae,8))};static \u0275cmp=z({type:n,selectors:[["app-ui-user-rol-form"]],inputs:{accion:"accion",userRol:"userRol",isModal:"isModal",institution_id:"institution_id",uid:"uid",user_id:"user_id",system:"system",typeUser:"typeUser",state:"state",rol_id:"rol_id",showOption:"showOption",onSave:"onSave",isSave:"isSave"},outputs:{eventChange:"eventChange"},decls:18,vars:16,consts:[[1,"modal-header"],[1,"",3,"ngClass"],[1,"container",3,"submit","formGroup"],[1,"form-group","row",3,"ngClass"],["for","stateUs",1,"control-label","col-12","col-md-4"],[1,"col-12","col-md-8"],["name","stateUs","id","stateUs","formControlName","state",1,"form-select"],[3,"value"],[1,"left",3,"control","show"],[3,"detalleForm","item","idinstitucion","submit"],[1,""],[3,"idrol","opciones","subopciones"],[1,"modal-footer"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["for","systemId",1,"control-label","col-12","col-md-4"],["name","systemId","id","systemId","formControlName","systemId",1,"form-select",3,"change"],["value",""],["for","rol",1,"control-label","col-12","col-md-4"],["name","rol","id","rol","formControlName","rolId",1,"form-select",3,"change"],[1,"form-group","row"],["for","system",1,"control-label","col-12","col-md-4"],[1,"form-control","disabled"],[3,"opcionesChange","subopcionesChange","idrol","opciones","subopciones"],["app-button","","size","lg","variant","outline","color","dark","type","button"],["type","button","app-button","","size","lg",3,"click"],["app-button","","size","lg","variant","outline","color","dark","type","button",3,"click"]],template:function(e,i){e&1&&(_(0,W8,4,0,"div",0),r(1,"div",1)(2,"form",2),f("submit",function(){return i.save()}),_(3,X8,20,10),_(4,Q8,12,2),r(5,"div",3)(6,"label",4),c(7,"Estado "),o(),r(8,"div",5)(9,"select",6),L(10,Z8,2,2,"option",7,j8),o(),p(12,"app-control-messages",8),o()(),_(13,J8,1,4,"app-ui-user-rol-detail-form",9),o(),r(14,"div",10),_(15,e5,1,4,"app-ui-rol-detail-select",11),o()(),_(16,o5,5,2,"div",12),_(17,a5,1,0,"app-loading")),e&2&&(C(i.isModal?0:-1),l(),d("ngClass",y(12,B8,i.isModal)),l(),d("formGroup",i.form),l(),C(i.accion=="add"?3:-1),l(),C(i.accion=="update"?4:-1),l(),d("ngClass",y(14,ma,i.stateControl.invalid&&(i.stateControl.touched||i.submit))),l(5),Y(i.states),l(2),d("control",i.stateControl)("show",i.submit),l(),C(i.ubicar=="1"?13:-1),l(2),C(i.showRol?15:-1),l(),C(i.showOption?16:-1),l(),C(i.loading?17:-1))},dependencies:[ye,we,Ge,Ke,We,de,ze,Ee,Te,Pe,U,ie,qo,jo,zt,Zt],encapsulation:2})};var ti=(i=>(i.BLOQUEADO="2",i.ACTIVE="1",i.PENDIENTE="0",i))(ti||{});var Vt=class n{api=`${K.account2}/user-person`;apiUser=`${K.account2}/user`;apiService=g(fe);confirmationService=g(X);loadingService=g(Oe);authService=g(A);toastrService=g(ce);states=[{code:"1",denomination:"Activo"},{code:"0",denomination:"Pendiente"},{code:"2",denomination:"Bloqueado"}];stateMap=this.states.reduce((t,e)=>(t[e.code]=e.denomination,t),{});canAdd=!1;canEdit=!1;canRemove=!1;canChangeState=!1;canExport=!1;canExportExcel=!1;canExportPdf=!1;isDetail=!1;constructor(){this.canAdd=this.authService.hasSubPermission("USER-ADD"),this.canEdit=this.authService.hasSubPermission("USER-EDIT"),this.canRemove=this.authService.hasSubPermission("USER-REMOVE"),this.canChangeState=this.authService.hasSubPermission("USER-CHANGE-STATE"),this.canExport=this.authService.hasSubPermission("USER-EXPORT"),this.canExportExcel=this.authService.hasSubPermission("USER-EXPORT-EXCEL"),this.canExportPdf=this.authService.hasSubPermission("USER-EXPORT-PDF")}list(t){return x(this,null,function*(){if(t.idinstitucion==""){this.toastrService.error("No se ha enviado el id de la instituci\xF3n");return}let e=yield this.apiService.getPrivate(`${this.api}/list`,t);return e.state=="success"&&console.log(e.data),e})}add(t){return x(this,null,function*(){let e=yield this.apiService.postPrivate(`${this.api}/create`,t);return e.state=="success"&&e.data&&this.toastrService.success(e.message,"Se guard\xF3 con \xE9xito"),e})}singup(t){return x(this,null,function*(){let e=yield this.apiService.post(`${K.account2}/auth/singup`,t);return e.state=="success"&&e.data&&this.toastrService.success(e.message),e})}addUser(t){return x(this,null,function*(){let e=yield this.apiService.postPrivate(`${this.api}/create/user`,t);return e.state=="success"&&e.data&&this.toastrService.success(e.message,"Se guard\xF3 con \xE9xito"),e})}update(t){return x(this,null,function*(){let e=yield this.apiService.putPrivate(`${this.api}/update/${t.person?.id}`,t);return e.state=="success"&&this.toastrService.success(e.message),e})}delete(t){return x(this,null,function*(){})}data(t){return x(this,null,function*(){return yield this.apiService.getPrivate(`${this.api}/data/${t}`)})}findDuplicate(t){return x(this,null,function*(){return yield this.apiService.postPrivate(`${this.api}/duplicate`,t)})}changeState(t,e){return x(this,null,function*(){let i=this.stateMap[e],a="text-success";e=="2"?a="text-danger":e=="0"&&(a="text-warning");let s=`
            <div class="text-center">
                <div class="mb-3">\xBFEst\xE1 seguro de cambiar el estado del usuario?</div>
                <h3>Nuevo estado: <b class = "${a}">${i}</b></h3>
            </div>
        `;if(!(yield this.confirmationService.create("Confirmar",s)))return;this.loadingService.open();let M={state:e,idinstitucion:+t.idinstitucion,id:t.id},P=yield this.apiService.putPrivate(`${this.apiUser}/state/change/${t.id}`,M);return this.loadingService.hide(),P.state=="success"&&(t.state=e+""),P})}changeTypeUser(t,e){return x(this,null,function*(){let i=`
            <div class="text-center">
                <div class="mb-3">\xBFEst\xE1 seguro de cambiar el tipo de usuario?</div>
                <h3>Nuevo tipo: <b>${e.denomination}</b></h3>
            </div>
        `;if(!(yield this.confirmationService.create("Confirmar",i)))return;this.loadingService.open();let s={tipo:e.code,idinstitucion:`${t.personDetail?.idinstitucion}`};console.log(t);let m=yield this.apiService.putPrivate(`${this.api}/type/change/${t.id}`,s);return this.loadingService.hide(),m.state=="success",m})}export(t,e){return x(this,null,function*(){if(!(yield this.confirmationService.create("Confirmar","\xBFEst\xE1s seguro de exportar los datos?")))return;this.loadingService.open();let a=ve(re({},t),{type_export:e,url:K.storage_view,institution:this.authService.getInstitution()});console.log(a,"<=ese es el tem\u1E55");let s=yield this.apiService.postPrivate(`${this.api}/export`,a);return this.loadingService.hide(),s&&s.state=="success"&&window.open(s.url),s})}template(t,e){return e.forEach(i=>{i.value=i.value.replace(/ /g,""),t=this.templateReplace(i.field,i.value,t)}),t.toLowerCase()}templateReplace(t,e,i){if(!i.includes(t))return i;let a=new RegExp(t+"\\((\\d+)\\)","g"),s,m=[];for(;(s=a.exec(i))!==null;){let M=parseInt(s[1]),P=e.substring(0,M);m.push({new_value:P,value:s[0]})}return m.length==0?i.replace(t,e):(m.forEach(M=>{i=i.replace(M.value,M.new_value)}),i)}detalleAdd(t){return x(this,null,function*(){let e=yield this.apiService.postPrivate(`${this.api}/create/person`,t);return e.state=="success"&&e.data&&this.toastrService.success(e.message,"Se guard\xF3 con \xE9xito"),e})}synchronize(t){return x(this,null,function*(){let e=yield this.apiService.postPrivate(`${this.api}/sync`,t);return e.state=="success"&&e.data&&this.toastrService.success(e.message,"Se guard\xF3 con \xE9xito"),e})}static \u0275fac=function(e){return new(e||n)};static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})};var l5=n=>({active:n}),g0=(n,t)=>({item:n,indice:t}),pa=n=>({td_error:n}),c5=(n,t)=>t.id;function s5(n,t){if(n&1&&(r(0,"option",7),c(1),o()),n&2){let e=t.$implicit;d("value",R(e.codigo)),l(),b(e.denominacion)}}function d5(n,t){if(n&1&&(r(0,"option",7),c(1),o()),n&2){let e=t.$implicit;d("value",R(e.codigo_rol)),l(),b(e.denominacion_rol)}}function m5(n,t){if(n&1&&(r(0,"option",7),c(1),o()),n&2){let e=t.$implicit;d("value",R(e.id)),l(),Be("[",e.code,"] - ",e.denomination)}}function p5(n,t){if(n&1&&(r(0,"option",7),c(1),o()),n&2){let e=t.$implicit;d("value",R(e.id)),l(),b(e.denomination)}}function u5(n,t){if(n&1&&(r(0,"option",7),c(1),o()),n&2){let e=t.$implicit;d("value",R(e.code)),l(),b(e.denomination)}}function h5(n,t){n&1&&(r(0,"th",24),c(1,"Documento"),o(),r(2,"th"),c(3,"Usuario"),o())}function v5(n,t){if(n&1&&(r(0,"td",34),c(1),o(),r(2,"td",34),c(3),o()),n&2){let e=u().$implicit,i=u(2);d("ngClass",y(5,pa,(e.user==null?null:e.user.state)==i.EUserState.BLOQUEADO)),l(),b(e.user==null||e.user.personDetail==null||e.user.personDetail.person==null?null:e.user.personDetail.person.numberDocument),l(),d("ngClass",y(7,pa,(e.user==null?null:e.user.state)==i.EUserState.BLOQUEADO)),l(),Be("",e.user==null||e.user.personDetail==null||e.user.personDetail.person==null?null:e.user.personDetail.person.name," ",e.user==null||e.user.personDetail==null||e.user.personDetail.person==null?null:e.user.personDetail.person.surname)}}function g5(n,t){n&1&&(r(0,"div",30),c(1,"Todos"),o())}function f5(n,t){if(n&1&&c(0),n&2){let e=u(2).$implicit,i=u(2);O(" ",i.microgridsAll_map()[e.field1].denomination," ")}}function _5(n,t){if(n&1&&(r(0,"div",35),c(1),o()),n&2){let e=u(2).$implicit;l(),O("No encontrado (",e.field1,")")}}function C5(n,t){if(n&1&&_(0,f5,1,1)(1,_5,2,1,"div",35),n&2){let e=u().$implicit,i=u(2);C(i.microgridsAll_map()[e.field1]?0:1)}}function x5(n,t){n&1&&(r(0,"div",30),c(1,"Todos"),o())}function b5(n,t){if(n&1&&c(0),n&2){let e=u(2).$implicit,i=u(2);O(" ",i.establishmentsAll_map()[e.field2].denomination," ")}}function S5(n,t){if(n&1&&(r(0,"div",35),c(1),o()),n&2){let e=u(2).$implicit;l(),O("No encontrado (",e.field2,")")}}function y5(n,t){if(n&1&&_(0,b5,1,1)(1,S5,2,1,"div",35),n&2){let e=u().$implicit,i=u(2);C(i.establishmentsAll_map()[e.field2]?0:1)}}function M5(n,t){n&1&&(r(0,"div",30),c(1,"Todos"),o())}function z5(n,t){if(n&1&&c(0),n&2){let e=u(2).$implicit,i=u(2);O(" ",i.areasAll_map()[e.field3].denomination," ")}}function w5(n,t){if(n&1&&(r(0,"div",35),c(1),o()),n&2){let e=u(2).$implicit;l(),O("No encontrado (",e.field3,")")}}function E5(n,t){if(n&1&&_(0,z5,1,1)(1,w5,2,1,"div",35),n&2){let e=u().$implicit,i=u(2);C(i.areasAll_map()[e.field3]?0:1)}}function T5(n,t){n&1&&(r(0,"div",30),c(1,"Todos"),o())}function P5(n,t){if(n&1&&c(0),n&2){let e=u(2).$implicit,i=u(2);O(" ",i.series_map()[e.field4].serie," ")}}function V5(n,t){if(n&1&&(r(0,"div",35),c(1),o()),n&2){let e=u(2).$implicit;l(),O("No encontrado (",e.field4,")")}}function k5(n,t){if(n&1&&_(0,P5,1,1)(1,V5,2,1,"div",35),n&2){let e=u().$implicit,i=u(2);C(i.series_map()[e.field4]?0:1)}}function D5(n,t){n&1&&(r(0,"div",30),c(1,"Todos"),o())}function I5(n,t){if(n&1&&c(0),n&2){let e=u(2).$implicit,i=u(2);O(" ",i.typeDocuments[e.field5]," ")}}function O5(n,t){if(n&1&&(r(0,"div",35),c(1),o()),n&2){let e=u(2).$implicit;l(),O("No encontrado (",e.field5,")")}}function F5(n,t){if(n&1&&_(0,I5,1,1)(1,O5,2,1,"div",35),n&2){let e=u().$implicit,i=u(2);C(i.typeDocuments[e.field5]?0:1)}}function H5(n,t){if(n&1){let e=S();r(0,"tr",26,2),f("elementEvents",function(a){let s=h(e).$implicit,m=u(2);return v(m.select(s,a))}),r(2,"td",27),c(3),o(),_(4,v5,4,9),r(5,"td",28),c(6),o(),r(7,"td",28),c(8),o(),r(9,"td",29),_(10,g5,2,0,"div",30)(11,C5,2,1),o(),r(12,"td",29),_(13,x5,2,0,"div",30)(14,y5,2,1),o(),r(15,"td",29),_(16,M5,2,0,"div",30)(17,E5,2,1),o(),r(18,"td",29),_(19,T5,2,0,"div",30)(20,k5,2,1),o(),r(21,"td",29),_(22,D5,2,0,"div",30)(23,F5,2,1),o(),r(24,"td",29),p(25,"app-text-state",31),o(),r(26,"td",29)(27,"button",32),f("click",function(a){let s=h(e).$implicit,m=G(1);return u(2).select(s),v(m.open(a))}),p(28,"i",33),o()()()}if(n&2){let e=t.$implicit,i=t.$index,a=u(2),s=G(40);d("ngClass",y(14,l5,e.id==a.selected.id))("contextMenu",s)("contextMenuValue",be(16,g0,e,i)),l(2),d("ngClass",y(19,pa,(e.user==null?null:e.user.state)==a.EUserState.BLOQUEADO)),l(),O(" ",(i+1).zfill(2)," "),l(),C(a.user_id==""?4:-1),l(2),b(e.system),l(2),b(e.rol),l(2),C(e.field1==""?10:11),l(3),C(e.field2==""?13:14),l(3),C(e.field3==""?16:17),l(3),C(e.field4==""?19:20),l(3),C(e.field5==""?22:23),l(3),d("state",e.state)}}function A5(n,t){if(n&1&&(r(0,"div")(1,"table",23)(2,"thead")(3,"tr")(4,"th",24),c(5,"#"),o(),_(6,h5,4,0),r(7,"th",24),c(8,"Sistema"),o(),r(9,"th",24),c(10,"Rol"),o(),r(11,"th"),c(12,"Microred"),o(),r(13,"th"),c(14,"Establecimiento"),o(),r(15,"th"),c(16,"Area"),o(),r(17,"th",24),c(18,"Serie"),o(),r(19,"th"),c(20,"Tipo documento"),o(),r(21,"th",24),c(22,"Estado"),o(),p(23,"th",24),o()(),r(24,"tbody"),L(25,H5,29,21,"tr",25,c5),o()()()),n&2){let e=u();l(6),C(e.user_id==""?6:-1),l(19),Y(e.userRols)}}function U5(n,t){if(n&1){let e=S();r(0,"app-ui-user-rol-card",37,2),f("elementEvents",function(a){let s=h(e).$implicit,m=u(2);return v(m.select(s,a))})("openMenu",function(a){let s=h(e).$implicit,m=G(1);return u(2).select(s),v(m.open(a))}),o()}if(n&2){let e=t.$implicit,i=t.$index,a=u(2),s=G(40);d("card",R(a.mode))("item",e)("isActived",e.id==a.selected.id)("contextMenu",s)("showOption",!0)("contextMenuValue",be(7,g0,e,i))}}function L5(n,t){n&1&&p(0,"app-ui-message-empty")}function Y5(n,t){if(n&1&&(r(0,"div"),L(1,U5,2,10,"app-ui-user-rol-card",36,J,!1,L5,1,0,"app-ui-message-empty"),o()),n&2){let e=u();Ce(he("_",e.mode)),l(),Y(e.userRols)}}function R5(n,t){n&1&&(r(0,"div",38)(1,"div",39),p(2,"i",40),o(),r(3,"div",41),c(4,"Ver detalles"),o(),p(5,"div",42),o())}function N5(n,t){n&1&&(r(0,"div",38)(1,"div",39),p(2,"i",43),o(),r(3,"div",41),c(4,"Adicionar"),o(),r(5,"div",42),c(6,"F1"),o()())}function B5(n,t){n&1&&(r(0,"div",38)(1,"div",39),p(2,"i",44),o(),r(3,"div",41),c(4,"Editar"),o(),p(5,"div",42),o())}function j5(n,t){n&1&&(r(0,"div",38)(1,"div",39),p(2,"i",45),o(),r(3,"div",41),c(4,"Eliminar"),o(),p(5,"div",42),o())}function $5(n,t){}function q5(n,t){n&1&&(r(0,"div",38)(1,"div",46),p(2,"i",47),o(),r(3,"div",41),c(4,"Activar"),o(),p(5,"div",42),o())}function W5(n,t){n&1&&(r(0,"div",38)(1,"div",48),p(2,"i",49),o(),r(3,"div",41),c(4,"Bloquear"),o(),p(5,"div",42),o())}function G5(n,t){n&1&&(r(0,"div",38)(1,"div",39),p(2,"img",50),o(),r(3,"div",41),c(4,"Exportar"),o(),p(5,"div",42),o())}function K5(n,t){}function X5(n,t){n&1&&(r(0,"div",38)(1,"div",39),p(2,"i",51),o(),r(3,"div",41),c(4,"Actualizar lista"),o(),p(5,"div",42),o())}function Q5(n,t){n&1&&(r(0,"div",38)(1,"div",39),p(2,"img",52),o(),r(3,"div",41),c(4,"En formato PDF"),o(),p(5,"div",42),o())}function Z5(n,t){n&1&&(r(0,"div",38)(1,"div",39),p(2,"img",53),o(),r(3,"div",41),c(4,"En formato Excel"),o(),p(5,"div",42),o())}function J5(n,t){n&1&&p(0,"app-loading")}var Li=class n{authService=g(A);user_id="";institucion_id=this.authService.userData.idinstitucion+"";typeUser="";state="1";rol_id="";showPagination=!0;mode="table";size="lg";eventChange=new H;userRols=[];load=!0;userRolService=g(Pt);confirmationService=g(X);modalService=g(Ie);cs=g(yi);FEService=g(sn);statesUser=g(Vt).states;typeDocuments=this.FEService.$tipo_documento;filter={texto:"",limit:35,userState:"1"};EUserRolState=si;EUserState=ti;loading=!1;microgridsAll_map=this.cs.cs.getMap("microgridsAll");establishmentsAll_map=this.cs.cs.getMap("establishmentsAll");establishmentsAll=this.cs.cs.getSignal("establishmentsAll");areasAll_map=this.cs.cs.getMap("areasAll");areasAll=this.cs.cs.getSignal("areasAll");applications=this.cs.cs.getSignal("applications");series_map=this.cs.getMap("series");establishmentId=W(void 0);system=W(void 0);areas=te(()=>{let t=this.areasAll();return this.establishmentId()?t.filter(e=>e.establishment_id+""==this.establishmentId()+""):t});roles=te(()=>{if(!this.system())return[];let t=this.applications().find(e=>e.codigo===this.system());return t?t.rols||[]:[]});ngOnInit(){return x(this,null,function*(){this.filter.user_id=this.user_id,this.filter.typeUser=this.typeUser,this.filter.state=this.state,this.filter.rol_id=this.rol_id,this.filter.institution_id=this.institucion_id,yield this.cs.getCatalogos({idinstitution:this.filter.institution_id,establishmentsAll:!0,areasAll:!0,microgridsAll:!0,series:!0,applications:!0}),this.load&&this.resetPage()})}page=1;resetPage(){return x(this,null,function*(){console.log(this.filter.system),console.log(typeof this.filter.system),this.page=1,this.list()})}onPage(){this.list()}list(){return x(this,null,function*(){this.loading=!0,this.showPagination&&(this.filter.page=this.page);let t=yield this.userRolService.list(this.filter);this.loading=!1,t&&t.state=="success"&&(this.userRols=t.data??[])})}add(){this.openForm()}update(t){this.openForm("update",t)}openForm(t="add",e){return x(this,null,function*(){try{console.log(this.filter);let i=yield this.modalService.open(dn,{backdrop:"static",keyboard:!1,size:"lg"}),a=i.componentInstance;a.accion=t,a.user_id=this.filter.user_id??"",a.typeUser=this.filter.typeUser??"",a.rol_id=this.filter.rol_id??"",a.institution_id=this.filter.institution_id??"",t=="update"&&(a.userRol=JSON.parse(JSON.stringify(e)));let s=yield i.result;if(t=="add")this.userRols.unshift(s);else if(t=="update"){if(!e)return;Object.assign(e,s)}}catch{}})}remove(t,e=-1){return x(this,null,function*(){if(!(yield this.confirmationService.create("Eliminar","\xBFEst\xE1 seguro de eliminar el registro?")))return;this.loading=!0;let a=yield this.userRolService.delete({id:t.id});this.loading=!1,a.state=="success"&&(this.userRols.splice(e,1),this.selected={})})}openDetail(t){return x(this,null,function*(){try{let e=yield this.modalService.open(Bo,{backdrop:"static",keyboard:!1,size:"lg"});e.componentInstance.item=t,e.componentInstance.id=t.id;let i=yield e.result}catch{}})}changeState(t,e){return x(this,null,function*(){let i={id:t.id,state:e},a=yield this.userRolService.changeState(i);a&&a.state=="success"&&(t.state=e)})}searchChange(){this.resetPage()}stateFilterChange(){this.resetPage()}selected={};select(t,e="click"){t.id==this.selected.id&&e!="dblclick"||(this.selected=t,e=="dblclick"&&this.openDetail(t),this.eventChange.emit({event:e,data:JSON.parse(JSON.stringify(t))}))}canAdd=()=>this.userRolService.canAdd;canEdit=()=>this.userRolService.canEdit;canRemove=()=>this.userRolService.canRemove;canChangeState=()=>this.userRolService.canChangeState;canExport=()=>this.userRolService.canExport;canExportExcel=()=>this.userRolService.canExportExcel;canExportPdf=()=>this.userRolService.canExportPdf;canChangeStateACTIVE=t=>this.userRolService.canChangeState&&t.item.state!="1";canChangeStateINACTIVE=t=>this.userRolService.canChangeState&&t.item.state!="0";export(t="pdf"){return x(this,null,function*(){yield this.userRolService.export(this.filter,t)})}changeMode(t){this.mode=t}changeEstablishment(){this.establishmentId.set(this.filter.field2),this.filter.field3=void 0,this.resetPage()}changeSystem(){this.system.set(this.filter.system),this.filter.rol=void 0,this.resetPage()}changeArea(){this.resetPage()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=z({type:n,selectors:[["app-ui-user-rol-list"]],inputs:{user_id:"user_id",institucion_id:"institucion_id",typeUser:"typeUser",state:"state",rol_id:"rol_id",showPagination:"showPagination",mode:"mode",size:"size",userRols:"userRols",load:"load"},outputs:{eventChange:"eventChange"},decls:57,vars:34,consts:[["menu",""],["SubMenu",""],["ngxContextMenu","ngxContextMenu"],[1,"d-flex","align-items-center","gap-2","p-1"],[1,"d-flex","gap-1"],["title","Aplicaci\xF3n"],["name","aplicacion","id","aplicacion",1,"form-select","form-select-sm",3,"change","ngModelChange","ngModel"],[3,"value"],["title","Rol"],["name","rol","id","rol",1,"form-select","form-select-sm",3,"change","ngModelChange","ngModel"],["title","Establecimiento"],["name","establishment","id","establishment",1,"form-select","form-select-sm",3,"change","ngModelChange","ngModel"],["value",""],["title","Area"],["name","area","id","area",1,"form-select","form-select-sm",3,"change","ngModelChange","ngModel"],["title","Estado de usuario"],["name","state","id","state",1,"form-select","form-select-sm",3,"change","ngModelChange","ngModel"],[3,"stateChange","searchChange","onAdd","onExport","onSearch","reload","pageChange","modeChange","state","states","search","canExport","canExportExcel","canExportPdf","page","showPagination","canNew","mode","size","showMode"],[3,"class"],["contextMenuItem","",3,"execute"],["contextMenuItem","",3,"execute","visible"],["contextMenuItem","",3,"divider"],["contextMenuItem","",3,"visible","subMenu"],[1,"table","table-sm","table-box","table-fixed"],[2,"width","40px"],[3,"ngClass","contextMenu","contextMenuValue"],[3,"elementEvents","ngClass","contextMenu","contextMenuValue"],[1,"text-center",3,"ngClass"],["nowrap","",1,"text-center"],[1,"text-center"],[1,"text-muted"],[3,"state"],[1,"btn","btn-more","btn-more-sm",3,"click"],[1,"ion-md-more"],[3,"ngClass"],[1,"text-danger"],[3,"item","isActived","card","contextMenu","showOption","contextMenuValue"],[3,"elementEvents","openMenu","item","isActived","card","contextMenu","showOption","contextMenuValue"],[1,"_items"],[1,"icons"],[1,"icons","icon","ion-md-list-box"],[1,"label","w-100"],[1,"atajo"],[1,"icons","icon","ion-md-add"],[1,"icons","icon","ion-md-create"],[1,"icons","icon","ion-md-trash"],[1,"icons","text-success"],[1,"icon","ion-md-eye"],[1,"icons","text-danger"],[1,"icon","ion-md-eye-off"],["src","https://cdn-icons-png.flaticon.com/512/5414/5414637.png","alt",""],[1,"icons","icon","ion-md-refresh"],["src","assets/img/icons/pdf.png","alt",""],["src","assets/img/icons/excel.png","alt",""]],template:function(e,i){if(e&1){let a=S();r(0,"div",3)(1,"div",4)(2,"app-box-filter",5)(3,"select",6),f("change",function(){return h(a),v(i.changeSystem())}),le("ngModelChange",function(m){return h(a),Q(i.filter.system,m)||(i.filter.system=m),v(m)}),r(4,"option",7),c(5,"Todos"),o(),L(6,s5,2,3,"option",7,J),o()(),r(8,"app-box-filter",8)(9,"select",9),f("change",function(){return h(a),v(i.resetPage())}),le("ngModelChange",function(m){return h(a),Q(i.filter.rol,m)||(i.filter.rol=m),v(m)}),r(10,"option",7),c(11,"Todos"),o(),L(12,d5,2,3,"option",7,J),o()()(),r(14,"div",4)(15,"app-box-filter",10)(16,"select",11),f("change",function(){return h(a),v(i.changeEstablishment())}),le("ngModelChange",function(m){return h(a),Q(i.filter.field2,m)||(i.filter.field2=m),v(m)}),r(17,"option",7),c(18,"Todos"),o(),r(19,"option",12),c(20,"Asignado para todos"),o(),L(21,m5,2,4,"option",7,J),o()(),r(23,"app-box-filter",13)(24,"select",14),f("change",function(){return h(a),v(i.changeArea())}),le("ngModelChange",function(m){return h(a),Q(i.filter.field3,m)||(i.filter.field3=m),v(m)}),r(25,"option",7),c(26,"Todos"),o(),r(27,"option",12),c(28,"Asignado para todos"),o(),L(29,p5,2,3,"option",7,J),o()()(),r(31,"div",4)(32,"app-box-filter",15)(33,"select",16),f("change",function(){return h(a),v(i.resetPage())}),le("ngModelChange",function(m){return h(a),Q(i.filter.userState,m)||(i.filter.userState=m),v(m)}),L(34,u5,2,3,"option",7,J),o()()()(),r(36,"app-ui-header-management",17),le("stateChange",function(m){return h(a),Q(i.filter.state,m)||(i.filter.state=m),v(m)})("searchChange",function(m){return h(a),Q(i.filter.texto,m)||(i.filter.texto=m),v(m)}),f("onAdd",function(){return h(a),v(i.add())})("onExport",function(m){return h(a),v(i.export(m))})("onSearch",function(){return h(a),v(i.searchChange())})("reload",function(){return h(a),v(i.resetPage())}),le("pageChange",function(m){return h(a),Q(i.page,m)||(i.page=m),v(m)}),f("pageChange",function(){return h(a),v(i.onPage())}),le("modeChange",function(m){return h(a),Q(i.mode,m)||(i.mode=m),v(m)}),o(),_(37,A5,27,1,"div")(38,Y5,4,4,"div",18),r(39,"context-menu",null,0),E(41,R5,6,0,"ng-template",19),f("execute",function(m){return h(a),v(i.openDetail(m.value.item))}),E(42,N5,7,0,"ng-template",20),f("execute",function(){return h(a),v(i.add())}),E(43,B5,6,0,"ng-template",20),f("execute",function(m){return h(a),v(i.update(m.value.item))}),E(44,j5,6,0,"ng-template",20),f("execute",function(m){return h(a),v(i.remove(m.value.item,m.value.indice))}),E(45,$5,0,0,"ng-template",21)(46,q5,6,0,"ng-template",20),f("execute",function(m){return h(a),v(i.changeState(m.value.item,i.EUserRolState.ACTIVE))}),c(47,", "),E(48,W5,6,0,"ng-template",20),f("execute",function(m){return h(a),v(i.changeState(m.value.item,i.EUserRolState.INACTIVE))}),E(49,G5,6,0,"ng-template",22)(50,K5,0,0,"ng-template",21)(51,X5,6,0,"ng-template",19),f("execute",function(){return h(a),v(i.list())}),o(),r(52,"context-menu",null,1),E(54,Q5,6,0,"ng-template",20),f("execute",function(){return h(a),v(i.export())}),E(55,Z5,6,0,"ng-template",20),f("execute",function(){return h(a),v(i.export("excel"))}),o(),_(56,J5,1,0,"app-loading")}if(e&2){let a=G(53);l(3),oe("ngModel",i.filter.system),l(),d("value",void 0),l(2),Y(i.applications()),l(3),oe("ngModel",i.filter.rol),l(),d("value",void 0),l(2),Y(i.roles()),l(4),oe("ngModel",i.filter.field2),l(),d("value",void 0),l(4),Y(i.establishmentsAll()),l(3),oe("ngModel",i.filter.field3),l(),d("value",void 0),l(4),Y(i.areas()),l(4),oe("ngModel",i.filter.userState),l(),Y(i.statesUser),l(2),oe("state",i.filter.state),d("states",i.userRolService.states),oe("search",i.filter.texto),d("canExport",i.userRolService.canExport)("canExportExcel",i.userRolService.canExportExcel)("canExportPdf",i.userRolService.canExportPdf),oe("page",i.page),d("showPagination",i.showPagination)("canNew",i.userRolService.canAdd),oe("mode",i.mode),d("size",i.size)("showMode",!1),l(),C(i.mode=="table"?37:38),l(5),d("visible",i.canAdd),l(),d("visible",i.canEdit),l(),d("visible",i.canRemove),l(),d("divider",!0),l(),d("visible",i.canChangeStateACTIVE),l(2),d("visible",i.canChangeStateINACTIVE),l(),d("visible",i.canExport)("subMenu",a),l(),d("divider",!0),l(4),d("visible",i.canExportPdf),l(),d("visible",i.canExportExcel),l(),C(i.loading?56:-1)}},dependencies:[ut,pt,mt,dt,U,Se,Ge,Ke,We,de,Qt,Et,ie,Je,Mt,cn,wt,ht,Yt,Fr],encapsulation:2})};var Yi=(e=>(e.ACTIVE="1",e.INACTIVE="0",e))(Yi||{});var ii=class n{API=`${K.account2}/user-type`;apiService=g(fe);loadingService=g(Oe);confirmationService=g(X);auth=g(A);toastrService=g(ce);states=[{code:"1",denomination:"Activo"},{code:"0",denomination:"Inactivo"}];stateMap=this.states.reduce((t,e)=>(t[e.code]=e.denomination,t),{});canAdd=!1;canEdit=!1;canRemove=!1;canChangeState=!1;canExport=!1;canExportExcel=!1;canExportPdf=!1;constructor(){this.canAdd=this.auth.hasSubPermission("user-type-ADD"),this.canEdit=this.auth.hasSubPermission("user-type-EDIT"),this.canRemove=this.auth.hasSubPermission("user-type-REMOVE"),this.canChangeState=this.auth.hasSubPermission("user-type-CHANGE-STATE"),this.canExport=this.auth.hasPermission("user-type-EXPORT"),this.canExportExcel=this.auth.hasSubPermission("user-type-EXPORT-EXCEL"),this.canExportPdf=this.auth.hasSubPermission("user-type-EXPORT-PDF")}list(t){return x(this,null,function*(){return yield this.apiService.getPrivate(`${this.API}/list`,t)})}add(t){return x(this,null,function*(){let e=yield this.apiService.postPrivate(`${this.API}/create`,t);return e.state=="success"&&e.data&&this.toastrService.success(e.message),e})}data(t){return x(this,null,function*(){return yield this.apiService.getPrivate(`${this.API}/data/${t.id}`,t)})}update(t){return x(this,null,function*(){let e=yield this.apiService.putPrivate(`${this.API}/update/${t.id}`,t);return e.state=="success"&&this.toastrService.success(e.message),e})}patch(t){return x(this,null,function*(){let e=yield this.apiService.putPrivate(`${this.API}/update/${t.id}`,t);return e.state=="success"&&this.toastrService.success(e.message),e})}changeStateMessage(t){let e=this.stateMap[t],i="";switch(t){case"1":i="text-success";break;case"0":i="text-danger";break}return{message:`
            <div class="text-center">
                <div class="mb-3">\xBFEst\xE1 seguro de cambiar el estado del registro?</div>
                <h3 >Nuevo estado: <b class="${i}">${e}</b></h3>
            </div>
        `,denomination:e}}changeStateSave(t){return x(this,null,function*(){return yield this.apiService.putPrivate(`${this.API}/state/change/${t.id}`,t)})}changeState(t){return x(this,null,function*(){let{message:e}=this.changeStateMessage(t.state);if(!(yield this.confirmationService.create("Confirmar",e)))return;this.loadingService.open();let a=yield this.changeStateSave(t);return this.loadingService.hide(),a})}delete(t){return x(this,null,function*(){let e=yield this.apiService.deletePrivate(`${this.API}/delete/${t.id}`,t);return e.state=="success"&&this.toastrService.success(e.message),e})}export(t,e,i=!0){return x(this,null,function*(){if(i&&!(yield this.confirmationService.create("Confirmar","\xBFEst\xE1 seguro de exportar los datos?")))return;this.loadingService.open();let a=ve(re({},t),{type_export:e,url:K.storage_view}),s=yield this.apiService.getPrivate(`${this.API}/export`,a);return this.loadingService.hide(),s&&s.state=="success"&&window.open(s.url),s})}static \u0275fac=function(e){return new(e||n)};static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})};var ed=n=>({active:n});function td(n,t){if(n&1&&(r(0,"table",0)(1,"thead")(2,"tr"),p(3,"th",2)(4,"th"),o()(),r(5,"tbody")(6,"tr")(7,"td",3)(8,"b"),c(9," C\xF3digo "),o()(),r(10,"td"),c(11),o()(),r(12,"tr")(13,"td",3)(14,"b"),c(15," Denominaci\xF3n "),o()(),r(16,"td"),c(17),o()(),r(18,"tr")(19,"td",3)(20,"b"),c(21," Estado "),o()(),r(22,"td"),p(23,"app-text-state",4),o()(),r(24,"tr")(25,"td",3)(26,"b"),c(27," Fecha de registro "),o()(),r(28,"td"),c(29),je(30,"date"),o()(),r(31,"tr")(32,"td",3)(33,"b"),c(34," Con Contrato "),o()(),r(35,"td"),c(36),o()(),r(37,"tr")(38,"td",3)(39,"b"),c(40," Sistema "),o()(),r(41,"td"),c(42),o()()()()),n&2){let e=u();l(11),b(e.item==null?null:e.item.code),l(6),b(e.item==null?null:e.item.denomination),l(6),d("state",e.item==null?null:e.item.state),l(6),b($e(30,6,e.item==null?null:e.item.createAt,"dd/MM/yyyy HH:mm:ss")),l(7),b(e.item==null?null:e.item.hasContract),l(6),b(e.item==null?null:e.item.systemDefault)}}function id(n,t){if(n&1&&(r(0,"div",8),c(1),o()),n&2){let e=u(2);l(),b(e.item==null?null:e.item.code)}}function nd(n,t){if(n&1){let e=S();r(0,"div")(1,"button",9),f("click",function(a){h(e);let s=u(2);return v(s.openMenuEmit(a))}),p(2,"i",10),o()()}}function od(n,t){if(n&1&&(r(0,"div",5)(1,"div")(2,"div",6),p(3,"img",7),o()(),r(4,"div"),_(5,id,2,1,"div",8),r(6,"div",8),c(7),o()(),_(8,nd,3,0,"div"),o()),n&2){let e=u();Ce(he("items box-main  __",e.card)),d("ngClass",y(9,ed,e.isActived)),l(3),d("src",R(e.item==null?null:e.item.imgUrl),_e),l(2),C(e.card!="card"?5:-1),l(2),b(e.item==null?null:e.item.denomination),l(),C(e.showOption?8:-1)}}var ni=class n{item;isActived=!1;card="box";showOption=!1;openMenu=new H;modeData="";type=B("");userTypeService=g(ii);cs=g(ke);types=this.cs.getSignal("userTypes");authService=g(A);idinstitution=this.authService.userData.idinstitucion+"";constructor(){bt(()=>{if(console.log("effect userTypeCard",this.type()),this.type()){let t=this.type()??"99";this.item=this.types().find(e=>e.code===t)}})}ngOnInit(){this.cs.getCatalogos({idinstitution:this.idinstitution,userTypes:!0})}openMenuEmit(t){this.openMenu.emit(t)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=z({type:n,selectors:[["app-ui-user-type-card"]],inputs:{item:"item",isActived:"isActived",card:"card",showOption:"showOption",modeData:"modeData",type:[1,"type"],idinstitution:"idinstitution"},outputs:{openMenu:"openMenu"},decls:2,vars:1,consts:[[1,"table","table-datos","box-main"],[3,"class","ngClass"],[2,"width","100px"],["nowrap",""],[3,"state"],[3,"ngClass"],[1,"_img"],[3,"src"],[1,"text-truncate"],["type","button",1,"btn","btn-more",3,"click"],[1,"icon","ion-md-more"]],template:function(e,i){e&1&&_(0,td,43,9,"table",0)(1,od,9,11,"div",1),e&2&&C(i.card=="table"?0:1)},dependencies:[U,Et,Ne],styles:[".items.__card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.3rem;padding:2px .5rem}.items.__card[_ngcontent-%COMP%]   ._img[_ngcontent-%COMP%]{width:20px;height:20px}.items.__card[_ngcontent-%COMP%]   ._img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:.25rem}"]})};var ad=n=>({"modal-body":n});function rd(n,t){if(n&1){let e=S();r(0,"div",0)(1,"h4",3),c(2,"DATOS DEL TIPO"),o(),r(3,"button",4),f("click",function(){h(e);let a=u();return v(a.close())}),o()()}}var Wo=class n{constructor(t){this.activeModal=t}isModal=!0;item={};eventChange=new H;userTypeService=g(ii);EUserTypeState=Yi;close(){this.isModal?this.activeModal.close():this.eventChange.emit({event:"close",data:this.item})}static \u0275fac=function(e){return new(e||n)(ee(ae,8))};static \u0275cmp=z({type:n,selectors:[["app-ui-user-type-detail"]],inputs:{isModal:"isModal",item:"item"},outputs:{eventChange:"eventChange"},decls:3,vars:5,consts:[[1,"modal-header"],[1,"",3,"ngClass"],["card","table",3,"item"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"]],template:function(e,i){e&1&&(_(0,rd,4,0,"div",0),r(1,"div",1),p(2,"app-ui-user-type-card",2),o()),e&2&&(C(i.isModal?0:-1),l(),d("ngClass",y(3,ad,i.isModal)),l(),d("item",i.item))},dependencies:[U,ni],encapsulation:2})};var ld=n=>({"modal-body px-0":n}),ua=n=>({"has-danger":n});function cd(n,t){if(n&1){let e=S();r(0,"div",0)(1,"h4",22),c(2,"DATOS DEL TIPO DE USUARIO"),o(),r(3,"button",23),f("click",function(){h(e);let a=u();return v(a.close())}),o()()}}function sd(n,t){if(n&1){let e=S();r(0,"div",21)(1,"button",24),f("click",function(){h(e);let a=u();return v(a.close())}),c(2,"Cancelar"),o(),r(3,"button",25),f("click",function(){h(e);let a=u();return v(a.save())}),c(4,"Guardar"),o()()}}function dd(n,t){n&1&&p(0,"app-loading")}var Go=class n{constructor(t){this.modalActive=t}accion="add";userType;isModal=!0;idinstitucion="";uid="";state="1";rol_id=null;showOption=!0;onSave=new He(!1);eventChange=new H;userTypeService=g(ii);authService=g(A);uploadService=g(so);toastService=g(ce);states=this.userTypeService.states;subscriptions=[];ngOnInit(){return x(this,null,function*(){this.idinstitucion===""&&(this.idinstitucion=this.authService.institucionData?.idinstitucion+""),this.uid===""&&(this.uid=this.authService.userData.id+"");let t=this.onSave.subscribe(e=>{e&&this.save()});if(this.subscriptions.push(t),this.accion=="update"){if(!this.userType)return;this.form.patchValue({code:this.userType.code,denomination:this.userType.denomination,state:this.userType.state,hasContract:this.userType.hasContract,rolId:this.userType.rol_id===null?"":this.userType.rol_id+"",systemDefault:this.userType.systemDefault}),this.userType.imgUrl==""&&(this.file.type="link"),this.file.name=this.userType.nameImg??"",this.file.url=this.userType.imgUrl??"",this.selected.push({id:0,rol_id:this.userType.rol_id===null?0:+this.userType.rol_id,system:this.userType.systemDefault,field1:"",field2:"",field3:"",field4:"",field5:"",state:"1",privileges:"",rol:"",subPrivileges:"",typeUser:0,user_id:0}),this.file.required=!1}else this.accion=="add"&&this.form.patchValue({state:this.state,rolId:this.rol_id===null?"":this.rol_id+""})})}ngAfterViewInit(){setTimeout(()=>{document.getElementById("codeUs")?.focus()},150)}form=new xe({code:new F("",{validators:[N.required],nonNullable:!0}),denomination:new F("",{validators:[N.required],nonNullable:!0}),state:new F("1",{validators:[N.required],nonNullable:!0}),hasContract:new F("",{validators:[N.required],nonNullable:!0}),rolId:new F("",{validators:[],nonNullable:!0}),systemDefault:new F("",{validators:[],nonNullable:!0})});get codeControl(){return this.form.get("code")}get denominationControl(){return this.form.get("denomination")}get stateControl(){return this.form.get("state")}get hasContractControl(){return this.form.get("hasContract")}get rolIdControl(){return this.form.get("rolId")}get systemDefaultControl(){return this.form.get("systemDefault")}close(){this.isModal?this.modalActive.dismiss():this.eventChange.emit({event:"close",data:void 0})}submit=!1;loading=!1;save(){return x(this,null,function*(){if(this.submit=!0,!this.form.valid)return;this.submit=!1;let t=this.form.value;if(this.accion=="add"){let e={code:t.code,denomination:t.denomination,state:t.state,imgUrl:this.file.url,nameImg:this.file.name,createBy:this.uid,idinstitucion:this.idinstitucion,hasContract:t.hasContract,rol_id:t.rolId===""?null:+t.rolId,systemDefault:t.systemDefault};this.loading=!0;let i=yield this.userTypeService.add(e);this.loading=!1,i.state=="success"&&(this.isModal?this.modalActive.close(i.data):this.eventChange.emit({event:"add",data:i.data}))}else if(this.accion=="update"){let e={id:+this.userType?.id,code:t.code,denomination:t.denomination,state:t.state,imgUrl:this.file.url,nameImg:this.file.name,idinstitucion:this.idinstitucion,hasContract:t.hasContract,rol_id:t.rolId===""?null:+t.rolId,systemDefault:t.systemDefault};this.loading=!0;let i=yield this.userTypeService.update(e);this.loading=!1,i.state=="success"&&(this.isModal?this.modalActive.close(e):this.eventChange.emit({event:"update",data:e}))}})}currentFiles=null;file={required:!0,type:"file",name:"",url:""};eventFile(t){return x(this,null,function*(){if(this.file.type="file",this.file.name="",this.file.url="",t.event=="clear"){this.currentFiles=null;return}if(t.event=="files"){this.currentFiles=t.files??null;return}t.event=="link"&&(this.file.url=t.url??"",this.file.name=t.name??"",this.currentFiles=null,this.file.type="link")})}uploadFile(){return x(this,null,function*(){if(this.file.required&&this.accion=="add"&&this.file.type=="file"&&(!this.currentFiles||this.currentFiles?.length==0))return this.toastService.error("Debe seleccionar un archivo"),!1;if(this.file.type=="file"&&this.currentFiles&&this.currentFiles.length>0){let t=this.currentFiles[0],e=yield this.uploadService.uploadFile("applications",t);if(e&&e.state=="success")this.file.url=e.url??"",this.file.name=e.nameFile??"";else return!1}return!0})}selected=[];selectRol(t){this.form.patchValue({rolId:t.rol.idrol+"",systemDefault:t.application.codigo})}ngOnDestroy(){this.subscriptions.forEach(t=>{t.unsubscribe()})}static \u0275fac=function(e){return new(e||n)(ee(ae,8))};static \u0275cmp=z({type:n,selectors:[["app-ui-user-type-form"]],inputs:{accion:"accion",userType:"userType",isModal:"isModal",idinstitucion:"idinstitucion",uid:"uid",state:"state",rol_id:"rol_id",showOption:"showOption",onSave:"onSave"},outputs:{eventChange:"eventChange"},decls:34,vars:23,consts:[[1,"modal-header"],[1,"",3,"ngClass"],[1,"container-fluid",3,"submit","formGroup"],[1,"row"],[1,"col-12","col-md-6"],[1,"form-group",3,"ngClass"],["for","codeUs",1,"control-label"],[1,""],["type","text","name","codeUs","id","codeUs","formControlName","code",1,"form-control"],[1,"left",3,"control","show"],["for","denominationUs",1,"control-label"],["type","text","name","denominationUs","id","denominationUs","formControlName","denomination",1,"form-control"],[1,"form-group","row","align-items-center",3,"ngClass"],["for","hasContractUs",1,"control-label","col-12","col-md-4"],[1,"col-12","col-md-8"],["name","hasContractUs","id","hasContractUs","formControlName","hasContract",1,"form-select"],["value",""],["value","1"],["value","0"],[1,"form-group"],[3,"evento","url"],[1,"modal-footer"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["type","button",1,"btn","btn-outline-secondary","btn-lg-medio","mr-1",3,"click"],["type","button",1,"btn","btn-primary","btn-lg-medio",3,"click"]],template:function(e,i){e&1&&(_(0,cd,4,0,"div",0),r(1,"div",1)(2,"form",2),f("submit",function(){return i.save()}),r(3,"div",3)(4,"div",4)(5,"div",5)(6,"label",6),c(7,"C\xF3digo "),o(),r(8,"div",7),p(9,"input",8)(10,"app-control-messages",9),o()(),r(11,"div",5)(12,"label",10),c(13,"Denominaci\xF3n "),o(),r(14,"div",7),p(15,"input",11)(16,"app-control-messages",9),o()(),r(17,"div",12)(18,"label",13),c(19,"Con Contrato "),o(),r(20,"div",14)(21,"select",15)(22,"option",16),c(23,"Seleccione"),o(),r(24,"option",17),c(25,"Si"),o(),r(26,"option",18),c(27,"No"),o()(),p(28,"app-control-messages",9),o()(),r(29,"div",19)(30,"app-file-upload",20),f("evento",function(s){return i.eventFile(s)}),o()()(),p(31,"div",4),o()()(),_(32,sd,5,0,"div",21),_(33,dd,1,0,"app-loading")),e&2&&(C(i.isModal?0:-1),l(),d("ngClass",y(15,ld,i.isModal)),l(),d("formGroup",i.form),l(3),d("ngClass",y(17,ua,i.codeControl.invalid&&(i.codeControl.touched||i.submit))),l(5),d("control",i.codeControl)("show",i.submit),l(),d("ngClass",y(19,ua,i.denominationControl.invalid&&(i.denominationControl.touched||i.submit))),l(5),d("control",i.denominationControl)("show",i.submit),l(),d("ngClass",y(21,ua,i.hasContractControl.invalid&&(i.hasContractControl.touched||i.submit))),l(11),d("control",i.hasContractControl)("show",i.submit),l(2),d("url",i.file.url),l(2),C(i.showOption?32:-1),l(),C(i.loading?33:-1))},dependencies:[ye,we,Ge,Ke,qe,We,de,ze,Ee,Te,Pe,U,ie,Or],encapsulation:2})};var md=n=>({active:n}),f0=(n,t)=>({item:n,indice:t}),pd=(n,t)=>t.id;function ud(n,t){n&1&&c(0," Si ")}function hd(n,t){n&1&&c(0," No ")}function vd(n,t){if(n&1){let e=S();r(0,"tr",13,2),f("elementEvents",function(a){let s=h(e).$implicit,m=u(2);return v(m.select(s,a))}),r(2,"td",14),c(3),o(),r(4,"td",14),c(5),o(),r(6,"td",15),c(7),o(),r(8,"td",14),_(9,ud,1,0)(10,hd,1,0),o(),r(11,"td",14),c(12),o(),r(13,"td",14),p(14,"app-text-state",16),o(),r(15,"td",14)(16,"button",17),f("click",function(a){let s=h(e).$implicit,m=G(1);return u(2).select(s),v(m.open(a))}),p(17,"i",18),o()()()}if(n&2){let e=t.$implicit,i=t.$index,a=u(2),s=G(4);d("ngClass",y(9,md,e.id==a.selected.id))("contextMenu",s)("contextMenuValue",be(11,f0,e,i)),l(3),O(" ",(i+1).zfill(2)," "),l(2),b(e.code),l(2),b(e.denomination),l(2),C(e.hasContract==="1"?9:10),l(3),b(e.systemDefault),l(2),d("state",e.state)}}function gd(n,t){if(n&1&&(r(0,"div")(1,"table",9)(2,"thead")(3,"tr")(4,"th",10),c(5,"#"),o(),r(6,"th",10),c(7,"C\xF3digo"),o(),r(8,"th"),c(9,"Denominaci\xF3n"),o(),r(10,"th",11),c(11,"Con Contrato"),o(),r(12,"th",10),c(13,"Sistema"),o(),r(14,"th",10),c(15,"Estado"),o(),p(16,"th",10),o()(),r(17,"tbody"),L(18,vd,18,14,"tr",12,pd),o()()()),n&2){let e=u();l(18),Y(e.userTypes)}}function fd(n,t){if(n&1){let e=S();r(0,"app-ui-user-type-card",20,2),f("elementEvents",function(a){let s=h(e).$implicit,m=u(2);return v(m.select(s,a))})("openMenu",function(a){let s=h(e).$implicit,m=G(1);return u(2).select(s),v(m.open(a))}),o()}if(n&2){let e=t.$implicit,i=t.$index,a=u(2),s=G(4);d("card",R(a.mode))("item",e)("isActived",e.id==a.selected.id)("contextMenu",s)("showOption",!0)("contextMenuValue",be(7,f0,e,i))}}function _d(n,t){n&1&&p(0,"app-ui-message-empty")}function Cd(n,t){if(n&1&&(r(0,"div"),L(1,fd,2,10,"app-ui-user-type-card",19,J,!1,_d,1,0,"app-ui-message-empty"),o()),n&2){let e=u();Ce(he("_",e.mode)),l(),Y(e.userTypes)}}function xd(n,t){n&1&&(r(0,"div",21)(1,"div",22),p(2,"i",23),o(),r(3,"div",24),c(4,"Ver detalles"),o(),p(5,"div",25),o())}function bd(n,t){n&1&&(r(0,"div",21)(1,"div",22),p(2,"i",26),o(),r(3,"div",24),c(4,"Adicionar"),o(),r(5,"div",25),c(6,"F1"),o()())}function Sd(n,t){n&1&&(r(0,"div",21)(1,"div",22),p(2,"i",27),o(),r(3,"div",24),c(4,"Editar"),o(),p(5,"div",25),o())}function yd(n,t){n&1&&(r(0,"div",21)(1,"div",22),p(2,"i",28),o(),r(3,"div",24),c(4,"Eliminar"),o(),p(5,"div",25),o())}function Md(n,t){}function zd(n,t){n&1&&(r(0,"div",21)(1,"div",29),p(2,"i",30),o(),r(3,"div",24),c(4,"Activar"),o(),p(5,"div",25),o())}function wd(n,t){n&1&&(r(0,"div",21)(1,"div",31),p(2,"i",32),o(),r(3,"div",24),c(4,"Bloquear"),o(),p(5,"div",25),o())}function Ed(n,t){n&1&&(r(0,"div",21)(1,"div",22),p(2,"img",33),o(),r(3,"div",24),c(4,"Exportar"),o(),p(5,"div",25),o())}function Td(n,t){}function Pd(n,t){n&1&&(r(0,"div",21)(1,"div",22),p(2,"i",34),o(),r(3,"div",24),c(4,"Actualizar lista"),o(),p(5,"div",25),o())}function Vd(n,t){n&1&&(r(0,"div",21)(1,"div",22),p(2,"img",35),o(),r(3,"div",24),c(4,"En formato PDF"),o(),p(5,"div",25),o())}function kd(n,t){n&1&&(r(0,"div",21)(1,"div",22),p(2,"img",36),o(),r(3,"div",24),c(4,"En formato Excel"),o(),p(5,"div",25),o())}function Dd(n,t){n&1&&p(0,"app-loading")}var On=class n{idinstitucion="";state="1";rol_id=null;showPagination=!0;mode="table";size="lg";eventChange=new H;userTypes=[];load=!0;userTypeService=g(ii);authService=g(A);confirmationService=g(X);modalService=g(Ie);filter={texto:""};EUserTypeState=Yi;loading=!1;ngOnInit(){return x(this,null,function*(){this.idinstitucion===""&&(this.idinstitucion=this.authService.institucionData?.idinstitucion+""),this.filter.idinstitucion=this.idinstitucion,this.filter.state=this.state,this.filter.rol_id=this.rol_id,this.load&&this.resetPage()})}page=1;resetPage(){return x(this,null,function*(){this.page=1,this.list()})}onPage(){this.list()}list(){return x(this,null,function*(){this.loading=!0,this.showPagination&&(this.filter.page=this.page);let t=yield this.userTypeService.list(this.filter);this.loading=!1,t&&t.state=="success"&&(this.userTypes=t.data??[])})}add(){this.openForm()}update(t){this.openForm("update",t)}openForm(t="add",e){return x(this,null,function*(){try{let i=yield this.modalService.open(Go,{backdrop:"static",keyboard:!1,size:"lg",windowClass:"modal_1000"});i.componentInstance.accion=t,i.componentInstance.idinstitucion=this.filter.idinstitucion,i.componentInstance.state=this.filter.state,i.componentInstance.rol_id=this.filter.rol_id,t=="update"&&(i.componentInstance.userType=JSON.parse(JSON.stringify(e)));let a=yield i.result;if(t=="add")this.userTypes.unshift(a);else if(t=="update"){if(!e)return;Object.assign(e,a)}}catch{}})}remove(t,e=-1){return x(this,null,function*(){if(!(yield this.confirmationService.create("Eliminar","\xBFEst\xE1 seguro de eliminar el registro?")))return;this.loading=!0;let a=yield this.userTypeService.delete({id:t.id,idinstitucion:t.idinstitucion});this.loading=!1,a.state=="success"&&(this.userTypes.splice(e,1),this.selected={})})}openDetail(t){return x(this,null,function*(){try{let e=yield this.modalService.open(Wo,{backdrop:"static",keyboard:!1,size:"lg"});e.componentInstance.item=t,e.componentInstance.id=t.id,e.componentInstance.idinstitucion=t.idinstitucion;let i=yield e.result}catch{}})}changeState(t,e){return x(this,null,function*(){let i={id:t.id,idinstitucion:t.idinstitucion,state:e},a=yield this.userTypeService.changeState(i);a&&a.state=="success"&&(t.state=e)})}searchChange(){this.resetPage()}stateFilterChange(){this.resetPage()}selected={};select(t,e="click"){t.id==this.selected.id&&e!="dblclick"||(this.selected=t,e=="dblclick"&&this.openDetail(t),this.eventChange.emit({event:e,data:JSON.parse(JSON.stringify(t))}))}canAdd=()=>this.userTypeService.canAdd;canEdit=()=>this.userTypeService.canEdit;canRemove=()=>this.userTypeService.canRemove;canChangeState=()=>this.userTypeService.canChangeState;canExport=()=>this.userTypeService.canExport;canExportExcel=()=>this.userTypeService.canExportExcel;canExportPdf=()=>this.userTypeService.canExportPdf;canChangeStateACTIVE=t=>this.userTypeService.canChangeState&&t.item.state!="1";canChangeStateINACTIVE=t=>this.userTypeService.canChangeState&&t.item.state!="0";export(t="pdf"){return x(this,null,function*(){yield this.userTypeService.export(this.filter,t)})}changeMode(t){this.mode=t}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=z({type:n,selectors:[["app-ui-user-type-list"]],inputs:{idinstitucion:"idinstitucion",state:"state",rol_id:"rol_id",showPagination:"showPagination",mode:"mode",size:"size",userTypes:"userTypes",load:"load"},outputs:{eventChange:"eventChange"},decls:21,vars:24,consts:[["menu",""],["SubMenu",""],["ngxContextMenu","ngxContextMenu"],[3,"stateChange","searchChange","onAdd","onExport","onSearch","reload","pageChange","modeChange","state","states","search","canExport","canExportExcel","canExportPdf","page","showPagination","canNew","mode","size"],[3,"class"],["contextMenuItem","",3,"execute"],["contextMenuItem","",3,"execute","visible"],["contextMenuItem","",3,"divider"],["contextMenuItem","",3,"visible","subMenu"],[1,"table","table-sm","table-box","table-fixed"],[2,"width","40px"],[1,"text-truncate",2,"width","40px"],[3,"ngClass","contextMenu","contextMenuValue"],[3,"elementEvents","ngClass","contextMenu","contextMenuValue"],[1,"text-center"],[1,""],[3,"state"],[1,"btn","btn-more","btn-more-sm",3,"click"],[1,"ion-md-more"],[3,"item","isActived","card","contextMenu","showOption","contextMenuValue"],[3,"elementEvents","openMenu","item","isActived","card","contextMenu","showOption","contextMenuValue"],[1,"_items"],[1,"icons"],[1,"icons","icon","ion-md-list-box"],[1,"label","w-100"],[1,"atajo"],[1,"icons","icon","ion-md-add"],[1,"icons","icon","ion-md-create"],[1,"icons","icon","ion-md-trash"],[1,"icons","text-success"],[1,"icon","ion-md-eye"],[1,"icons","text-danger"],[1,"icon","ion-md-eye-off"],["src","https://cdn-icons-png.flaticon.com/512/5414/5414637.png","alt",""],[1,"icons","icon","ion-md-refresh"],["src","assets/img/icons/pdf.png","alt",""],["src","assets/img/icons/excel.png","alt",""]],template:function(e,i){if(e&1){let a=S();r(0,"app-ui-header-management",3),le("stateChange",function(m){return h(a),Q(i.filter.state,m)||(i.filter.state=m),v(m)})("searchChange",function(m){return h(a),Q(i.filter.texto,m)||(i.filter.texto=m),v(m)}),f("onAdd",function(){return h(a),v(i.add())})("onExport",function(m){return h(a),v(i.export(m))})("onSearch",function(){return h(a),v(i.searchChange())})("reload",function(){return h(a),v(i.resetPage())}),le("pageChange",function(m){return h(a),Q(i.page,m)||(i.page=m),v(m)}),f("pageChange",function(){return h(a),v(i.onPage())}),le("modeChange",function(m){return h(a),Q(i.mode,m)||(i.mode=m),v(m)}),o(),_(1,gd,20,0,"div")(2,Cd,4,4,"div",4),r(3,"context-menu",null,0),E(5,xd,6,0,"ng-template",5),f("execute",function(m){return h(a),v(i.openDetail(m.value.item))}),E(6,bd,7,0,"ng-template",6),f("execute",function(){return h(a),v(i.add())}),E(7,Sd,6,0,"ng-template",6),f("execute",function(m){return h(a),v(i.update(m.value.item))}),E(8,yd,6,0,"ng-template",6),f("execute",function(m){return h(a),v(i.remove(m.value.item,m.value.indice))}),E(9,Md,0,0,"ng-template",7)(10,zd,6,0,"ng-template",6),f("execute",function(m){return h(a),v(i.changeState(m.value.item,i.EUserTypeState.ACTIVE))}),c(11,", "),E(12,wd,6,0,"ng-template",6),f("execute",function(m){return h(a),v(i.changeState(m.value.item,i.EUserTypeState.INACTIVE))}),E(13,Ed,6,0,"ng-template",8)(14,Td,0,0,"ng-template",7)(15,Pd,6,0,"ng-template",5),f("execute",function(){return h(a),v(i.list())}),o(),r(16,"context-menu",null,1),E(18,Vd,6,0,"ng-template",6),f("execute",function(){return h(a),v(i.export())}),E(19,kd,6,0,"ng-template",6),f("execute",function(){return h(a),v(i.export("excel"))}),o(),_(20,Dd,1,0,"app-loading")}if(e&2){let a=G(17);oe("state",i.filter.state),d("states",i.userTypeService.states),oe("search",i.filter.texto),d("canExport",i.userTypeService.canExport)("canExportExcel",i.userTypeService.canExportExcel)("canExportPdf",i.userTypeService.canExportPdf),oe("page",i.page),d("showPagination",i.showPagination)("canNew",i.userTypeService.canAdd),oe("mode",i.mode),d("size",i.size),l(),C(i.mode=="table"?1:2),l(5),d("visible",i.canAdd),l(),d("visible",i.canEdit),l(),d("visible",i.canRemove),l(),d("divider",!0),l(),d("visible",i.canChangeStateACTIVE),l(2),d("visible",i.canChangeStateINACTIVE),l(),d("visible",i.canExport)("subMenu",a),l(),d("divider",!0),l(4),d("visible",i.canExportPdf),l(),d("visible",i.canExportExcel),l(),C(i.loading?20:-1)}},dependencies:[ut,pt,mt,dt,U,Se,Et,ie,Je,Mt,ni,wt,ht,Yt],encapsulation:2})};var Id=["appScrollUp",""],Od=["*"];function Fd(n,t){if(n&1){let e=S();r(0,"button",1),qa("leave-box"),_n("enter-box"),f("click",function(){h(e);let a=u();return v(a.scrollToTop())}),p(1,"i",2),o()}}var Ko=class n{el=g(Ue);ngZone=g(Wt);desde=B(101);hiddenButton=W(!0);containerId=B("");container=W(null);scrollListener=null;ngOnInit(){let t=this.containerId(),e=t===""?this.el.nativeElement:document.getElementById(t);this.container.set(e),this.container()&&this.ngZone.runOutsideAngular(()=>{this.scrollListener=()=>{this.ngZone.run(()=>{this.onScroll()})},this.container().addEventListener("scroll",this.scrollListener)})}constructor(){let t=()=>this.onScroll();bt(e=>{let i=this.container();i&&this.ngZone.runOutsideAngular(()=>{i.addEventListener("scroll",t)}),e(()=>{i?.removeEventListener("scroll",t)})})}onScroll(){this.hiddenButton.set((this.container()?.scrollTop||0)<=this.desde())}scrollToTop(){this.container()?.scrollTo({top:0,behavior:"smooth"})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=z({type:n,selectors:[["","appScrollUp",""]],inputs:{desde:[1,"desde"],containerId:[1,"containerId"]},attrs:Id,ngContentSelectors:Od,decls:2,vars:1,consts:[["icon-button","","color","dark",1,"btn-circle","btn-lg-custom"],["icon-button","","color","dark",1,"btn-circle","btn-lg-custom",3,"click"],[1,"ion-md-arrow-round-up"]],template:function(e,i){e&1&&(Ve(),Me(0),_(1,Fd,2,0,"button",0)),e&2&&(l(),C(i.hiddenButton()?-1:1))},dependencies:[ao],styles:["button[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;z-index:1}"]})};var Xo=class n{auth=g(A);toggleMin(){return x(this,null,function*(){this.auth.userData.setting&&(this.auth.userData.setting.min=this.auth.userData.setting?.min==0?1:0,this.auth.setting.set(nr.deepClone(this.auth.userData.setting)),yield this.auth.config({id:this.auth.userData.id,min:this.auth.userData.setting?.min}))})}static \u0275fac=function(e){return new(e||n)};static \u0275dir=rt({type:n,selectors:[["","appUserToggle",""]],hostBindings:function(e,i){e&1&&f("click",function(){return i.toggleMin()})}})};var Hd=["textElement"],Qo=class n{text=B.required();duration=B(8);initAnimation=W(!1);textElement=bn("textElement");constructor(){ri(()=>{this.checkTextOverflow()}),bt(()=>{this.text(),vi(()=>{this.checkTextOverflow()})})}checkTextOverflow(){let t=this.textElement()?.nativeElement;if(!t)return;let e=t.parentElement?.clientWidth||0,i=t.scrollWidth;this.initAnimation.set(i>e)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=z({type:n,selectors:[["marquee-text"]],viewQuery:function(e,i){e&1&&xn(i.textElement,Hd,5),e&2&&Kt()},hostVars:2,hostBindings:function(e,i){e&2&&me("init-animation",i.initAnimation())},inputs:{text:[1,"text"],duration:[1,"duration"]},decls:5,vars:2,consts:[["textElement",""],[1,"marquee-text","text-1"],[1,"marquee-text","text-2"]],template:function(e,i){e&1&&(Ht(0,"div",1,0),c(2),Gt(),Ht(3,"div",2),c(4),Gt()),e&2&&(l(2),b(i.text()),l(2),b(i.text()))},styles:["[_nghost-%COMP%]{display:block;width:100%;overflow:hidden;position:relative;white-space:nowrap;cursor:pointer}.init-animation[_nghost-%COMP%]   .text-2[_ngcontent-%COMP%]{display:inline-block}.marquee-text[_ngcontent-%COMP%]{display:inline-block;white-space:nowrap;will-change:transform;transition:transform .3s ease;padding-right:24px}.marquee-text.text-2[_ngcontent-%COMP%]{display:none}.init-animation[_nghost-%COMP%]   .marquee-text[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_marquee var(--duration, 8s) linear infinite}@keyframes _ngcontent-%COMP%_marquee{0%{transform:translate(0)}to{transform:translate(-100%)}}"]})};function Ad(n,t){if(n&1&&p(0,"marquee-text",9),n&2){let e=u(),i=Ti(11);d("text",i+" / "+(e.auth.userData.area==null?null:e.auth.userData.area.denomination))("duration",8)}}function Ud(n,t){if(n&1&&p(0,"marquee-text",9),n&2){let e=u();d("text",(e.auth.institucionData==null?null:e.auth.institucionData.nombre_comercial)??"")("duration",8)}}var Zo=class n{auth=g(A);roleNavigationService=g(Cr);displayRole(){return this.auth.userData.rol==="root"?"Due\xF1o":this.auth.userData.rol}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=z({type:n,selectors:[["role-user-selector"]],decls:16,vars:3,consts:[[1,"role-user-content",3,"click"],[1,"role-user-icon"],[1,"icon-container"],["src","https://cdn-icons-png.flaticon.com/512/10307/10307344.png","alt","User role icon",1,"user-icon"],[1,"role-user-text"],[1,"role-title"],[1,"default-text-role","text-truncate"],[1,"alter-text-role"],[1,"establishment-info"],[3,"text","duration"],[1,"role-user-arrow"],[1,"bi-chevron-expand"]],template:function(e,i){if(e&1){let a=S();r(0,"div",0),f("click",function(){return h(a),v(i.roleNavigationService.openRoles())}),r(1,"div",1)(2,"div",2),p(3,"img",3),o()(),r(4,"div",4)(5,"b",5)(6,"span",6),c(7),o(),r(8,"span",7),c(9,"Cambiar Rol"),o()(),r(10,"div",8),$i(11),_(12,Ad,1,2,"marquee-text",9)(13,Ud,1,2,"marquee-text",9),o()(),r(14,"div",10),p(15,"i",11),o()()}if(e&2){l(7),b(i.displayRole()),l(4);let a=qi(i.auth.userData.establishment==null?null:i.auth.userData.establishment.denomination);l(),C(a!=null&&a!=""?12:13)}},dependencies:[Qo],styles:[".role-user-content[_ngcontent-%COMP%]{cursor:pointer;display:flex;align-items:center;justify-content:flex-start;gap:.5rem;padding:.5rem;border-bottom:1px solid var(--border-color);border-radius:0 8px 0 0;transition:background-color .3s ease}.role-user-content[_ngcontent-%COMP%]:hover{background-color:var(--primary)}.role-user-content[_ngcontent-%COMP%]:hover   .alter-text-role[_ngcontent-%COMP%]{opacity:1}.role-user-content[_ngcontent-%COMP%]:hover   .default-text-role[_ngcontent-%COMP%]{opacity:0}.role-user-content[_ngcontent-%COMP%]:hover   .role-title[_ngcontent-%COMP%]{color:var(--text-color)}.role-user-content[_ngcontent-%COMP%]:hover   .icon-container[_ngcontent-%COMP%]{background-color:var(--text-on-primary)}.role-user-content[_ngcontent-%COMP%]   .default-text-role[_ngcontent-%COMP%], .role-user-content[_ngcontent-%COMP%]   .alter-text-role[_ngcontent-%COMP%]{transition:opacity .3s ease,color .3s ease}.role-user-content[_ngcontent-%COMP%]   .alter-text-role[_ngcontent-%COMP%]{position:absolute;left:0;top:0;opacity:0}.role-user-icon[_ngcontent-%COMP%]{width:32px;height:32px;display:flex;align-items:center;justify-content:center}.role-user-icon[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]{height:32px;width:32px;border-radius:4px;background-color:var(--primary);display:flex;align-items:center;justify-content:center;transition:background-color linear .2s}.role-user-icon[_ngcontent-%COMP%]   .user-icon[_ngcontent-%COMP%]{width:20px;height:auto}.role-user-text[_ngcontent-%COMP%]{flex:1;overflow:hidden;position:relative;text-transform:uppercase}.role-user-text[_ngcontent-%COMP%]   .role-title[_ngcontent-%COMP%]{line-height:normal;font-size:13px;display:block;margin-bottom:2px;color:var(--text-primary)}.role-user-text[_ngcontent-%COMP%]   .establishment-info[_ngcontent-%COMP%]{line-height:normal;font-size:12px;margin-top:-4px}.role-user-arrow[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;opacity:.6;transition:opacity .3s ease,transform .3s ease}.role-user-arrow[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px;color:var(--text-color)}@media (min-width: 769px){.min-aside[_nghost-%COMP%]   .role-user-text[_ngcontent-%COMP%], .min-aside   [_nghost-%COMP%]   .role-user-text[_ngcontent-%COMP%]{display:none}.min-aside[_nghost-%COMP%]   .role-user-arrow[_ngcontent-%COMP%], .min-aside   [_nghost-%COMP%]   .role-user-arrow[_ngcontent-%COMP%]{display:none}.min-aside[_nghost-%COMP%]   .role-user-icon[_ngcontent-%COMP%], .min-aside   [_nghost-%COMP%]   .role-user-icon[_ngcontent-%COMP%]{width:var(--side-compact-width)}.min-aside[_nghost-%COMP%]   .role-user-icon[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%], .min-aside   [_nghost-%COMP%]   .role-user-icon[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]{background-color:transparent}}"],changeDetection:0})};var Jo=class n{hasNavBorder=W(!1);navBarTemplate=W(void 0);expirationDate=W("2025-12-15");hasExpiration=te(()=>{let t=new Date,e=this.expirationDate();return e?new Date(e)<t:!1});removeNavTemplate(){this.navBarTemplate.set(void 0)}navTemplateToLeft(t){this.navBarTemplate.set({template:t,side:"left"})}navTemplateToRight(t){this.navBarTemplate.set({template:t,side:"right"})}static \u0275fac=function(e){return new(e||n)};static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})};var _0='<svg xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="0 0 897 1024" fill="none"><path fill="currentColor" d="M768.338 896h-64v19q0 53-29.5 84.5t-71.5 22.5l-502-99q-42-8-71.5-51t-29.5-96V128q0-53 37.5-90.5t90.5-37.5h640q53 0 90.5 37.5t37.5 90.5v640q0 53-37.5 90.5t-90.5 37.5zm-640-479q0 46 30 84q4 6 21.5 19t31 27.5t13.5 28.5v128q0 15 31.5 27.5t96.5 28.5q39 10 67.5 7.5t44.5-11.5t16-20V608q0-14 13.5-26.5t32-22.5t21.5-13q5-4 14.5-9t12-10.5t2.5-19.5q0-45-29-83t-69-46q-25-5-47 5q-30-51-79.5-61t-78.5 29q-23-18-47-23q-41-8-69.5 18t-28.5 71zm704-243q0-46-32.5-78t-77.5-32h-465l346 68q42 9 71.5 52t29.5 95v553h18q45 0 77.5-32.5t32.5-77.5V174z"/></svg>',C0='<svg xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="0 0 24 24" fill="currentColor"><path fill="currentColor" d="M12 5q-.625 0-1.063-.438T10.5 3.5q0-.45.25-.938t.8-1.087q.05-.05.45-.2q.125 0 .238.05t.212.15q.55.6.8 1.088t.25.937q0 .625-.437 1.063T12 5ZM7 5q-.625 0-1.063-.438T5.5 3.5q0-.45.25-.938t.8-1.087q.05-.05.45-.2q.125 0 .238.05t.212.15q.55.6.8 1.088t.25.937q0 .625-.437 1.063T7 5Zm10 0q-.625 0-1.063-.438T15.5 3.5q0-.45.25-.938t.8-1.087q.05-.05.45-.2q.125 0 .238.05t.212.15q.55.6.8 1.088t.25.937q0 .625-.438 1.063T17 5ZM4.5 23q-.625 0-1.063-.438T3 21.5V14l2.1-6q.15-.45.537-.725T6.5 7h11q.475 0 .863.275T18.9 8l2.1 6v7.5q0 .625-.437 1.063T19.5 23q-.625 0-1.063-.438T18 21.5V21H6v.5q0 .625-.438 1.063T4.5 23Zm1.3-11h12.4l-1.05-3H6.85L5.8 12Zm1.7 6q.625 0 1.063-.438T9 16.5q0-.625-.438-1.063T7.5 15q-.625 0-1.063.438T6 16.5q0 .625.438 1.063T7.5 18Zm9 0q.625 0 1.063-.438T18 16.5q0-.625-.438-1.063T16.5 15q-.625 0-1.063.438T15 16.5q0 .625.438 1.063T16.5 18Z"/></svg>';var x0='<svg xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="0 0 24 24"><path fill="currentColor" d="M21 10h-2V4h1V2H4v2h1v6H3a1 1 0 0 0-1 1v9h20v-9a1 1 0 0 0-1-1zm-7 8v-4h-4v4H7V4h10v14h-3z"/><path fill="currentColor" d="M9 6h2v2H9zm4 0h2v2h-2zm-4 4h2v2H9zm4 0h2v2h-2z"/></svg>';var Ld=["*"],e1=class n{active=B(!1);variant=B("flat");hovered=B(!1);color=B("");spacing=B("16px",{transform:t=>typeof t=="number"?`${t}px`:t});addClass=B("");styles=B("");static \u0275fac=function(e){return new(e||n)};static \u0275cmp=z({type:n,selectors:[["core-card"],["card"]],hostVars:22,hostBindings:function(e,i){e&2&&(jn(i.styles()),Ce(i.addClass()),lt("padding",i.spacing()),me("active",i.active())("variant-outline",i.variant()==="outline")("variant-flat",i.variant()==="flat")("variant-compact",i.variant()==="compact")("hovered",i.hovered())("color-primary",i.color()==="primary")("color-danger",i.color()==="danger")("color-success",i.color()==="success"))},inputs:{active:[1,"active"],variant:[1,"variant"],hovered:[1,"hovered"],color:[1,"color"],spacing:[1,"spacing"],addClass:[1,"addClass"],styles:[1,"styles"]},ngContentSelectors:Ld,decls:1,vars:0,template:function(e,i){e&1&&(Ve(),Me(0))},styles:["[_nghost-%COMP%]{display:flex;width:auto;padding:16px;border-radius:8px;background:var(--bg-card);position:relative;transition:border .2s ease,background .2s ease,box-shadow .2s ease;color:var(--text-color, #000)}.variant-flat[_nghost-%COMP%]{border:none;box-shadow:0 1px 1px #0000001a,0 -1px 4px #0000000d}.variant-outline[_nghost-%COMP%]{border:1px solid var(--border-color);box-shadow:none}.variant-compact[_nghost-%COMP%]{border:1px solid var(--border-color);border-radius:4px}.hovered[_nghost-%COMP%]:hover.variant-flat, .active.variant-flat[_nghost-%COMP%]{background:var(--primary-pastel, #f0f0f0)}.hovered[_nghost-%COMP%]:hover.variant-outline, .active.variant-outline[_nghost-%COMP%]{background:var(--primary-pastel, #f0f0f0);border-color:var(--primary, #e0e0e0)}.hovered[_nghost-%COMP%]:hover.variant-compact, .active.variant-compact[_nghost-%COMP%]{background:var(--primary-pastel, #f0f0f0);border-color:var(--primary, #e0e0e0)}[_nghost-%COMP%]:focus-visible{outline:none;background:var(--fuse-bg-card-100, #e0e0e0)}.hovered[_nghost-%COMP%]{cursor:pointer}.color-primary[_nghost-%COMP%]{border-color:var(--primary, #007bff)}.color-primary.variant-outline[_nghost-%COMP%]{border-color:var(--primary, #007bff)}.color-primary.hovered[_nghost-%COMP%]:hover, .color-primary.active[_nghost-%COMP%]{background:var(--primary-light, rgba(0, 123, 255, .1))}.color-danger[_nghost-%COMP%]{border-color:var(--danger, #dc3545)}.color-danger.variant-outline[_nghost-%COMP%]{border-color:var(--danger, #dc3545)}.color-danger.hovered[_nghost-%COMP%]:hover, .color-danger.active[_nghost-%COMP%]{background:var(--danger-light, rgba(220, 53, 69, .1))}.color-success[_nghost-%COMP%]{border-color:var(--success, #28a745)}.color-success.variant-outline[_nghost-%COMP%]{border-color:var(--success, #28a745)}.color-success.hovered[_nghost-%COMP%]:hover, .color-success.active[_nghost-%COMP%]{background:var(--success-light, rgba(40, 167, 69, .1))}[_nghost-%COMP%]   .menu-button[_ngcontent-%COMP%]{z-index:1}","[_nghost-%COMP%]{display:block}"]})};var Yd=["*"],t1=class n{direction=B("column");gap=B("0px",{transform:t=>typeof t=="string"?t:`${t}px`});justify=B("start");align=B("stretch");wrap=B(!1);static \u0275fac=function(e){return new(e||n)};static \u0275cmp=z({type:n,selectors:[["stack"],["","stack",""]],hostVars:7,hostBindings:function(e,i){e&2&&(wi("justify",i.justify())("align",i.align())("wrap",i.wrap()?"wrap":"nowrap"),lt("flex-direction",i.direction())("gap",i.gap()))},inputs:{direction:[1,"direction"],gap:[1,"gap"],justify:[1,"justify"],align:[1,"align"],wrap:[1,"wrap"]},ngContentSelectors:Yd,decls:1,vars:0,template:function(e,i){e&1&&(Ve(),Me(0))},styles:["[_nghost-%COMP%]{display:flex}[justify=start][_nghost-%COMP%]{justify-content:flex-start}[justify=end][_nghost-%COMP%]{justify-content:flex-end}[justify=center][_nghost-%COMP%]{justify-content:center}[justify=between][_nghost-%COMP%]{justify-content:space-between}[justify=around][_nghost-%COMP%]{justify-content:space-around}[justify=evenly][_nghost-%COMP%]{justify-content:space-evenly}[align=start][_nghost-%COMP%]{align-items:flex-start}[align=end][_nghost-%COMP%]{align-items:flex-end}[align=center][_nghost-%COMP%]{align-items:center}[align=stretch][_nghost-%COMP%]{align-items:stretch}[align=baseline][_nghost-%COMP%]{align-items:baseline}[wrap=wrap][_nghost-%COMP%]{flex-wrap:wrap}[wrap=nowrap][_nghost-%COMP%]{flex-wrap:nowrap}"]})};var Rd=["*"],i1=class n{columns=B(12);gap=B("1rem",{transform:t=>typeof t=="string"?t:`${t}px`});gridTemplateColumns=te(()=>`repeat(${this.columns()}, 1fr)`);static \u0275fac=function(e){return new(e||n)};static \u0275cmp=z({type:n,selectors:[["row"],["","row",""]],hostVars:4,hostBindings:function(e,i){e&2&&lt("grid-template-columns",i.gridTemplateColumns())("gap",i.gap())},inputs:{columns:[1,"columns"],gap:[1,"gap"]},ngContentSelectors:Rd,decls:1,vars:0,template:function(e,i){e&1&&(Ve(),Me(0))},styles:["[_nghost-%COMP%]{display:grid;gap:1rem;width:100%}"]})};var Nd=["*"],n1=class n{span=B(12);xs=B(null,{alias:"span-xs"});sm=B(null,{alias:"span-sm"});md=B(null,{alias:"span-md"});lg=B(null,{alias:"span-lg"});xl=B(null,{alias:"span-xl"});gap=B("1rem",{transform:t=>typeof t=="string"?t:`${t}px`});allIsNull=te(()=>this.xs()===null&&this.sm()===null&&this.md()===null&&this.lg()===null&&this.xl()===null);static \u0275fac=function(e){return new(e||n)};static \u0275cmp=z({type:n,selectors:[["column"],["","column",""]],hostAttrs:[1,"core-col"],hostVars:24,hostBindings:function(e,i){e&2&&(lt("--span",i.span())("--span-xs",i.xs())("--span-sm",i.sm())("--span-md",i.md())("--span-lg",i.lg())("--span-xl",i.xl()),me("col-xs",i.xs()!==null)("col-sm",i.sm()!==null)("col-md",i.md()!==null)("col-lg",i.lg()!==null)("col-xl",i.xl()!==null)("auto-span",i.allIsNull()))},inputs:{span:[1,"span"],xs:[1,"span-xs","xs"],sm:[1,"span-sm","sm"],md:[1,"span-md","md"],lg:[1,"span-lg","lg"],xl:[1,"span-xl","xl"],gap:[1,"gap"]},ngContentSelectors:Nd,decls:1,vars:0,template:function(e,i){e&1&&(Ve(),Me(0))},styles:["[_nghost-%COMP%]{--current-span: var(--span, 12);flex:1;grid-column:span var(--current-span);display:flex;flex-direction:column}@media (max-width: 575.98px){.col-xs[_nghost-%COMP%]{--current-span: var(--span-xs, 12)}}@media (min-width: 576px){.col-sm[_nghost-%COMP%]{--current-span: var(--span-sm, 12)}}@media (min-width: 768px){.col-md[_nghost-%COMP%]{--current-span: var(--span-md, 12)}}@media (min-width: 992px){.col-lg[_nghost-%COMP%]{--current-span: var(--span-lg, 12)}}@media (min-width: 1200px){.col-xl[_nghost-%COMP%]{--current-span: var(--span-xl, 12)}}"]})};function Bd(n,t){n&1&&p(0,"img",22)}function jd(n,t){n&1&&p(0,"img",23)}function $d(n,t){n&1&&p(0,"img",24)}function qd(n,t){if(n&1&&(r(0,"p",26),c(1),o()),n&2){let e=u().$implicit;l(),b(e.accountNumber)}}function Wd(n,t){if(n&1&&(r(0,"p",26),c(1),o()),n&2){let e=u().$implicit;l(),O("**** **** **** ",e.cardNumber.slice(-4))}}function Gd(n,t){if(n&1){let e=S();r(0,"column",7)(1,"card",19),f("click",function(){let a=h(e).$implicit,s=u();return v(s.selectPaymentMethod(a.id))}),r(2,"div",20)(3,"div",21),_(4,Bd,1,0,"img",22)(5,jd,1,0,"img",23)(6,$d,1,0,"img",24),o()(),r(7,"div",25)(8,"h4"),c(9),o(),_(10,qd,2,1,"p",26),_(11,Wd,2,1,"p",26),o()()()}if(n&2){let e,i=t.$implicit,a=u();l(),d("active",a.selectedPaymentMethod()===i.id)("hovered",!0),l(3),C((e=i.type)==="plin"?4:e==="yape"?5:e==="card"?6:-1),l(5),b(i.name),l(),C(i.accountNumber?10:-1),l(),C(i.cardNumber?11:-1)}}function Kd(n,t){n&1&&p(0,"img",22)}function Xd(n,t){n&1&&p(0,"img",23)}function Qd(n,t){n&1&&p(0,"img",24)}function Zd(n,t){if(n&1&&(r(0,"card",17)(1,"div",27)(2,"div",28),_(3,Kd,1,0,"img",22)(4,Xd,1,0,"img",23)(5,Qd,1,0,"img",24),o(),r(6,"div",25)(7,"p",29),c(8),je(9,"date"),o(),r(10,"p",30),c(11),o()()(),r(12,"div",31)(13,"div",32),c(14),je(15,"number"),o(),r(16,"div",33),c(17),o()()()),n&2){let e,i=t.$implicit,a=u();l(3),C((e=i.paymentMethod.type)==="plin"?3:e==="yape"?4:e==="card"?5:-1),l(5),b($e(9,11,i.date,"dd/MM/yyyy HH:mm")),l(3),O("Ref: ",i.reference),l(3),O("S/ ",$e(15,14,i.amount,"1.2-2")),l(2),me("bg-success",i.status=="completed")("bg-warning",i.status=="pending")("bg-danger",i.status=="failed"),l(),O(" ",a.getStatusText(i.status)," ")}}function Jd(n,t){n&1&&(r(0,"div",18)(1,"p"),c(2,"No se encontraron pagos con los filtros seleccionados."),o()())}var o1=class n{selectedPaymentMethod=W(null);selectedFilter=W("all");paymentMethods=W([{id:"1",name:"PLIN",type:"plin",accountNumber:"+51 987 654 321",isDefault:!0,balance:1250.5},{id:"2",name:"Yape",type:"yape",accountNumber:"+51 987 654 321",isDefault:!1,balance:850.75},{id:"3",name:"Visa",type:"card",cardNumber:"4532123456789012",cardType:"Visa",isDefault:!1}]);paymentHistory=W([{id:"1",amount:250,date:new Date("2024-12-15T10:30:00"),description:"Pago de mensualidad escolar",paymentMethod:this.paymentMethods()[0],status:"completed",reference:"PLN-2024-001"},{id:"2",amount:150.5,date:new Date("2024-12-14T15:45:00"),description:"Compra de \xFAtiles escolares",paymentMethod:this.paymentMethods()[1],status:"completed",reference:"YPE-2024-002"},{id:"3",amount:75,date:new Date("2024-12-13T09:15:00"),description:"Pago de transporte escolar",paymentMethod:this.paymentMethods()[2],status:"pending",reference:"VSA-2024-003"},{id:"4",amount:320,date:new Date("2024-12-12T14:20:00"),description:"Matr\xEDcula curso extracurricular",paymentMethod:this.paymentMethods()[0],status:"completed",reference:"PLN-2024-004"},{id:"5",amount:125.75,date:new Date("2024-12-11T11:30:00"),description:"Pago de cafeter\xEDa",paymentMethod:this.paymentMethods()[1],status:"failed",reference:"MST-2024-005"},{id:"6",amount:450,date:new Date("2024-12-10T16:45:00"),description:"Pago de pensi\xF3n completa",paymentMethod:this.paymentMethods()[1],status:"completed",reference:"YPE-2024-006"}]);filteredPayments=te(()=>{let t=this.selectedFilter();return t==="all"?this.paymentHistory():this.paymentHistory().filter(e=>e.status===t)});selectPaymentMethod(t){this.selectedPaymentMethod.set(t)}filterPayments(){}getStatusText(t){switch(t){case"completed":return"Completado";case"pending":return"Pendiente";case"failed":return"Fallido";default:return t}}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=z({type:n,selectors:[["app-client-payments"]],decls:29,vars:4,consts:[[1,"client-payments"],["direction","column","gap","24"],[1,"mb-3"],[1,"color-primary","m-0"],[1,""],["direction","column","gap","16"],["gap","16",3,"columns"],["span","12","span-md","6","span-lg","4"],["direction","column","gap","16",1,"pt-3"],[1,"section-header","pb-3"],[1,"filters"],[1,"form-select",3,"ngModelChange","change","ngModel"],["value","all"],["value","completed"],["value","pending"],["value","failed"],[3,"gap"],["variant","outline",1,"payment-history-item","p-2"],[1,"no-payments"],["variant","outline",1,"payment-method-card",3,"click","active","hovered"],[1,"payment-header"],[1,"payment-icon"],["src","assets/img/iconos/plin.svg","alt","PLIN"],["src","assets/img/iconos/yape.svg","alt","YAPE"],["src","assets/img/iconos/visa.svg","alt","Visa"],[1,"payment-details"],[1,"account-info"],[1,"payment-info"],[1,"payment-method-icon"],[1,"payment-method-name"],[1,"payment-reference"],[1,"payment-amount-status"],[1,"amount","monospace"],[1,"badge"]],template:function(e,i){e&1&&(r(0,"div",0)(1,"stack",1)(2,"div",2)(3,"h4",3),c(4,"M\xE9todos de Pago"),o(),r(5,"p",4),c(6,"Gestiona tus m\xE9todos de pago y revisa tu historial"),o()(),r(7,"stack",5)(8,"row",6),L(9,Gd,12,6,"column",7,J),o()(),r(11,"stack",8)(12,"div",9)(13,"b"),c(14,"Historial de Pagos"),o(),r(15,"div",10)(16,"select",11),le("ngModelChange",function(s){return Q(i.selectedFilter,s)||(i.selectedFilter=s),s}),f("change",function(){return i.filterPayments()}),r(17,"option",12),c(18,"Todos"),o(),r(19,"option",13),c(20,"Completados"),o(),r(21,"option",14),c(22,"Pendientes"),o(),r(23,"option",15),c(24,"Fallidos"),o()()()(),r(25,"stack",16),L(26,Zd,18,17,"card",17,J),_(28,Jd,3,0,"div",18),o()()()()),e&2&&(l(8),d("columns",12),l(),Y(i.paymentMethods()),l(7),oe("ngModel",i.selectedFilter),l(9),d("gap",8),l(),Y(i.filteredPayments()),l(2),C(i.filteredPayments().length===0?28:-1))},dependencies:[Xt,ye,Ge,Ke,We,de,Se,Qt,e1,t1,i1,n1,Xa,Ne],styles:[".client-payments[_ngcontent-%COMP%]{padding:24px;max-width:1200px;margin:0 auto}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:var(--primary-color, #2563eb);font-weight:600}.subtitle[_ngcontent-%COMP%]{margin:8px 0 0;color:var(--text-secondary, #6b7280)}.payment-method-card[_ngcontent-%COMP%]{padding:20px;cursor:pointer;transition:all .2s ease;height:100%;display:flex;flex-direction:column}.payment-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:16px}.payment-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.payment-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:48px;height:48px;object-fit:contain}.payment-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;height:100%}.default-badge[_ngcontent-%COMP%]{background:var(--success-color, #10b981);color:#fff;padding:4px 8px;border-radius:12px;font-size:12px;font-weight:500}.payment-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 8px;font-weight:600}.account-info[_ngcontent-%COMP%]{margin:4px 0;font-family:monospace;color:var(--text-secondary, #6b7280)}.card-type[_ngcontent-%COMP%]{margin:4px 0;font-size:12px;text-transform:uppercase;color:var(--text-secondary, #6b7280)}.payment-method-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px;height:32px;object-fit:contain}.balance[_ngcontent-%COMP%]{margin:8px 0 0;font-weight:600;color:var(--success-color, #10b981)}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:16px}.section-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}.filters[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{min-width:150px}.payment-history-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:16px;gap:16px}.payment-info[_ngcontent-%COMP%]{display:flex;gap:12px;flex:1}.payment-details[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0 0 4px;font-weight:600}.payment-method-name[_ngcontent-%COMP%], .payment-reference[_ngcontent-%COMP%]{margin:2px 0;font-size:14px;color:var(--text-secondary, #6b7280)}.payment-amount-status[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;gap:4px}.amount[_ngcontent-%COMP%]{font-weight:600;font-size:18px}.status[_ngcontent-%COMP%]{padding:4px 8px;border-radius:12px;font-size:12px;font-weight:500}.status-completed[_ngcontent-%COMP%]{background:var(--success-light, #d1fae5);color:var(--success-color, #10b981)}.status-pending[_ngcontent-%COMP%]{background:var(--warning-light, #fef3c7);color:var(--warning-color, #f59e0b)}.status-failed[_ngcontent-%COMP%]{background:var(--danger-light, #fee2e2);color:var(--danger-color, #ef4444)}.date[_ngcontent-%COMP%]{font-size:12px;color:var(--text-secondary, #6b7280)}.no-payments[_ngcontent-%COMP%]{text-align:center;padding:40px;color:var(--text-secondary, #6b7280)}@media (max-width: 768px){.client-payments[_ngcontent-%COMP%]{padding:16px}.payment-history-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}.payment-amount-status[_ngcontent-%COMP%]{align-items:flex-start;width:100%}.section-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}}"]})};var e7=[[["","nav",""]],[["","aside",""]],"*"],t7=["[nav]","[aside]","*"];function i7(n,t){if(n&1&&At(0,9),n&2){u();let e=Ti(0);d("ngTemplateOutlet",e.template)}}function n7(n,t){if(n&1&&At(0,9),n&2){u();let e=Ti(0);d("ngTemplateOutlet",e.template)}}function o7(n,t){if(n&1){let e=S();r(0,"button",18),f("click",function(){h(e);let a=u();return v(a.payService())}),fn(),r(1,"svg",19),p(2,"path",20),r(3,"g",21),p(4,"animateTransform",22)(5,"rect",23)(6,"rect",24),o()(),Oa(),r(7,"span"),c(8,"Servicio vencido"),o(),r(9,"b",25),c(10,"PAGAR"),o()()}}function a7(n,t){if(n&1&&(r(0,"div",16)(1,"div",26),_n("enter-box"),p(2,"ng-icon",5),o(),r(3,"span",27),_n("right-enter"),c(4),o()()),n&2){let e=u();l(),d("title",e.systemText()),l(),d("name",e.systemIcon()),l(2),b(e.systemText())}}function r7(n,t){n&1&&p(0,"router-outlet")}var a1=class n{showMobileNav=W(!1);modal=g(Ie);auth=g(A);extraNavTemplate=B();disabledRouter=B(!1);extend=B(!1);layoutService=g(Jo);systemText=te(()=>this.auth.currentSystem());hasExpiration=this.layoutService.hasExpiration;systemIcon=te(()=>{switch(this.auth.currentSystem()){case"carwash":return"iconCarwash";case"restaurante":return"iconMenuRestaurant";case"academico":return"iconSchool";default:return"lucideBox"}});payService(){this.modal.open(o1,{size:"lg"})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=z({type:n,selectors:[["layout-main"]],hostVars:2,hostBindings:function(e,i){e&2&&me("has-nav-border",i.layoutService.hasNavBorder())},inputs:{extraNavTemplate:[1,"extraNavTemplate"],disabledRouter:[1,"disabledRouter"],extend:[1,"extend"]},features:[Ut([],[yr({lucideGrip:zr,lucidePanelLeftClose:wr,lucidePanelLeftOpen:Er,lucideBox:Mr,iconCarwash:C0,iconMenuRestaurant:_0,iconSchool:x0})])],ngContentSelectors:t7,decls:27,vars:18,consts:[[1,"navbar","navbar-expand-lg","navbar-main"],[1,"d-flex","align-items-center","gap-1"],["appUserToggle","",1,"menu-button","menu-button-desktop"],["name","lucideGrip"],[1,"menu-button","menu-button-mobile",3,"click"],[3,"name"],[1,"text-truncate"],["id","navbarSupportedContent",1,"collapse","navbar-collapse","px-1","flex-fill"],[1,"d-flex","align-items-center","gap-1","me-auto"],[3,"ngTemplateOutlet"],["button","","color","danger",1,"d-flex","align-items-center","gap-2","pe-0","ps-2"],["id","intro_usuario"],["id","main"],[1,"aside-left"],[1,"w-100"],[1,"system-wrapper"],[1,"system-box"],["appScrollUp","","id","main-panel",1,"main-panel"],["button","","color","danger",1,"d-flex","align-items-center","gap-2","pe-0","ps-2",3,"click"],["width","28","height","28","viewBox","0 0 28 28","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M10.5524 9.36115C12.0883 6.75013 12.8563 5.44462 14.0002 5.44462C15.1441 5.44462 15.912 6.75013 17.4479 9.36115L22.1209 17.3053C23.695 19.9812 24.4821 21.3192 23.9061 22.3263C23.3301 23.3333 21.7778 23.3333 18.6732 23.3333H9.32717C6.22253 23.3333 4.67021 23.3333 4.09423 22.3263C3.51825 21.3192 4.30531 19.9812 5.87943 17.3053L10.5524 9.36115Z","fill","currentColor","fill-opacity","0.4"],["transform-origin","14 14"],["attributeName","transform","type","rotate","dur","0.8s","values","0 0 0; -45 0 0; 45 0 0; -28 0 0; 28 0 0; -5 0 0; 5 0 0; 0 0 0;","repeatCount","indefinite"],["x","13","y","10","width","2","height","6","fill","currentColor"],["x","13","y","18","width","2","height","2","fill","currentColor"],[1,"px-2",2,"height","calc(100% - 6px)","margin-right","3px","align-content","center","border-radius","5px","background-color","white","color","red","font-size","12px","letter-spacing","1px","line-height","normal"],[1,"system-icon",3,"title"],[1,"monospace"]],template:function(e,i){if(e&1){let a=S();Ve(e7),$i(0),r(1,"nav",0)(2,"div",1)(3,"div",2),p(4,"ng-icon",3),o(),r(5,"div",4),f("click",function(){return h(a),v(i.showMobileNav.set(!i.showMobileNav()))}),p(6,"ng-icon",5),o(),p(7,"app-nav-user",6),o(),r(8,"div",7)(9,"div",8),At(10,9),_(11,i7,1,1,"ng-container",9),o(),r(12,"div",1),_(13,n7,1,1,"ng-container",9),Me(14),_(15,o7,11,0,"button",10),p(16,"app-nav-user-data",11),o()()(),r(17,"main",12)(18,"div",13)(19,"div",14),p(20,"role-user-selector"),Me(21,1),o(),r(22,"div",15),_(23,a7,5,3,"div",16),o()(),r(24,"div",17),_(25,r7,1,0,"router-outlet"),Me(26,2),o()()}if(e&2){let a=qi(i.layoutService.navBarTemplate()),s=a!=null,m=s&&a.side==="left";l(2),lt("max-width",m||i.extraNavTemplate()!=null?"200px":"none"),l(),me("min",i.auth.isCompact()),l(3),d("name",i.showMobileNav()?"lucidePanelLeftClose":"lucidePanelLeftOpen"),l(4),d("ngTemplateOutlet",i.extraNavTemplate()??null),l(),C(s&&m?11:-1),l(2),C(s&&!m?13:-1),l(2),C(i.hasExpiration()?15:-1),l(3),me("min-aside",i.auth.isCompact())("show-mobile-nav",i.showMobileNav()),l(5),C(i.systemText()?23:-1),l(),me("all",i.extend()),l(),C(i.disabledRouter()?-1:25)}},dependencies:[Xt,Ot,Ko,Xo,br,Sr,Qn,Kn,Zo,ro,zt,Zt],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100vh;--slide-active-radius: 6px;anchor-name:--layout-main}.has-nav-border[_nghost-%COMP%]   .aside-left[_ngcontent-%COMP%]{border-radius:0}.has-nav-border[_nghost-%COMP%]   .main-panel[_ngcontent-%COMP%]{border-top:1px solid var(--border-color)}.system-wrapper[_ngcontent-%COMP%]{padding:.25rem;width:100%}.system-wrapper[_ngcontent-%COMP%]   .system-box[_ngcontent-%COMP%]{line-height:normal;color:var(--text-color-200);font-size:.8rem;text-transform:uppercase;-webkit-user-select:none;user-select:none;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding:0 .5rem;width:100%;height:calc(var(--side-compact-width) - 1rem);background:rgb(from var(--text-color) r g b/.05);border-radius:4px;display:flex;align-items:center;gap:.5rem;letter-spacing:1px;font-weight:700}.system-wrapper[_ngcontent-%COMP%]   .system-icon[_ngcontent-%COMP%]{font-size:1.4rem;display:flex;align-items:center;justify-content:center}.min-aside[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.min-aside[_ngcontent-%COMP%]   .system-box[_ngcontent-%COMP%]{justify-content:center}main[_ngcontent-%COMP%]{height:calc(100% - var(--h-navbar));width:100%;display:flex}main[_ngcontent-%COMP%]   #main-panel[_ngcontent-%COMP%]{flex:1;overflow:auto}.menu-button[_ngcontent-%COMP%]{padding:var(--bs-navbar-brand-padding-y) 0;font-size:var(--bs-navbar-brand-font-size);text-decoration:none;white-space:nowrap;width:var(--side-compact-width);min-width:var(--side-compact-width);position:relative;text-align:center;height:var(--h-navbar);color:var(--text-color);cursor:pointer;display:flex;justify-content:center;align-items:center;transition:all ease .2s}.menu-button[_ngcontent-%COMP%]:hover{color:var(--text-primary)}.menu-button.min[_ngcontent-%COMP%]{border-right:1px solid var(--border-color);background-color:var(--slide-bg)}.aside-left[_ngcontent-%COMP%]{--width-aside: 200px;border-radius:0 8px 0 0;border-right:1px solid var(--border-color);border-top:1px solid var(--border-color);background:var(--slide-bg);transition:all ease .2s;min-width:var(--width-aside);max-width:var(--width-aside);width:var(--width-aside);font-size:14px;z-index:99;display:flex;align-content:space-between;flex-wrap:wrap}.menu-button-mobile[_ngcontent-%COMP%]{display:none}@media (min-width: 769px){.aside-left.min-aside[_ngcontent-%COMP%]{border-radius:0;--width-aside: var(--side-compact-width)}}@media (max-width: 768px){.aside-left[_ngcontent-%COMP%]{position:absolute;z-index:100;left:0;transform:translate(-100%);height:calc(100% - var(--h-navbar))}.aside-left.show-mobile-nav[_ngcontent-%COMP%]{transform:translate(0)}.menu-button-mobile[_ngcontent-%COMP%]{display:flex}.menu-button-desktop[_ngcontent-%COMP%]{display:none}}.main-panel.all[_ngcontent-%COMP%]{position:absolute;inset:0;height:100vh}"]})};var l7=["*"];function c7(n,t){if(n&1&&p(0,"mnav-item",0)(1,"mnav-item",1),n&2){let e=u();d("label",e.parent().label())("link",e.parent().link())("options",e.parent().options())("parentLevel",e.level())("isSynthetic",!0),l(),d("separator",!0)}}var Ri=class n{el=g(Ue).nativeElement;level=W(0);items=P1(oi,{descendants:!1});synteticItem=bn(oi);compact=B(!1);parent=W(void 0);constructor(){bt(()=>{let t=this.items();vi(()=>{t.forEach(e=>{e.parentLevel.set(this.level())})})})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=z({type:n,selectors:[["mnav"]],contentQueries:function(e,i,a){e&1&&Ei(a,i.items,oi,4),e&2&&Kt()},viewQuery:function(e,i){e&1&&xn(i.synteticItem,oi,5),e&2&&Kt()},hostVars:2,hostBindings:function(e,i){e&2&&me("is-submenu",i.level()>0)},inputs:{compact:[1,"compact"]},ngContentSelectors:l7,decls:2,vars:1,consts:[[1,"syntetic-item",3,"label","link","options","parentLevel","isSynthetic"],[1,"syntetic-item",3,"separator"]],template:function(e,i){e&1&&(Ve(),_(0,c7,2,6),Me(1)),e&2&&C(i.parent()!=null&&i.level()==1?0:-1)},dependencies:[oi],styles:["[_nghost-%COMP%]{display:block;width:100%;position:relative;z-index:1000;padding:.25rem 0}.is-submenu[_nghost-%COMP%]{position:absolute;left:100%;border:1px solid var(--border-color);display:none;background:var(--fuse-bg-card);min-width:260px;box-shadow:1px 0 4px #0000001a;border-radius:8px;transform:translate(20%);opacity:0;animation:_ngcontent-%COMP%_slideIn .3s forwards;pointer-events:none}@keyframes _ngcontent-%COMP%_slideIn{50%{opacity:0}to{transform:translate(0);opacity:1;pointer-events:auto}}.syntetic-item[_ngcontent-%COMP%]{display:none}@media (min-width: 769px){.min-aside[_nghost-%COMP%]   .syntetic-item[_ngcontent-%COMP%], .min-aside   [_nghost-%COMP%]   .syntetic-item[_ngcontent-%COMP%]{display:block}}"],changeDetection:0})};var s7=["*"];function d7(n,t){if(n&1&&(r(0,"div",2),c(1),o()),n&2){let e=u(2);l(),b(e.label())}}function m7(n,t){if(n&1&&(r(0,"a",3),At(1,5),o()),n&2){let e=u(2),i=G(3);d("routerLink",e.link()),l(),d("ngTemplateOutlet",i)}}function p7(n,t){if(n&1&&(r(0,"a",4),At(1,5),o()),n&2){u();let e=Ti(0),i=u(),a=G(3);d("routerLinkActiveOptions",e)("routerLink",i.link()),l(),d("ngTemplateOutlet",a)}}function u7(n,t){if(n&1&&($i(0),_(1,d7,2,1,"div",2),_(2,m7,2,2,"a",3)(3,p7,2,3,"a",4)),n&2){let e=u(),i=qi(e.options());l(),C(e.hasChildren()?-1:1),l(),C(i==null?2:3)}}function h7(n,t){if(n&1&&(r(0,"span"),c(1),o()),n&2){let e=u(2);l(),b(e.label())}}function v7(n,t){if(n&1&&(r(0,"div",1),_(1,h7,2,1,"span"),p(2,"hr"),o()),n&2){let e=u();l(),C(e.label()?1:-1)}}function g7(n,t){if(n&1&&p(0,"i"),n&2){let e=u(2);Ce(e.icon())}}function f7(n,t){if(n&1&&p(0,"ng-icon",8),n&2){let e=u(2);d("name",e.iconNgName())}}function _7(n,t){if(n&1&&p(0,"img",9),n&2){let e=u(2);d("src",e.iconImage(),_e)}}function C7(n,t){n&1&&p(0,"i",11)}function x7(n,t){if(n&1&&(r(0,"div",6),_(1,g7,1,2,"i",7)(2,f7,1,1,"ng-icon",8)(3,_7,1,1,"img",9),o(),r(4,"span",10),c(5),o(),_(6,C7,1,0,"i",11)),n&2){let e=u();d("hidden",!e.icon()&&!e.iconImage()&&!e.iconNgName()),l(),C(e.icon()?1:e.iconNgName()?2:e.iconImage()?3:-1),l(4),b(e.label()),l(),C(e.hasChildren()?6:-1)}}var oi=class n{menuNav=Sn(Ri,{descendants:!1});parentLevel=$n(0);isSynthetic=$n(!1);el=g(Ue).nativeElement;label=B("");link=B();icon=B();iconImage=B();iconNgName=B();options=B();separator=B(!1);hasChildren=te(()=>this.menuNav()!=null);constructor(){bt(()=>{let t=this.menuNav();t&&vi(()=>{t.level.set(this.parentLevel()+1),t.parent.set(this)})})}onMouseEnter=()=>this.adjustSubmenuPosition();onMouseLeave=()=>{let t=this.menuNav()?.el;t&&t.classList.remove("submenu-bottom")};adjustSubmenuPosition(){let t=this.menuNav()?.el;if(!t)return;let e=window.innerHeight,i=this.el.getBoundingClientRect(),a=t.offsetHeight||200;t.classList.toggle("submenu-bottom",i.top+a>e)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=z({type:n,selectors:[["mnav-item"]],contentQueries:function(e,i,a){e&1&&Ei(a,i.menuNav,Ri,4),e&2&&Kt()},hostAttrs:[1,"menu-aside-item"],hostVars:6,hostBindings:function(e,i){e&1&&f("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(){return i.onMouseLeave()}),e&2&&me("menu-aside-item-separator",i.separator())("is-submenu",i.parentLevel()>0)("not-submenu",i.parentLevel()===0)},inputs:{parentLevel:[1,"parentLevel"],isSynthetic:[1,"isSynthetic"],label:[1,"label"],link:[1,"link"],icon:[1,"icon"],iconImage:[1,"iconImage"],iconNgName:[1,"iconNgName"],options:[1,"options"],separator:[1,"separator"]},outputs:{parentLevel:"parentLevelChange",isSynthetic:"isSyntheticChange"},ngContentSelectors:s7,decls:5,vars:1,consts:[["defaultTemplate",""],[1,"separator"],[1,"class-tooltip"],["routerLinkActive","active",1,"menu-aside-item-link",3,"routerLink"],["routerLinkActive","active",1,"menu-aside-item-link",3,"routerLinkActiveOptions","routerLink"],[3,"ngTemplateOutlet"],[1,"icon-content",3,"hidden"],[3,"class"],[3,"name"],[3,"src"],[1,"label"],[1,"menu-arrow","bi","bi-chevron-right"]],template:function(e,i){e&1&&(Ve(),_(0,u7,4,3)(1,v7,3,1,"div",1),E(2,x7,7,4,"ng-template",null,0,Pi),Me(4)),e&2&&C(i.separator()?1:0)},dependencies:[Xn,er,fr,Ot,Mt,ro],styles:["[_nghost-%COMP%]{--padding: 8px;display:block;width:100%;position:relative;line-height:normal;padding:0 4px}[_nghost-%COMP%]   .menu-aside-item-link[_ngcontent-%COMP%]{height:50px;width:100%;display:flex;padding:0 var(--padding);align-items:center;text-decoration:none;gap:8px;color:var(--text-color);border-radius:8px;font-size:14px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;transition:background .3s ease,color .3s ease}[_nghost-%COMP%]   .menu-aside-item-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:28px}[_nghost-%COMP%]   .menu-aside-item-link[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:28px;height:28px;object-fit:contain}[_nghost-%COMP%]   .menu-aside-item-link[_ngcontent-%COMP%]   .menu-arrow[_ngcontent-%COMP%]{margin-left:auto;font-size:14px;transition:transform .3s ease}[_nghost-%COMP%]   .menu-aside-item-link[_ngcontent-%COMP%]:hover{background:var(--primary-pastel)}[_nghost-%COMP%]   .menu-aside-item-link.active[_ngcontent-%COMP%], [_nghost-%COMP%]   .menu-aside-item-link.active[_ngcontent-%COMP%]:hover{background:var(--primary);color:var(--text-on-primary);font-weight:700}.is-submenu[_nghost-%COMP%]{--padding: 16px}.is-submenu[_nghost-%COMP%]   .label[_ngcontent-%COMP%]{font-size:16px}.is-submenu[_nghost-%COMP%]   .menu-aside-item-link[_ngcontent-%COMP%]{height:48px}[_nghost-%COMP%]:hover >   mnav{display:block}[_nghost-%COMP%] >   mnav{top:0}[_nghost-%COMP%] >   mnav.submenu-bottom{bottom:0;top:auto}.separator[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0;color:var(--primary);font-size:10px;font-weight:700;gap:4px;min-height:7px}.separator[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{flex-grow:1;border:none;border-top:1px solid var(--border-color);opacity:1;margin:0}.separator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:16px;display:inline}.class-tooltip[_ngcontent-%COMP%]{background:var(--primary);position:absolute;top:50%;right:-4px;transform:translate(100%,-50%);display:none;padding:8px 12px;border-radius:20px;color:var(--text-on-primary);font-size:12px;white-space:nowrap;line-height:normal}@media (min-width: 769px){.min-aside   .not-submenu[_nghost-%COMP%]:hover > .class-tooltip[_ngcontent-%COMP%]{display:block}.min-aside   .not-submenu[_nghost-%COMP%] > .menu-aside-item-link[_ngcontent-%COMP%]{gap:0}.min-aside   .not-submenu[_nghost-%COMP%] > .menu-aside-item-link[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{width:0!important;opacity:0;transition:width .3s ease,opacity .3s ease}.min-aside   .not-submenu[_nghost-%COMP%] > .menu-aside-item-link[_ngcontent-%COMP%] > .menu-arrow[_ngcontent-%COMP%]{position:absolute;right:3px;bottom:-2px;transform:rotate(45deg)}.min-aside   .not-submenu[_nghost-%COMP%] > .menu-aside-item-link[_ngcontent-%COMP%] > .icon-content[_ngcontent-%COMP%]{width:var(--side-compact-width);display:flex;align-items:center;justify-content:center}}"],changeDetection:0})};var b7=["*"],S7=(n,t)=>t.id;function y7(n,t){if(n&1&&p(0,"mnav-item",5),n&2){let e=t.$implicit,i=u(2);d("label",R(e.denomination))("iconImage",R(e.imgUrl))("link",Ga("",i.base,"/usuario/",e.code,"/",e.denomination.toLowerCase()))}}function M7(n,t){if(n&1&&(r(0,"mnav",1),p(1,"mnav-item",2)(2,"mnav-item",3)(3,"mnav-item",4)(4,"mnav-item",3),L(5,y7,1,8,"mnav-item",5,S7),p(7,"mnav-item",3)(8,"mnav-item",6)(9,"mnav-item",7)(10,"mnav-item",8)(11,"mnav-item",9)(12,"mnav-item",10),o()),n&2){let e=u();d("compact",(e.auth.userData.setting==null?null:e.auth.userData.setting.min)==1),l(),d("link",he("",e.base,"/bienvenido")),l(),d("separator",!0),l(),d("link",he("",e.base,"/users")),l(),d("separator",!0),l(),Y(e.userTypes()),l(2),d("separator",!0),l(),d("link",he("",e.base,"/asignaciones")),l(),d("separator",!0),l(),d("link",he("",e.base,"/historial/accesos")),l(),d("link",he("",e.base,"/historial/cambios")),l(),d("link",he("",e.base,"/tipos"))}}var r1=class n{auth=g(A);cs=g(ke);template=W(void 0);base=this.auth.projectPath();ceService=g(yi);subscriptions=[];ngOnInit(){return x(this,null,function*(){let t=this.ceService.navBarTemplate.subscribe(e=>{this.template.set(e),setTimeout(()=>{let i=document.querySelectorAll(".nav-hidden");e?i.forEach(a=>{a.setAttribute("style","width:83px")}):i.forEach(a=>{a.setAttribute("style","width: auto")})},50)});this.subscriptions.push(t),yield this.getCatalogs()})}userTypes=this.cs.getSignal("userTypes");getCatalogs(){return x(this,null,function*(){yield this.cs.getCatalogos({idinstitution:this.auth.userData.idinstitucion+"",userTypes:!0})})}ngOnDestroy(){this.subscriptions.forEach(t=>{t.unsubscribe()})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=z({type:n,selectors:[["app-home"]],ngContentSelectors:b7,decls:3,vars:1,consts:[[3,"extraNavTemplate"],[3,"compact"],["iconImage","/assets/img/icons/home.png","label","Bienvenido",3,"link"],[3,"separator"],["label","Usuarios","iconImage","https://cdn-icons-png.flaticon.com/512/3237/3237472.png",3,"link"],[3,"label","iconImage","link"],["label","Asignaciones","iconImage","https://cdn-icons-png.flaticon.com/512/10832/10832768.png",3,"link"],["label","Historial",3,"separator"],["label","H. de accesos","iconImage","https://cdn-icons-png.flaticon.com/512/2665/2665240.png",3,"link"],["label","H. de cambios","iconImage","https://cdn-icons-png.flaticon.com/512/4388/4388383.png",3,"link"],["label","Tipos de usuarios","iconImage","https://cdn-icons-png.flaticon.com/512/947/947496.png",3,"link"]],template:function(e,i){e&1&&(Ve(),r(0,"layout-main",0),Me(1,0,["aside",""],M7,13,17),o()),e&2&&d("extraNavTemplate",i.template())},dependencies:[Xt,Qn,a1,Ri,oi],styles:[".main-panel[_ngcontent-%COMP%]{height:calc(100vh - var(--h-navbar));overflow:auto;position:relative;flex-grow:1}"]})};var l1=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=z({type:n,selectors:[["app-page"]],decls:1,vars:0,template:function(e,i){e&1&&p(0,"router-outlet")},dependencies:[Kn],encapsulation:2})};var Fn=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=z({type:n,selectors:[["app-users-import-page"]],decls:0,vars:0,template:function(e,i){},encapsulation:2})};var z7=n=>({"has-danger":n});function w7(n,t){if(n&1){let e=S();r(0,"div",0)(1,"div",12),c(2),o(),r(3,"button",13),f("click",function(){h(e);let a=u();return v(a.close())}),o()()}if(n&2){let e=u();l(2),O(" ",e.title," ")}}function E7(n,t){if(n&1&&(r(0,"div",8)(1,"label",14),c(2,"Mensaje"),o(),r(3,"div",5),p(4,"textarea",15)(5,"app-control-messages",7),o()()),n&2){let e=u();l(5),d("control",e.messageControl)("show",e.submit)}}function T7(n,t){n&1&&p(0,"app-loading")}var c1=class n{constructor(t){this.activeModal=t}isModal=!0;middle="ws";params={};title="Enviar al WhatsApp";fieldLabel="N\xFAmero";idinstitucion="";version="v1";message="";code="user-account";send=!0;apiService=g(fe);auth=g(A);toastrService=g(ce);limit=9;submit=!1;loading=W(!1);form=new xe({destination:new F("",{validators:[N.required,N.maxLength(9),N.minLength(9)],nonNullable:!0}),message:new F("",{validators:[],nonNullable:!0})});ngOnInit(){this.idinstitucion===""&&(this.idinstitucion=this.auth.userData.idinstitucion+""),this.middle=="email"&&(this.title="Enviar al correo electr\xF3nico",this.fieldLabel="Correo electr\xF3nico",this.destinationControl.setValidators([N.required,N.email]),this.limit=100),this.form.patchValue({message:this.message})}ngAfterViewInit(){document.getElementById("destination")?.focus()}get destinationControl(){return this.form.get("destination")}get messageControl(){return this.form.get("message")}close(){this.activeModal.close()}save(){return x(this,null,function*(){if(this.submit=!0,!!this.form.valid)if(this.send)switch(this.middle){case"ws":this.sendWs();break;case"email":this.sendEmail();break;case"ws_bot":this.sendWsBot();break}else this.activeModal.close(this.destinationControl.value)})}sendWs(){return x(this,null,function*(){let t=this.message;t=t.replaceAll(`
`,"%0D%0A"),window.open(`https://api.whatsapp.com/send?phone=+51${this.destinationControl.value}&text=`+t)})}sendEmail(){return x(this,null,function*(){})}sendWsBot(){return x(this,null,function*(){let t={code:this.code,idinstitucion:this.idinstitucion,ws:{to:"51"+this.destinationControl.value,data:this.params}};this.loading.set(!0);let e=K.ws+"/ws/send/959133698";this.version=="v2"&&(e=K.ws+`/ws/v2/send/${this.code}`);let i=yield this.apiService.post(e,t);this.loading.set(!1),console.log(i),i.state=="success"&&this.toastrService.success(i.message||"Mensaje enviado correctamente")})}static \u0275fac=function(e){return new(e||n)(ee(ae))};static \u0275cmp=z({type:n,selectors:[["app-ui-btn-send-form"]],inputs:{isModal:"isModal",middle:"middle",params:"params",title:"title",fieldLabel:"fieldLabel",idinstitucion:"idinstitucion",version:"version",message:"message",code:"code",send:"send"},decls:16,vars:11,consts:[[1,"modal-header"],[1,"modal-body","px-0"],[1,"container-fluid",3,"submit","formGroup"],[1,"form-group","row",3,"ngClass"],["for","destination",1,"control-label","col-12","col-md-4"],[1,"col-12","col-md-8"],["type","text","name","destination","id","destination","formControlName","destination",1,"form-control",3,"maxlength"],[1,"left",3,"control","show"],[1,"form-group","row"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary","btn-lg-custom",3,"click"],["type","button",1,"btn","btn-primary","btn-lg-custom",3,"click"],[1,"modal-title"],["type","button",1,"btn","btn-close",3,"click"],["for","message",1,"control-label","col-12","col-md-4"],["name","message","id","message","rows","8","formControlName","message",1,"form-control"]],template:function(e,i){e&1&&(_(0,w7,4,1,"div",0),r(1,"div",1)(2,"form",2),f("submit",function(){return i.save()}),r(3,"div",3)(4,"label",4),c(5),o(),r(6,"div",5),p(7,"input",6)(8,"app-control-messages",7),o()(),_(9,E7,6,2,"div",8),o()(),r(10,"div",9)(11,"button",10),f("click",function(){return i.close()}),c(12,"Cancelar"),o(),r(13,"button",11),f("click",function(){return i.save()}),c(14,"Enviar"),o()(),_(15,T7,1,0,"app-loading")),e&2&&(C(i.isModal?0:-1),l(2),d("formGroup",i.form),l(),d("ngClass",y(9,z7,i.submit&&i.destinationControl.invalid||i.destinationControl.invalid&&i.destinationControl.touched)),l(2),b(i.fieldLabel),l(2),d("maxlength",i.limit),l(),d("control",i.destinationControl)("show",i.submit),l(),C(i.middle==="ws"?9:-1),l(6),C(i.loading()?15:-1))},dependencies:[Se,we,qe,de,ze,Jn,ye,Ee,Te,U,Pe,ie],encapsulation:2})};function P7(n,t){n&1&&(r(0,"button",1),c(1,"Enviar por correo"),o())}function V7(n,t){if(n&1){let e=S();r(0,"div",0)(1,"button",2),p(2,"img",3),o(),r(3,"div",4)(4,"button",5),f("click",function(){h(e);let a=u(2);return v(a.sendDocument("ws_bot"))}),c(5,"Enviar por WhatsApp"),o(),r(6,"button",5),f("click",function(){h(e);let a=u(2);return v(a.sendDocument("ws"))}),c(7,"Enviar por WhatsApp Web"),o()()()}}function k7(n,t){if(n&1&&_(0,P7,2,0,"button",1)(1,V7,8,0,"div",0),n&2){let e=u();C(e.middle=="email"?0:1)}}function D7(n,t){if(n&1){let e=S();r(0,"div",0)(1,"button",2),c(2," Enviar "),o(),r(3,"div",4)(4,"button",5),f("click",function(){h(e);let a=u();return v(a.sendDocument("ws_bot"))}),c(5,"Enviar por Correo"),o(),p(6,"div",6),r(7,"button",5),f("click",function(){h(e);let a=u();return v(a.sendDocument("ws_bot"))}),c(8,"Enviar por WhatsApp"),o(),r(9,"button",5),f("click",function(){h(e);let a=u();return v(a.sendDocument("ws"))}),c(10,"Enviar por WhatsApp Web"),o()()()}}var s1=class n{mode="simple";middle="ws";code="user-account";idinstitucion="";version="v1";params={};message="";modalService=g(Ie);sendDocument(t){return x(this,null,function*(){console.log(`Sending document to ${t}`);let e=this.modalService.open(c1,{size:"lg",backdrop:"static"}),i=e.componentInstance;i.middle=t,i.code=this.code,i.version=this.version,i.idinstitucion=this.idinstitucion,i.params=this.params,i.message=this.message;try{let a=yield e.result;console.log(`Result: ${a}`)}catch{}})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=z({type:n,selectors:[["app-ui-btn-send"]],inputs:{mode:"mode",middle:"middle",code:"code",idinstitucion:"idinstitucion",version:"version",params:"params",message:"message"},decls:2,vars:1,consts:[["ngbDropdown",""],["type","button","app-button","","size","sm","ngbDropdownToggle",""],["type","button","app-button","","size","sm","color","success","variant","outline","ngbDropdownToggle","",2,"margin-left","8px","border-radius","10px"],["src","assets/img/icons/wh.png","alt","",2,"width","26px"],["ngbDropdownMenu","","aria-labelledby","ws222"],["ngbDropdownItem","",3,"click"],[1,"dropdown-divider"]],template:function(e,i){e&1&&_(0,k7,2,1)(1,D7,11,0,"div",0),e&2&&C(i.mode=="simple"?0:1)},dependencies:[Je,oo,no,io,eo,to,zt,Zt],encapsulation:2})};var I7=n=>({grid:n}),O7=(n,t)=>({_active:n,selected:t});function F7(n,t){if(n&1){let e=S();r(0,"button",17),f("click",function(){h(e);let a=u().$implicit,s=u(2).$implicit,m=u();return v(m.eventRol("remove",a,s))}),p(1,"i",18),o()}}function H7(n,t){}function A7(n,t){if(n&1){let e=S();r(0,"div",14),f("click",function(){let a=h(e).$implicit,s=u(2).$implicit,m=u();return v(m.selectRol(a,s.codigo))}),r(1,"div",15),c(2,"-"),o(),r(3,"div",9),c(4),o(),r(5,"div"),_(6,F7,2,0,"button",16)(7,H7,0,0),o()()}if(n&2){let e=t.$implicit,i=u(3);d("ngClass",be(3,O7,e.active,e.idrol===(i.rolSelected==null?null:i.rolSelected.idrol))),l(4),O(" ",e.denominacion_rol," "),l(2),C(e.active?6:7)}}function U7(n,t){if(n&1&&L(0,A7,8,6,"div",13,J),n&2){let e=u().$implicit;Y(e.rols)}}function L7(n,t){if(n&1&&(r(0,"div",2)(1,"div",4)(2,"button",5)(3,"div",6)(4,"div")(5,"div",7),p(6,"img",8),o()(),r(7,"div",9)(8,"div",10),c(9),o()()()()(),r(10,"div",11)(11,"div",12),E(12,U7,2,0,"ng-template"),o()()()),n&2){let e=t.$implicit;l(6),d("src",R(e.icono),_e),l(3),b(e.denominacion)}}function Y7(n,t){if(n&1){let e=S();r(0,"app-ui-user-rol-form",22),f("eventChange",function(a){h(e);let s=u(4);return v(s.eventForm(a))}),o()}if(n&2){let e=u(4);d("institution_id",e.idinstitution)("isModal",!1)("userRol",e.userRol)}}function R7(n,t){if(n&1){let e=S();r(0,"app-ui-user-rol-form",23),f("eventChange",function(a){h(e);let s=u(4);return v(s.eventForm(a))}),o()}if(n&2){let e=u(4);d("rol_id",R(e.rolSelected.idrol))("institution_id",e.idinstitution)("system",e.sistema)("isModal",!1)("user_id",e.usuario_idusuario)}}function N7(n,t){if(n&1&&_(0,Y7,1,3,"app-ui-user-rol-form",20)(1,R7,1,6,"app-ui-user-rol-form",21),n&2){let e=u(3);C(e.userRol?0:1)}}function B7(n,t){if(n&1){let e=S();r(0,"app-ui-user-rol-form",26),f("eventChange",function(a){h(e);let s=u(4);return v(s.eventForm(a))}),o()}if(n&2){let e=u(4);d("institution_id",e.idinstitution)("isSave",!1)("isModal",!1)("userRol",e.userRol)}}function j7(n,t){if(n&1){let e=S();r(0,"app-ui-user-rol-form",27),f("eventChange",function(a){h(e);let s=u(4);return v(s.eventForm(a))}),o()}if(n&2){let e=u(4);d("rol_id",R(e.rolSelected.idrol))("institution_id",e.idinstitution)("system",e.sistema)("isSave",!1)("isModal",!1)}}function $7(n,t){if(n&1&&_(0,B7,1,4,"app-ui-user-rol-form",24)(1,j7,1,6,"app-ui-user-rol-form",25),n&2){let e=u(3);C(e.userRol?0:1)}}function q7(n,t){if(n&1&&_(0,N7,2,1)(1,$7,2,1),n&2){let e=u(2);C(e.usuario_idusuario!=""?0:1)}}function W7(n,t){if(n&1&&(r(0,"div",19),c(1," Configuraci\xF3n de "),r(2,"b"),c(3),o(),c(4,"/"),r(5,"b"),c(6),o()(),_(7,q7,2,1)),n&2){let e=u();l(3),b(e.sistema),l(3),b(e.rolSelected.denominacion_rol),l(),C(e.showForm?7:-1)}}function G7(n,t){n&1&&(r(0,"div",3),c(1,"Seleccione el rol"),o())}function K7(n,t){n&1&&p(0,"app-loading")}var Mi=class n{idinstitution="";uid="";addClass="";multiple=!1;selected=[];showRolDetail=!1;event=new H;usuario_idusuario="";selectedAdd=[];cs=g(ke);userRolService=g(Pt);authService=g(A);confirmationService=g(X);applications=this.cs.getSignal("applications");loading=!0;ngOnInit(){return x(this,null,function*(){this.loading=!0,this.idinstitution===""&&(this.idinstitution=this.authService.institucionData?.idinstitucion+""),yield this.cs.getCatalogos({idinstitution:this.idinstitution,applications:!0}),this.applications().forEach(t=>{t.rols?.forEach(e=>{e.active=!1,e.userRol=void 0;let i=this.selected.find(s=>s.rol_id===e.idrol&&t.codigo===s.system);i&&(e.active=!0,e.userRol=i);let a=this.selectedAdd.find(s=>s.rol_id===e.idrol&&t.codigo===s.system);a&&(e.active=!0,e.userRol=a)})}),this.loading=!1})}userRol;rolSelected;privilegios="";subprivilegios="";sistema="";selectRol(t,e){this.userRol=void 0,this.rolSelected=t,this.sistema=e,this.privilegios="",this.subprivilegios="",this.showForm=!1,t.userRol?setTimeout(()=>{this.userRol=t.userRol,this.privilegios=t.userRol?.privileges,this.subprivilegios=t.userRol?.subPrivileges,this.showForm=!0}):setTimeout(()=>{this.showForm=!0})}change(t){console.log("rol"),console.log(t),this.multiple||this.applications().forEach(e=>{e.rols?.forEach(i=>{i.idrol!==t.idrol?i.active=!1:this.event.emit({rol:i,application:e})})})}showForm=!1;eventRol(t,e,i){return x(this,null,function*(){if(this.usuario_idusuario!="")switch(t){case"add":break;case"remove":{if(!(yield this.confirmationService.create("Confirmar","\xBFEst\xE1 seguro de eliminar el rol del usuario?"))||!e.userRol)return;(yield this.userRolService.delete({id:e.userRol.id})).state=="success"&&(e.active=!1,e.userRol=void 0,this.userRol=void 0,this.rolSelected=void 0)}break}else switch(t){case"add":break;case"remove":{if(!(yield this.confirmationService.create("Confirmar","\xBFEst\xE1 seguro de eliminar el rol del usuario?")))return;e.active=!1,e.userRol=void 0,this.userRol=void 0,this.emitirSeleccionados()}break}})}emitirSeleccionados(){this.selectedAdd=[],this.applications().forEach(t=>{t.rols?.forEach(e=>{if(e.active){let i=e.userRol;this.selectedAdd.push({user_id:0,rol:i?.rol,privileges:i?.privileges,subPrivileges:i?.subPrivileges,typeUser:i?.typeUser,state:i?.state,rol_id:i?.rol_id,system:i?.system,field1:i?.field1,field2:i?.field2,field3:i?.field3,field4:i?.field4,field5:i?.field5})}})}),this.event.emit({event:"add_list",rols:this.selectedAdd})}eventForm(t){switch(t.event){case"update":this.rolSelected&&Object.assign(this.rolSelected.userRol,t.data);break;case"add":{if(!this.rolSelected)return;this.rolSelected.active=!0,this.rolSelected.userRol=t.data,this.userRol=t.data}break}this.usuario_idusuario==""&&this.emitirSeleccionados()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=z({type:n,selectors:[["app-ui-rol-panel-select"]],inputs:{idinstitution:"idinstitution",uid:"uid",addClass:"addClass",multiple:"multiple",selected:"selected",showRolDetail:"showRolDetail",usuario_idusuario:"usuario_idusuario",selectedAdd:"selectedAdd"},outputs:{event:"event"},decls:9,vars:8,consts:[[1,"grid",3,"ngClass"],["ngbAccordion",""],["ngbAccordionItem",""],[1,"text-center"],["ngbAccordionHeader","",1,"_list"],["type","button","ngbAccordionButton",""],[1,"items","p-0"],[1,"_img"],["alt","",3,"src"],[1,"flex-grow-1"],[1,"title","text-truncate"],["ngbAccordionCollapse",""],["ngbAccordionBody",""],[1,"d-flex","align-items-center","_box",3,"ngClass"],[1,"d-flex","align-items-center","_box",3,"click","ngClass"],[1,"px-2"],["type","button",1,"btn","btn-outline-danger","btn-sm-custom"],["type","button",1,"btn","btn-outline-danger","btn-sm-custom",3,"click"],[1,"icon","ion-md-close"],[1,"title","px-1","b-b","mb-1"],["accion","update",3,"institution_id","isModal","userRol"],["accion","add",3,"institution_id","rol_id","system","isModal","user_id"],["accion","update",3,"eventChange","institution_id","isModal","userRol"],["accion","add",3,"eventChange","institution_id","rol_id","system","isModal","user_id"],["accion","update",3,"institution_id","isSave","isModal","userRol"],["accion","add",3,"institution_id","rol_id","system","isSave","isModal"],["accion","update",3,"eventChange","institution_id","isSave","isModal","userRol"],["accion","add",3,"eventChange","institution_id","rol_id","system","isSave","isModal"]],template:function(e,i){e&1&&(r(0,"div",0)(1,"div")(2,"div",1),L(3,L7,13,3,"div",2,J),o()(),r(5,"div"),_(6,W7,8,3)(7,G7,2,0,"div",3),o()(),_(8,K7,1,0,"app-loading")),e&2&&(d("ngClass",y(6,I7,i.multiple)),l(),Ce(he("b-r _panel ",i.addClass," p-1")),l(2),Y(i.applications()),l(3),C(i.rolSelected?6:7),l(2),C(i.loading?8:-1))},dependencies:[ie,U,dn,hr,dr,ur,pr,mr,cr,sr],styles:[".grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:280px 1fr}._list[_ngcontent-%COMP%]{padding:0}._list[_ngcontent-%COMP%]   ._img[_ngcontent-%COMP%]{width:30px;height:30px}._list[_ngcontent-%COMP%]   ._img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:30px;max-height:30px}._list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border:1px solid var(--border-color);border-radius:5px}.accordion[_ngcontent-%COMP%]{--bs-accordion-active-bg: var(--primary-pastel);--bs-accordion-active-color: var(--primary);--bs-accordion-btn-focus-box-shadow: none;--bs-accordion-bg: transparent}.accordion-item[_ngcontent-%COMP%]{--bs-accordion-body-padding-x: .25rem;--bs-accordion-body-padding-y: .25rem;--bs-accordion-btn-padding-x: .75rem;--bs-accordion-btn-padding-y: .4rem}.accordion-body[_ngcontent-%COMP%]{--bs-accordion-btn-padding-y: .1rem;--bs-accordion-btn-padding-x: .1rem}.accordion-button[_ngcontent-%COMP%]{--bs-accordion-btn-padding-y: .1rem;--bs-accordion-btn-padding-x: .1rem;border:1px solid transparent}.accordion-button[_ngcontent-%COMP%]:focus{border:1px solid var(--primary)}.accordion-button[_ngcontent-%COMP%]:not(.collapsed){border:1px solid var(--primary)}._panel[_ngcontent-%COMP%]{min-height:calc(100vh - 130px)}._panel.p-500[_ngcontent-%COMP%]{min-height:500px}.title[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{color:var(--text-primary)}._box[_ngcontent-%COMP%]{border:1px solid var(--border-color);border-radius:.5rem;cursor:pointer}._box._active[_ngcontent-%COMP%]{border:1px solid var(--primary);color:var(--text-primary)}._box.selected[_ngcontent-%COMP%]{font-weight:700;color:var(--text-primary)}._box[_ngcontent-%COMP%] + ._box[_ngcontent-%COMP%]{margin-top:.25rem}"]})};var b0=n=>({active:n});function X7(n,t){if(n&1&&(r(0,"div",5),p(1,"app-ui-rol-panel-select",6),o()),n&2){let e=u(2);d("hidden",e.tab!="panel"),l(),d("usuario_idusuario",e.usuario_idusuario)("selected",e.roles)("showRolDetail",!0)("multiple",!0)("idinstitution",e.idinstitution)}}function Q7(n,t){if(n&1&&(r(0,"div",5),p(1,"app-ui-user-rol-list",7),o()),n&2){let e=u(2);d("hidden",e.tab!="list"),l(),d("user_id",e.usuario_idusuario)("userRols",e.roles)("institucion_id",e.idinstitution)}}function Z7(n,t){if(n&1){let e=S();r(0,"ul",0)(1,"li",1)(2,"a",2),f("click",function(){h(e);let a=u();return v(a.sTab("panel"))}),p(3,"i",3),c(4," Panel "),o()(),r(5,"li",1)(6,"a",2),f("click",function(){h(e);let a=u();return v(a.sTab("list"))}),p(7,"i",4),c(8," Lista "),o()()(),_(9,X7,2,6,"div",5),_(10,Q7,2,4,"div",5)}if(n&2){let e=u();l(2),d("ngClass",y(4,b0,e.tab=="panel")),l(4),d("ngClass",y(6,b0,e.tab=="list")),l(3),C(e.tabs.panel?9:-1),l(),C(e.tabs.list?10:-1)}}var d1=class n{idinstitution="";usuario_idusuario="";estado_rol="";tab="panel";userRolService=g(Pt);filter={texto:"",state:""};loading=!1;ngOnInit(){return x(this,null,function*(){this.filter.state=this.estado_rol,this.filter.user_id=this.usuario_idusuario,this.list(),this.sTab(this.tab)})}roles=[];list(){return x(this,null,function*(){this.loading=!0;let t=yield this.userRolService.list(this.filter);this.loading=!1,t&&t.state=="success"&&(this.roles=t.data??[])})}tabs={};sTab(t){this.tab=t,this.tabs[t]||(this.tabs[t]=!0)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=z({type:n,selectors:[["app-ui-user-rol-panel"]],inputs:{idinstitution:"idinstitution",usuario_idusuario:"usuario_idusuario",estado_rol:"estado_rol"},decls:1,vars:1,consts:[[1,"nav","nav-tabs","justify-content-start","_nav_primary"],[1,"nav-item"],["href","javascript:void(0);",1,"nav-link",3,"click","ngClass"],[1,"icon","ion-md-book"],[1,"icon","ion-md-list"],[3,"hidden"],[3,"usuario_idusuario","selected","showRolDetail","multiple","idinstitution"],[3,"user_id","userRols","institucion_id"]],template:function(e,i){e&1&&_(0,Z7,11,8),e&2&&C(i.loading?-1:0)},dependencies:[Mi,U,Li],encapsulation:2})};var mn=class n{API=`${K.account2}/person-detail`;apiService=g(fe);loadingService=g(Oe);confirmationService=g(X);auth=g(A);toastrService=g(ce);canAdd=!1;canEdit=!1;canRemove=!1;canChangeState=!1;canExport=!1;canExportExcel=!1;canExportPdf=!1;constructor(){this.canAdd=this.auth.hasSubPermission("person-detail-ADD"),this.canEdit=this.auth.hasSubPermission("person-detail-EDIT"),this.canRemove=this.auth.hasSubPermission("person-detail-REMOVE"),this.canChangeState=this.auth.hasSubPermission("person-detail-CHANGE-STATE"),this.canExport=this.auth.hasPermission("person-detail-EXPORT"),this.canExportExcel=this.auth.hasSubPermission("person-detail-EXPORT-EXCEL"),this.canExportPdf=this.auth.hasSubPermission("person-detail-EXPORT-PDF")}list(t){return x(this,null,function*(){return yield this.apiService.getPrivate(`${this.API}/list`,t)})}add(t){return x(this,null,function*(){let e=yield this.apiService.postPrivate(`${this.API}/create`,t);return e.state=="success"&&e.data&&this.toastrService.success(e.message),e})}data(t){return x(this,null,function*(){return yield this.apiService.getPrivate(`${this.API}/data/${t.id}`,t)})}update(t){return x(this,null,function*(){let e=yield this.apiService.putPrivate(`${this.API}/update/${t.id}`,t);return e.state=="success"&&this.toastrService.success(e.message),e})}patch(t){return x(this,null,function*(){let e=yield this.apiService.putPrivate(`${this.API}/update/${t.id}`,t);return e.state=="success"&&this.toastrService.success(e.message),e})}delete(t){return x(this,null,function*(){let e=yield this.apiService.deletePrivate(`${this.API}/delete/${t.id}`,t);return e.state=="success"&&this.toastrService.success(e.message),e})}export(t,e,i=!0){return x(this,null,function*(){if(i&&!(yield this.confirmationService.create("Confirmar","\xBFEst\xE1 seguro de exportar los datos?")))return;this.loadingService.open();let a=ve(re({},t),{type_export:e,url:K.storage_view}),s=yield this.apiService.getPrivate(`${this.API}/export`,a);return this.loadingService.hide(),s&&s.state=="success"&&window.open(s.url),s})}static \u0275fac=function(e){return new(e||n)};static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})};var J7=n=>({"modal-body":n}),em=n=>({"has-danger":n});function tm(n,t){if(n&1){let e=S();r(0,"div",0)(1,"h4",9),c(2,"DATOS DEL DETALLE"),o(),r(3,"button",10),f("click",function(){h(e);let a=u();return v(a.close())}),o()()}}function im(n,t){if(n&1){let e=S();r(0,"div",8)(1,"button",11),f("click",function(){h(e);let a=u();return v(a.close())}),c(2,"Cancelar"),o(),r(3,"button",12),f("click",function(){h(e);let a=u();return v(a.save())}),c(4,"Guardar"),o()()}}function nm(n,t){n&1&&p(0,"app-loading")}var m1=class n{constructor(t){this.modalActive=t}accion="add";personDetail;isModal=!0;idinstitucion="";uid="";microgrid_id="";establishment_id="";area_id="";malla_curricular_id="";showOption=!0;onSave=new He(!1);eventChange=new H;personDetailService=g(mn);authService=g(A);subscriptions=[];ngOnInit(){return x(this,null,function*(){this.idinstitucion===""&&(this.idinstitucion=this.authService.institucionData?.idinstitucion+""),this.uid===""&&(this.uid=this.authService.userData.id+"");let t=this.onSave.subscribe(e=>{e&&this.save()});if(this.subscriptions.push(t),this.accion=="update"){if(!this.personDetail)return;this.form.patchValue({uidOld:this.personDetail.uidOld})}else this.accion=="add"&&this.form.patchValue({})})}ngAfterViewInit(){setTimeout(()=>{document.getElementById("concytecUrl")?.focus()},150)}form=new xe({uidOld:new F("",{validators:[],nonNullable:!0})});get uidOldControl(){return this.form.get("uidOld")}close(){this.isModal?this.modalActive.dismiss():this.eventChange.emit({event:"close",data:void 0})}submit=!1;loading=!1;save(){return x(this,null,function*(){if(this.submit=!0,!this.form.valid)return;this.submit=!1;let t=this.form.value;if(this.accion!="add"){if(this.accion=="update"){let e={uidOld:t.uidOld,id:+this.personDetail?.id,idinstitucion:+this.idinstitucion};this.loading=!0;let i=yield this.personDetailService.patch(e);this.loading=!1,i.state=="success"&&(this.isModal?this.modalActive.close(e):this.eventChange.emit({event:"update",data:e}))}}})}ngOnDestroy(){this.subscriptions.forEach(t=>{t.unsubscribe()})}static \u0275fac=function(e){return new(e||n)(ee(ae,8))};static \u0275cmp=z({type:n,selectors:[["app-ui-person-detail-form"]],inputs:{accion:"accion",personDetail:"personDetail",isModal:"isModal",idinstitucion:"idinstitucion",uid:"uid",microgrid_id:"microgrid_id",establishment_id:"establishment_id",area_id:"area_id",malla_curricular_id:"malla_curricular_id",showOption:"showOption",onSave:"onSave"},outputs:{eventChange:"eventChange"},decls:11,vars:12,consts:[[1,"modal-header"],[1,"",3,"ngClass"],[1,"container",3,"submit","formGroup"],[1,"form-group","row",3,"ngClass"],["for","uidOldPe",1,"control-label","col-12","col-md-4"],[1,"col-12","col-md-8"],["type","text","name","uidOldPe","id","uidOldPe","formControlName","uidOld",1,"form-control"],[1,"left",3,"control","show"],[1,"modal-footer"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["type","button",1,"btn","btn-outline-secondary","btn-lg-medio","mr-1",3,"click"],["type","button",1,"btn","btn-primary","btn-lg-medio",3,"click"]],template:function(e,i){e&1&&(_(0,tm,4,0,"div",0),r(1,"div",1)(2,"form",2),f("submit",function(){return i.save()}),r(3,"div",3)(4,"label",4),c(5,"Uid OLD: "),o(),r(6,"div",5),p(7,"input",6)(8,"app-control-messages",7),o()()()(),_(9,im,5,0,"div",8),_(10,nm,1,0,"app-loading")),e&2&&(C(i.isModal?0:-1),l(),d("ngClass",y(8,J7,i.isModal)),l(),d("formGroup",i.form),l(),d("ngClass",y(10,em,i.uidOldControl.invalid&&(i.uidOldControl.touched||i.submit))),l(5),d("control",i.uidOldControl)("show",i.submit),l(),C(i.showOption?9:-1),l(),C(i.loading?10:-1))},dependencies:[ye,we,qe,de,ze,Ee,Te,Pe,U,ie],encapsulation:2})};var ha=n=>({"has-danger":n}),va=(n,t)=>t.id;function om(n,t){if(n&1&&(r(0,"option",9),c(1),o()),n&2){let e=t.$implicit;d("value",R(e.id)),l(),O(" ",e.denomination," ")}}function am(n,t){if(n&1&&(r(0,"option",9),c(1),o()),n&2){let e=t.$implicit;d("value",R(e.id)),l(),Be("",e.id," - ",e.denomination)}}function rm(n,t){if(n&1&&(r(0,"option",9),c(1),o()),n&2){let e=t.$implicit;d("value",R(e.id)),l(),Be("",e.id," - ",e.denomination)}}var p1=class n{idinstitucion="";user={};cs=g(ke);authService=g(A);personDetailService=g(mn);confirmationService=g(X);form=new xe({idestablecimiento:new F("",{validators:[],nonNullable:!0}),idarea:new F("",{validators:[],nonNullable:!0}),idmicrored:new F("",{validators:[],nonNullable:!0})});areas_all=this.cs.getSignal("areasAll");areas=[];microredes=this.cs.getSignal("microgridsAll");establecimientos=[];establecimientos_all=this.cs.getSignal("establishmentsAll");ngOnInit(){return x(this,null,function*(){this.idinstitucion==""&&(this.idinstitucion=this.authService.userData.idinstitucion+""),yield this.cs.getCatalogos({areasAll:!0,microgridsAll:!0,establishmentsAll:!0,idinstitution:this.idinstitucion});let t=this.user.personDetail?.microgrid_id+"",e=this.user.personDetail?.establishment_id+"",i=this.user.personDetail?.area_id+"";this.form.patchValue({idarea:i+"",idestablecimiento:e+"",idmicrored:t+""}),this.changeMicrored(),this.changeEstablecimiento()})}get idestablecimientoControl(){return this.form.get("idestablecimiento")}get idareaControl(){return this.form.get("idarea")}get idmicroredControl(){return this.form.get("idmicrored")}changeMicrored(){let t=this.idmicroredControl.value;t!=""?this.establecimientos=this.establecimientos_all().filter(e=>e.microgrid_id==t):this.establecimientos=this.establecimientos_all(),this.areas=[]}changeEstablecimiento(){let t=this.idestablecimientoControl.value;t!=""?this.areas=this.areas_all().filter(e=>e.establishment_id==t):this.areas=this.areas_all()}submit=!1;loading=!1;save(){return x(this,null,function*(){if(this.submit=!0,!this.form.valid||(this.submit=!1,!(yield this.confirmationService.create("Confirmar","\xBFEst\xE1 seguro de cambiar la ubicaci\xF3n del usuario?"))))return;this.loading=!0;let e=yield this.personDetailService.patch({microgrid_id:this.idmicroredControl.value,establishment_id:this.idestablecimientoControl.value,area_id:this.idareaControl.value,id:this.user.personDetail?.id,idinstitucion:+this.idinstitucion});this.loading=!1,e.state=="success"&&this.user.personDetail&&(this.user.personDetail.area_id=this.idareaControl.value,this.user.personDetail.establishment_id=this.idestablecimientoControl.value,this.user.personDetail.microgrid_id=this.idmicroredControl.value)})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=z({type:n,selectors:[["app-ui-user-ubication"]],inputs:{idinstitucion:"idinstitucion",user:"user"},decls:41,vars:16,consts:[[1,"box-main","m-2"],[1,"container",3,"submit","formGroup"],[1,"row"],[1,"col-12"],[1,"form-group","row",3,"ngClass"],["for","sucursal",1,"control-label","col-12","col-md-4"],[1,"col-12","col-md-8"],["name","sucursal","id","sucursal","formControlName","idmicrored",1,"form-select",3,"change"],["value",""],[3,"value"],[1,"left",3,"control","show"],["for","almacen",1,"control-label","col-12","col-md-4"],["name","almacen","id","almacen","formControlName","idestablecimiento",1,"form-select",3,"change"],["for","documento",1,"control-label","col-12","col-md-4"],[1,"ml-2"],["name","documento","id","documento","formControlName","idarea",1,"form-select"],[1,"col-12","py-2","text-center"],["type","button",1,"btn","btn-primary","btn-lg-custom",3,"click"]],template:function(e,i){e&1&&(r(0,"div",0)(1,"form",1),f("submit",function(){return i.save()}),r(2,"div",2)(3,"div",3)(4,"div",4)(5,"label",5),c(6,"Local a cargo "),o(),r(7,"div",6)(8,"select",7),f("change",function(){return i.changeMicrored()}),r(9,"option",8),c(10,"Todos"),o(),L(11,om,2,3,"option",9,va),o(),p(13,"app-control-messages",10),o()()(),r(14,"div",3)(15,"div",4)(16,"label",11),c(17,"Establecimiento a cargo "),o(),r(18,"div",6)(19,"select",12),f("change",function(){return i.changeEstablecimiento()}),r(20,"option",8),c(21,"Todos"),o(),L(22,am,2,4,"option",9,va),o(),p(24,"app-control-messages",10),o()()(),r(25,"div",3)(26,"div",4)(27,"label",13),c(28,"Area a cargo "),r(29,"small",14),c(30,"(por defecto)"),o()(),r(31,"div",6)(32,"select",15)(33,"option",8),c(34,"Todos"),o(),L(35,rm,2,4,"option",9,va),o(),p(37,"app-control-messages",10),o()()(),r(38,"div",16)(39,"button",17),f("click",function(){return i.save()}),c(40,"Guardar"),o()()()()()),e&2&&(l(),d("formGroup",i.form),l(3),d("ngClass",y(10,ha,i.submit&&i.idmicroredControl.invalid||i.idmicroredControl.invalid&&i.idmicroredControl.touched)),l(7),Y(i.microredes()),l(2),d("control",i.idmicroredControl)("show",i.submit),l(2),d("ngClass",y(12,ha,i.submit&&i.idestablecimientoControl.invalid||i.idestablecimientoControl.invalid&&i.idestablecimientoControl.touched)),l(7),Y(i.establecimientos),l(2),d("control",i.idestablecimientoControl)("show",i.submit),l(2),d("ngClass",y(14,ha,i.submit&&i.idareaControl.invalid||i.idareaControl.invalid&&i.idareaControl.touched)),l(9),Y(i.areas),l(2),d("control",i.idareaControl)("show",i.submit))},dependencies:[ye,we,Ge,Ke,We,de,ze,Ee,Te,Pe,U],encapsulation:2})};var di=n=>({active:n});function lm(n,t){if(n&1){let e=S();r(0,"div",0)(1,"h4",10),c(2),o(),r(3,"button",11),f("click",function(){h(e);let a=u();return v(a.close())}),o()()}if(n&2){let e=u();l(2),Be("DATOS DEL USUARIO: ",e.user.name," ",e.user.surname)}}function cm(n,t){if(n&1){let e=S();r(0,"li",2)(1,"a",3),f("click",function(){h(e);let a=u();return v(a.sview("roles"))}),p(2,"i",12),c(3," Roles "),o()(),r(4,"li",2)(5,"a",3),f("click",function(){h(e);let a=u();return v(a.sview("accesos"))}),p(6,"i",13),c(7," Log de acceso "),o()(),r(8,"li",2)(9,"a",3),f("click",function(){h(e);let a=u();return v(a.sview("cambios"))}),p(10,"i",13),c(11," Log cambios "),o()()}if(n&2){let e=u();l(),d("ngClass",y(3,di,e.view=="roles")),l(4),d("ngClass",y(5,di,e.view=="accesos")),l(4),d("ngClass",y(7,di,e.view=="cambios"))}}function sm(n,t){if(n&1&&(r(0,"div",24),p(1,"app-ui-btn-send",25),o()),n&2){let e=u(3);l(),d("params",e.paramsSend)}}function dm(n,t){n&1&&(r(0,"th"),c(1,"-"),o())}function mm(n,t){n&1&&p(0,"th")}function pm(n,t){if(n&1){let e=S();r(0,"div",28),c(1),r(2,"button",30),f("click",function(){h(e);let a=u(5);return v(a.updatePersonDetail())}),p(3,"i",31),o()()}if(n&2){let e=u(5);l(),Be(" ",e.user.personDetail.uidOld," (",e.user.personDetail.uidOrigin,") ")}}function um(n,t){if(n&1){let e=S();r(0,"button",30),f("click",function(){h(e);let a=u(5);return v(a.updatePersonDetail())}),c(1,"Asignar"),o()}}function hm(n,t){if(n&1&&(r(0,"tr")(1,"td",20)(2,"b"),c(3,"Usuario anterior: "),o()(),r(4,"td"),_(5,pm,4,2,"div",28)(6,um,2,0,"button",29),o()()),n&2){let e=u(4);l(5),C(e.user.personDetail.uidOld!=""?5:6)}}function vm(n,t){if(n&1&&(r(0,"tbody")(1,"tr")(2,"td",20)(3,"b"),c(4,"Usuario acceso"),o()(),r(5,"td"),c(6),o()(),r(7,"tr")(8,"td",20)(9,"b"),c(10,"Tipo usuario"),o()(),r(11,"td"),p(12,"app-ui-user-type-card",26),o()(),r(13,"tr")(14,"td",20)(15,"b"),c(16,"Estado"),o()(),r(17,"td"),p(18,"app-text-state",27),o()(),_(19,hm,7,1,"tr"),o()),n&2){let e=u(3);l(6),b(e.user.user.username),l(6),d("type",R(e.user.user.typeUser))("idinstitution",e.idinstitution),l(6),d("EStateCustom",e.stateMap)("state",e.user.user.state),l(),C(e.user.personDetail?19:-1)}}function gm(n,t){if(n&1&&(_(0,sm,2,1,"div",24),r(1,"table",18)(2,"thead")(3,"tr"),p(4,"th",19),_(5,dm,2,0,"th")(6,mm,1,0,"th"),o()(),_(7,vm,20,7,"tbody"),o()),n&2){let e=u(2);C(e.user.user?0:-1),l(5),C(e.user.user?5:6),l(2),C(e.user.user?7:-1)}}function fm(n,t){if(n&1&&(r(0,"table",18)(1,"thead")(2,"tr"),p(3,"th",19)(4,"th"),o()(),r(5,"tbody")(6,"tr")(7,"td",20)(8,"b"),c(9,"Pais"),o()(),r(10,"td"),c(11),o()(),r(12,"tr")(13,"td",20)(14,"b"),c(15,"Departamento"),o()(),r(16,"td"),c(17),o()(),r(18,"tr")(19,"td",20)(20,"b"),c(21,"Provincia"),o()(),r(22,"td"),c(23),o()(),r(24,"tr")(25,"td",20)(26,"b"),c(27,"Distrito"),o()(),r(28,"td"),c(29),o()()()()),n&2){let e=u(3);l(11),b(e.user.personLocation.contry),l(6),b(e.user.personLocation.departament),l(6),b(e.user.personLocation.province),l(6),b(e.user.personLocation.district)}}function _m(n,t){n&1&&(r(0,"div",24)(1,"button",32),p(2,"i",33),c(3," Agregar ubicaci\xF3n "),o()())}function Cm(n,t){if(n&1&&(r(0,"div"),_(1,fm,30,4,"table",18)(2,_m,4,0,"div",24),o()),n&2){let e=u(2);l(),C(e.user.personLocation?1:2)}}function xm(n,t){if(n&1&&(r(0,"table",18)(1,"thead")(2,"tr"),p(3,"th",19)(4,"th"),o()(),r(5,"tbody")(6,"tr")(7,"td",20)(8,"b"),c(9,"Grado academico"),o()(),r(10,"td"),c(11),o()()()()),n&2){let e=u(3);l(11),b(e.user.personDetail.academicDegreeName)}}function bm(n,t){if(n&1&&(r(0,"div"),_(1,xm,12,1,"table",18),o()),n&2){let e=u(2);l(),C(e.user.personDetail?1:-1)}}function Sm(n,t){if(n&1&&(r(0,"a",34),c(1,"Ver"),o()),n&2){let e=u(4);d("href",R(e.user.personDetail.concytecUrl),_e)}}function ym(n,t){n&1&&(r(0,"a",35),c(1,"No disponible"),o())}function Mm(n,t){if(n&1&&(r(0,"a",34),c(1,"Ver"),o()),n&2){let e=u(4);d("href",R(e.user.personDetail.orcidUrl),_e)}}function zm(n,t){n&1&&(r(0,"a",35),c(1,"No disponible"),o())}function wm(n,t){if(n&1&&(r(0,"table",18)(1,"thead")(2,"tr"),p(3,"th",19)(4,"th"),o()(),r(5,"tbody")(6,"tr")(7,"td",20)(8,"b"),c(9,"CONCYTEC"),o()(),r(10,"td"),_(11,Sm,2,2,"a",34)(12,ym,2,0,"a",35),o()(),r(13,"tr")(14,"td",20)(15,"b"),c(16,"ORCID"),o()(),r(17,"td"),_(18,Mm,2,2,"a",34)(19,zm,2,0,"a",35),o()()()()),n&2){let e=u(3);l(11),C(e.user.personDetail.concytecUrl!=""?11:12),l(7),C(e.user.personDetail.orcidUrl!=""?18:19)}}function Em(n,t){if(n&1&&(r(0,"div"),_(1,wm,20,2,"table",18),o()),n&2){let e=u(2);l(),C(e.user.personDetail?1:-1)}}function Tm(n,t){if(n&1){let e=S();r(0,"div",9)(1,"div",14)(2,"div",15),p(3,"img",16),o(),r(4,"div",17)(5,"table",18)(6,"thead")(7,"tr"),p(8,"th",19)(9,"th"),o()(),r(10,"tbody")(11,"tr")(12,"td",20)(13,"b"),c(14),o()(),r(15,"td"),c(16),o()(),r(17,"tr")(18,"td",20)(19,"b"),c(20,"Nombre completo"),o()(),r(21,"td"),c(22),o()(),r(23,"tr")(24,"td",20)(25,"b"),c(26,"Sexo"),o()(),r(27,"td"),c(28),o()(),r(29,"tr")(30,"td",20)(31,"b"),c(32,"Celular"),o()(),r(33,"td"),c(34),o()(),r(35,"tr")(36,"td",20)(37,"b"),c(38,"Correo"),o()(),r(39,"td"),c(40),o()(),r(41,"tr")(42,"td",20)(43,"b"),c(44,"Direcci\xF3n"),o()(),r(45,"td"),c(46),o()(),r(47,"tr")(48,"td",20)(49,"b"),c(50,"Correo institucional"),o()(),r(51,"td"),c(52),o()()()()()(),r(53,"ul",1)(54,"li",2)(55,"a",3),f("click",function(){h(e);let a=u();return v(a.ssubView(4))}),p(56,"i",21),c(57," Usuario "),o()(),r(58,"li",2)(59,"a",3),f("click",function(){h(e);let a=u();return v(a.ssubView(1))}),p(60,"i",5),c(61," Ubicaci\xF3n "),o()(),r(62,"li",2)(63,"a",3),f("click",function(){h(e);let a=u();return v(a.ssubView(2))}),p(64,"i",22),c(65," Academico "),o()(),r(66,"li",2)(67,"a",3),f("click",function(){h(e);let a=u();return v(a.ssubView(3))}),p(68,"i",23),c(69," Investigaci\xF3n "),o()()(),_(70,gm,8,3)(71,Cm,3,1,"div")(72,bm,2,1,"div")(73,Em,2,1,"div"),o()}if(n&2){let e,i=u();d("hidden",i.view!="datos"),l(3),d("src",R(i.user.imgUrl),_e),l(11),b(i.user.typeDocument),l(2),b(i.user.numberDocument),l(6),Be("",i.user.name,", ",i.user.surname),l(6),b(i.user.sex),l(6),b(i.user.cellphone),l(6),b(i.user.email),l(6),b(i.user.address),l(6),b(i.user.emailInstitutional),l(3),d("ngClass",y(17,di,i.subView==4)),l(4),d("ngClass",y(19,di,i.subView==1)),l(4),d("ngClass",y(21,di,i.subView==2)),l(4),d("ngClass",y(23,di,i.subView==3)),l(3),C((e=i.subView)===4?70:e===1?71:e===2?72:e===3?73:-1)}}function Pm(n,t){if(n&1&&(r(0,"div",9),p(1,"app-ui-user-rol-panel",36),o()),n&2){let e=u();d("hidden",e.view!="roles"),l(),d("usuario_idusuario",R(e.user.id))("idinstitution",e.idinstitution)}}function Vm(n,t){if(n&1&&(r(0,"div",9),p(1,"app-ui-user-login-list",37),o()),n&2){let e=u();d("hidden",e.view!="accesos"),l(),d("user_id",R(e.user.id))}}function km(n,t){if(n&1&&(r(0,"div",9),p(1,"app-ui-user-change-list",38),o()),n&2){let e=u();d("hidden",e.view!="cambios"),l(),d("idinstitucion",R(e.idinstitution))("usuario_id",R(e.user.id))("user",e.user)}}function Dm(n,t){if(n&1&&(r(0,"div",9),p(1,"app-ui-user-ubication",39),o()),n&2){let e=u();d("hidden",e.view!="ubicacion"),l(),d("idinstitucion",R(e.idinstitution))("user",e.user)}}var u1=class n{constructor(t){this.activeModal=t}isModal=!0;user={};view="datos";subView=4;idinstitution="";paramsSend={};userService=g(Vt);cs=g(ke);modalService=g(Ie);stateMap=this.userService.stateMap;states=ti;ngOnInit(){this.sview(this.view)}close(){this.activeModal.close()}sview(t){this.view=t,this.tabs[t]=!0}ssubView(t){this.subView=t}tabs={};updatePersonDetail(){return x(this,null,function*(){console.log("this.user"),console.log(this.user);try{let t=yield this.modalService.open(m1,{backdrop:"static",keyboard:!1,size:"lg"});t.componentInstance.personDetail=this.user.personDetail,t.componentInstance.accion="update",t.componentInstance.idinstitucion=this.user.personDetail?.idinstitucion,console.log(`ID INSTITUCION: ${this.user.personDetail?.idinstitucion}`);let e=yield t.result;console.log(e),e&&this.user.personDetail&&Object.assign(this.user.personDetail,e)}catch{}})}static \u0275fac=function(e){return new(e||n)(ee(ae))};static \u0275cmp=z({type:n,selectors:[["app-ui-user-detail"]],inputs:{isModal:"isModal",user:"user",view:"view",subView:"subView",idinstitution:"idinstitution"},decls:20,vars:13,consts:[[1,"modal-header"],[1,"nav","nav-tabs","justify-content-start","_nav_primary"],[1,"nav-item"],["href","javascript:void(0);",1,"nav-link",3,"click","ngClass"],[1,"icon","ion-md-list-box"],[1,"icon","ion-md-pin"],[1,"container-fluid"],[1,"row"],[1,"col-12","p-0","__box"],[3,"hidden"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"icon","ion-md-ribbon"],[1,"icon","ion-md-log-in"],[1,"user"],[1,"img"],["alt","",3,"src"],[1,"datos","py-1"],[1,"table","table-datos","box-main"],[2,"width","100px"],["nowrap",""],[1,"icon","ion-md-person"],[1,"icon","ion-md-bookmarks"],[1,"icon","ion-md-paper"],[1,"text-center"],[3,"params"],["card","card",3,"idinstitution","type"],[3,"EStateCustom","state"],[1,"d-flex","gap-1"],["type","button",1,"btn","btn-sm-custom","btn-primary"],["type","button",1,"btn","btn-sm-custom","btn-primary",3,"click"],[1,"ion-md-create"],["type","button",1,"btn","btn-primary","btn-md-custom"],[1,"icon","ion-md-add"],["target","_blank",1,"btn","btn-md-custom","btn-warning",3,"href"],["href","javascript:void(0);"],[3,"idinstitution","usuario_idusuario"],[3,"user_id"],[3,"idinstitucion","user","usuario_id"],[3,"idinstitucion","user"]],template:function(e,i){e&1&&(_(0,lm,4,2,"div",0),r(1,"ul",1)(2,"li",2)(3,"a",3),f("click",function(){return i.sview("datos")}),p(4,"i",4),c(5," Datos "),o()(),r(6,"li",2)(7,"a",3),f("click",function(){return i.sview("ubicacion")}),p(8,"i",5),c(9," Area asignada "),o()(),_(10,cm,12,9),o(),r(11,"div",6)(12,"div",7)(13,"div",8)(14,"div"),_(15,Tm,74,25,"div",9),_(16,Pm,2,4,"div",9),_(17,Vm,2,3,"div",9),_(18,km,2,6,"div",9),_(19,Dm,2,4,"div",9),o()()()()),e&2&&(C(i.isModal?0:-1),l(3),d("ngClass",y(9,di,i.view=="datos")),l(4),d("ngClass",y(11,di,i.view=="ubicacion")),l(3),C(i.user.user?10:-1),l(5),C(i.tabs.datos?15:-1),l(),C(i.tabs.roles?16:-1),l(),C(i.tabs.accesos?17:-1),l(),C(i.tabs.cambios?18:-1),l(),C(i.tabs.ubicacion?19:-1))},dependencies:[U,Et,en,Qi,ni,s1,d1,p1],styles:[".__box[_ngcontent-%COMP%]{min-height:calc(100vh - 250px);align-items:start}.user[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.user[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:250px;min-height:250px}.user[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:250px;max-height:250px;border-radius:.5rem}.user[_ngcontent-%COMP%]   .datos[_ngcontent-%COMP%]{flex-grow:1}"]})};var h1=class n{API=`${K.service}`;apiService=g(fe);getDataByDocument(t){return x(this,null,function*(){let e=K.serviceToken,i=yield this.apiService.getPrivate(`${this.API}/complete/${t}`,{token:e},e);if(i&&i.state=="success"){let a=i.data;if(a)for(let s in a)a[s]&&(a[s]=a[s].toString().trim().replace(/\s+/g," "));i.data=a,i.data&&t.length==11&&t.startsWith("10")&&i.data.nombreComercial&&(i.data.nombreComercial=i.data.nombreComercial.replace("Afecto al Nuevo RUS: SI","").trim())}return i})}static \u0275fac=function(e){return new(e||n)};static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})};var v1=class n{API=`${K.account2}/person`;apiService=g(fe);loadingService=g(Oe);confirmationService=g(X);auth=g(A);toastrService=g(ce);canAdd=!1;canEdit=!1;canRemove=!1;canChangeState=!1;canExport=!1;canExportExcel=!1;canExportPdf=!1;constructor(){this.canAdd=this.auth.hasSubPermission("person-ADD"),this.canEdit=this.auth.hasSubPermission("person-EDIT"),this.canRemove=this.auth.hasSubPermission("person-REMOVE"),this.canChangeState=this.auth.hasSubPermission("person-CHANGE-STATE"),this.canExport=this.auth.hasPermission("person-EXPORT"),this.canExportExcel=this.auth.hasSubPermission("person-EXPORT-EXCEL"),this.canExportPdf=this.auth.hasSubPermission("person-EXPORT-PDF")}list(t){return x(this,null,function*(){return yield this.apiService.getPrivate(`${this.API}/list`,t)})}add(t){return x(this,null,function*(){let e=yield this.apiService.postPrivate(`${this.API}/create`,t);return e.state=="success"&&e.data&&this.toastrService.success(e.message),e})}data(t){return x(this,null,function*(){return yield this.apiService.getPrivate(`${this.API}/data/${t.id}`,t)})}update(t){return x(this,null,function*(){let e=yield this.apiService.putPrivate(`${this.API}/update/${t.id}`,t);return e.state=="success"&&this.toastrService.success(e.message),e})}patch(t){return x(this,null,function*(){let e=yield this.apiService.putPrivate(`${this.API}/update/${t.id}`,t);return e.state=="success"&&this.toastrService.success(e.message),e})}delete(t){return x(this,null,function*(){let e=yield this.apiService.deletePrivate(`${this.API}/delete/${t.id}`,t);return e.state=="success"&&this.toastrService.success(e.message),e})}export(t,e,i=!0){return x(this,null,function*(){if(i&&!(yield this.confirmationService.create("Confirmar","\xBFEst\xE1 seguro de exportar los datos?")))return;this.loadingService.open();let a=ve(re({},t),{type_export:e,url:K.storage_view}),s=yield this.apiService.getPrivate(`${this.API}/export`,a);return this.loadingService.hide(),s&&s.state=="success"&&window.open(s.url),s})}static \u0275fac=function(e){return new(e||n)};static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})};var ga=n=>({active:n}),vt=n=>({"has-danger":n}),Im=(n,t)=>t.id;function Om(n,t){n&1&&(r(0,"b"),c(1,"NUEVO"),o(),c(2," USUARIO "))}function Fm(n,t){n&1&&(r(0,"b"),c(1,"EDITAR"),o(),c(2," USUARIO "))}function Hm(n,t){if(n&1){let e=S();r(0,"div",0)(1,"div",56),_(2,Om,3,0)(3,Fm,3,0),o(),r(4,"button",57),f("click",function(){h(e);let a=u();return v(a.close())}),o()()}if(n&2){let e=u();l(2),C(e.accion=="add"?2:3)}}function Am(n,t){if(n&1){let e=S();r(0,"li",2)(1,"a",3),f("click",function(){h(e);let a=u(2);return v(a.spanel(3))}),p(2,"i",58),c(3," Cuenta de acceso "),o()()}if(n&2){let e=u(2);l(),d("ngClass",y(1,ga,e.panel==3))}}function Um(n,t){if(n&1&&_(0,Am,4,3,"li",2),n&2){let e=u();C(e.isAcceso?0:-1)}}function Lm(n,t){n&1&&(r(0,"span"),c(1,"Si"),o())}function Ym(n,t){n&1&&(r(0,"span"),c(1,"No"),o())}function Rm(n,t){if(n&1&&(r(0,"div",8)(1,"div",59),c(2,"\xBFTiene acceso?"),o(),r(3,"div",60)(4,"label",61),p(5,"input",62)(6,"span",63),o(),r(7,"div",59),_(8,Lm,2,0,"span")(9,Ym,2,0,"span"),o()()()),n&2){let e=u();l(8),C(e.user!=null&&e.user.id?8:9)}}function Nm(n,t){if(n&1&&(r(0,"option",16),c(1),o()),n&2){let e=t.$implicit;d("value",R(e.code)),l(),b(e.denomination)}}function Bm(n,t){if(n&1&&(r(0,"option",16),c(1),o()),n&2){let e=t.$implicit;d("value",R(e.abreviatura)),l(),b(e.denominacion)}}function jm(n,t){if(n&1){let e=S();r(0,"button",64),f("click",function(){h(e);let a=u();return v(a.findDuplicateUser("numero"))}),p(1,"i",65),o()}}function $m(n,t){if(n&1){let e=S();r(0,"button",66),f("click",function(){h(e);let a=u();return v(a.completar())}),p(1,"i",67),o()}}function qm(n,t){if(n&1&&(r(0,"div",29),c(1),o()),n&2){let e=u();l(),O(" ",e.error_message," ")}}function Wm(n,t){if(n&1&&(r(0,"option",16),c(1),o()),n&2){let e=t.$implicit;d("value",R(e.abreviatura)),l(),O(" ",e.denominacion," ")}}function Gm(n,t){if(n&1&&(r(0,"option",16),c(1),o()),n&2){let e=t.$implicit;d("value",R(e.code)),l(),b(e.denomination)}}function Km(n,t){if(n&1&&(r(0,"div",29),c(1),o()),n&2){let e=u(3);l(),O(" ",e.error_message," ")}}function Xm(n,t){if(n&1){let e=S();r(0,"div",68)(1,"div",69)(2,"div",70)(3,"div",71)(4,"label",72),c(5,"Estado"),o(),r(6,"div",21)(7,"select",73)(8,"option",42),c(9,"Seleccione"),o(),L(10,Gm,2,3,"option",16,J),o(),p(12,"app-control-messages",17),o()(),r(13,"div",30)(14,"label",74),c(15,"Username"),o(),r(16,"div",21)(17,"div",75)(18,"input",76),f("change",function(){h(e);let a=u(2);return v(a.findDuplicateUser("username"))}),o(),r(19,"button",77),f("click",function(){h(e);let a=u(2);return v(a.findDuplicateUser("username"))}),p(20,"i",65),o()(),_(21,Km,2,1,"div",29),p(22,"app-control-messages",17),o()(),r(23,"div",33)(24,"label",78),c(25,"Contrase\xF1a"),o(),r(26,"div",21),p(27,"input",79)(28,"app-control-messages",17),o()(),r(29,"div",33)(30,"label",80),c(31,"Confirma contrase\xF1a"),o(),r(32,"div",21),p(33,"input",81)(34,"app-control-messages",17),o()()()()(),r(35,"div",68)(36,"div",82)(37,"b"),c(38,"Asignar privilegios"),o()(),r(39,"app-ui-rol-panel-select",83),f("event",function(a){h(e);let s=u(2);return v(s.selectRol(a))}),o()()}if(n&2){let e=u(2);l(3),d("ngClass",y(16,vt,e.submit&&e.estadoControl.invalid||e.estadoControl.invalid&&e.estadoControl.touched)),l(7),Y(e.states),l(2),d("control",e.estadoControl)("show",e.submit),l(),d("ngClass",y(18,vt,e.submit&&e.usernameControl.invalid||e.usernameControl.invalid&&e.usernameControl.touched)),l(8),C(e.error_message!=""?21:-1),l(),d("control",e.usernameControl)("show",e.submit),l(),d("ngClass",y(20,vt,e.submit&&e.passwordControl.invalid||e.passwordControl.invalid&&e.passwordControl.touched)),l(5),d("control",e.passwordControl)("show",e.submit),l(),d("ngClass",y(22,vt,e.submit&&e.passwordcControl.invalid||e.passwordcControl.invalid&&e.passwordcControl.touched)),l(5),d("control",e.passwordcControl)("show",e.submit),l(5),d("selectedAdd",e.rols)("multiple",!0)("idinstitution",e.idinstitution)}}function Qm(n,t){if(n&1&&(r(0,"div",68)(1,"div",84)(2,"div",85)(3,"label",47),c(4,"Usuario"),o(),r(5,"div",21)(6,"div",86),c(7),o()()()()()),n&2){let e=u(2);l(7),O(" ",e.user==null||e.user.user==null?null:e.user.user.username," ")}}function Zm(n,t){if(n&1){let e=S();r(0,"div",9)(1,"form",10),f("submit",function(){h(e);let a=u();return v(a.save())}),_(2,Xm,40,24)(3,Qm,8,1,"div",68),o()()}if(n&2){let e=u();d("hidden",e.panel!=3),l(),d("formGroup",e.userForm),l(),C(e.accion=="add"?2:3)}}function Jm(n,t){if(n&1){let e=S();r(0,"button",87),f("click",function(){h(e);let a=u();return v(a.savePanel(a.panel))}),c(1,"Continuar"),o()}}function ep(n,t){if(n&1){let e=S();r(0,"button",87),f("click",function(){h(e);let a=u();return v(a.save())}),c(1,"Guardar"),o()}}function tp(n,t){n&1&&p(0,"app-loading")}var g1=class n{constructor(t){this.modalActive=t}accion="add";user;isModal=!0;idinstitution="";uid="";isAcceso=!0;isAccesoRequerido=!0;titulo="USUARIO";tipo_usuario="";idmicrored="";idestablecimiento="";institutionData;eventChange=new H;userService=g(Vt);generalService=g(h1);authService=g(A);uploadService=g(so);toastService=g(ce);cs=g(ke);confirmationService=g(X);personService=g(v1);states=this.userService.states;panel=1;template_username="";template_password="";userTypes=this.cs.getSignal("userTypes");ngOnInit(){return x(this,null,function*(){this.institutionData==null&&(this.institutionData=this.authService.institucionData);let t=this.institutionData?.setting;if(t?.template_auto=="1"&&(this.autocomplete=!0,this.template_username=t?.template_username??"",this.template_password=t?.template_password??""),this.idinstitution===""&&(this.idinstitution=this.authService.institucionData?.idinstitucion+""),this.uid===""&&(this.uid=this.authService.userData.id+""),this.isAccesoRequerido&&(this.isAcceso=!0),this.accion=="update"){if(!this.user)return this.modalActive.dismiss("No se ha enviado el item a editar");this.user.nameImg==""&&(this.file.type="link"),this.file.name=this.user.nameImg,this.file.url=this.user.imgUrl,this.datosForm.patchValue({nombre:this.user.name,paterno:this.user.surnamePaternal,materno:this.user.surnameMaternal,tipo_documento:this.user.typeDocument,sexo:this.user.sex,numero_documento:this.user.numberDocument,fecha_nacimiento:this.user.birthDate,tipo_usuario:this.user.personDetail?.typeUser}),this.contactosForm.patchValue({celular:this.user.cellphone,correo:this.user.email,correo_institucional:this.user.emailInstitutional,telefono:this.user.phone,direccion:this.user.address}),this.userForm.patchValue({username:this.user.user?.username,acceso:this.user.user?.accessApp}),this.datosForm.controls.tipo_usuario.disable()}else this.datosForm.patchValue({tipo_usuario:this.tipo_usuario}),this.userForm.patchValue({estado:"1"}),this.tipo_usuario!=""&&this.datosForm.controls.tipo_usuario.disable(),this.rols.length==0&&this.idinstitution=="3"&&this.rols.push({field1:"",field2:"",field3:"",field4:"",field5:"",state:"1",privileges:"",rol:"reporte-visor",rol_id:20,system:"monitoreo",subPrivileges:",consultation.CON.HIS,",typeUser:0,user_id:0});yield this.cs.getCatalogos({idinstitution:this.idinstitution,userTypes:!0}),this.userTypes().length&&this.accion=="add"&&this.tipo_usuario==""&&this.datosForm.patchValue({tipo_usuario:this.userTypes()[0].code})})}ngAfterViewInit(){document.getElementById("numero_documento")?.focus()}datosForm=new xe({nombre:new F("",{validators:[N.required,N.maxLength(25),N.minLength(2)],nonNullable:!0}),paterno:new F("",{validators:[N.required,N.maxLength(25)],nonNullable:!0}),materno:new F("",{validators:[N.required,N.maxLength(25)],nonNullable:!0}),tipo_documento:new F("DNI",{validators:[N.required],nonNullable:!0}),sexo:new F("",{validators:[],nonNullable:!0}),numero_documento:new F("",{validators:[N.required,N.minLength(8)],nonNullable:!0}),fecha_nacimiento:new F("",{validators:[],nonNullable:!0}),tipo_usuario:new F("0",{validators:[],nonNullable:!0})});PersonSexes=this.cs.PersonSexes;PersonDocumentTypes=ke.tipo_documento_persona;contactosForm=new xe({celular:new F("",{validators:[],nonNullable:!0}),correo:new F("",{validators:[],nonNullable:!0}),correo_institucional:new F("",{validators:[],nonNullable:!0}),telefono:new F("",{validators:[],nonNullable:!0}),direccion:new F("",{validators:[],nonNullable:!0})});userForm=new xe({estado:new F("1",{validators:[N.required],nonNullable:!0}),username:new F("",{validators:[N.required],nonNullable:!0}),password:new F("",{validators:[N.required],nonNullable:!0}),passwordc:new F("",{validators:[N.required],nonNullable:!0}),acceso:new F("",{validators:[],nonNullable:!0})});get nombreControl(){return this.datosForm.get("nombre")}get paternoControl(){return this.datosForm.get("paterno")}get maternoControl(){return this.datosForm.get("materno")}get numero_documentoControl(){return this.datosForm.get("numero_documento")}get sexoControl(){return this.datosForm.get("sexo")}get tipo_documentoControl(){return this.datosForm.get("tipo_documento")}get fecha_nacimientoControl(){return this.datosForm.get("fecha_nacimiento")}get tipo_usuarioControl(){return this.datosForm.get("tipo_usuario")}get correoControl(){return this.contactosForm.get("correo")}get correo_institucionalControl(){return this.contactosForm.get("correo_institucional")}get celularControl(){return this.contactosForm.get("celular")}get telefonoControl(){return this.contactosForm.get("telefono")}get direccionControl(){return this.contactosForm.get("direccion")}get accesoControl(){return this.userForm.get("acceso")}get estadoControl(){return this.userForm.get("estado")}get usernameControl(){return this.userForm.get("username")}get passwordControl(){return this.userForm.get("password")}get passwordcControl(){return this.userForm.get("passwordc")}close(){this.isModal?this.modalActive.dismiss():this.eventChange.emit({event:"close",data:void 0})}submit=!1;loading=!1;error_message="";autocomplete=!1;spanel(t){this.panel=t,setTimeout(()=>{t==3?document.getElementById("username")?.focus():t==2?document.getElementById("celular")?.focus():t==1&&document.getElementById("numero_documento")?.focus()},100)}savePanel(t){return x(this,null,function*(){this.submit=!0,t==1?this.datosForm.valid&&(this.accion=="add"?this.spanel(3):this.spanel(2)):t==2&&this.contactosForm.valid&&(this.accion=="add"?this.spanel(3):this.save())})}save(){return x(this,null,function*(){if(this.submit=!0,this.accion=="add"){if(this.isAcceso){if(!this.datosForm.valid||!this.contactosForm.valid||!this.userForm.valid){this.datosForm.valid?this.contactosForm.valid?this.userForm.valid||this.spanel(3):this.spanel(2):this.spanel(1);return}if(this.passwordControl?.value!=this.passwordcControl?.value){this.toastService.error("Las contrase\xF1as no coinciden");return}}else if(!this.datosForm.valid||!this.contactosForm.valid){this.datosForm.valid?this.contactosForm.valid||this.spanel(2):this.spanel(1);return}}else if(this.accion=="update"&&(!this.datosForm.valid||!this.contactosForm.valid))return;if(this.accion=="add"&&this.isAcceso&&this.rols.length==0&&!(yield this.confirmationService.create("Confirmar","No se ha seleccionado ning\xFAn rol. \xBFDesea continuar?"))||(this.submit=!1,!(yield this.uploadFile())))return;let e=this.datosForm.value,i=this.contactosForm.value,a=this.userForm.value,s=e.nombre.trim().toUpperCase(),m=e.paterno.trim().toUpperCase(),M=e.materno.trim().toUpperCase(),P=`${m} ${M}`.trim(),V=`${s} ${P}`.trim();if(this.accion=="add"){this.file.url==""&&(this.file.url=`https://ui-avatars.com/api/?name=${s}`);let $={person:{name:s,surname:P,numberDocument:e.numero_documento,sex:e.sexo,email:i.correo,cellphone:i.celular,phone:i.telefono,address:i.direccion,nameImg:this.file.name,imgUrl:this.file.url,birthDate:e.fecha_nacimiento,typeDocument:e.tipo_documento,secondName:"",surnameMaternal:M,nameComplete:V,firstName:"",surnamePaternal:m,emailInstitutional:i.correo_institucional,dateUpdate:"",eessSearch:"0"},personDetail:{concytecUrl:"",orcidUrl:"",situation:"",code:"",academicDegreeName:"",academicDegreeCode:"",investigationGroupName:"",investigationGroupCode:"",cvUrl:"",charge:"",typeUser:e.tipo_usuario,idinstitucion:+this.idinstitution,uidOld:"",uidOrigin:"",createBy:this.uid,microgrid_id:this.idmicrored,establishment_id:this.idestablecimiento,area_id:"",academicSemester:"",malla_curricular_id:""},user:{username:a.username,password:a.password,state:a.estado,typeUser:+e.tipo_usuario,privileges:"",subPrivileges:"",accessApp:"",settings:"",idinstitucion:+this.idinstitution},personLocation:{district:"",province:"",departament:"",contry:"",contry_id:"",department_id:"",province_id:"",district_id:""},personEtnia:{belong:"",town:"",nativeLenguaje:"",denomination:""},rols:this.rols};if(this.isAcceso){this.loading=!0;let se=yield this.userService.add($);this.loading=!1,se.state=="success"&&(this.isModal?this.modalActive.close(se.data):this.eventChange.emit({event:"add",data:se.data}))}else{this.loading=!0;let se=yield this.userService.detalleAdd({person:$.person,personDetail:$.personDetail,personLocation:$.personLocation,personEtnia:$.personEtnia});this.loading=!1,se.state=="success"&&(this.isModal?this.modalActive.close(se.data):this.eventChange.emit({event:"add",data:se.data}))}}else if(this.accion=="update"){let $={id:this.user?.id,name:s,surname:P,numberDocument:e.numero_documento,sex:e.sexo,email:i.correo,cellphone:i.celular,phone:i.telefono,address:i.direccion,birthDate:e.fecha_nacimiento,typeDocument:e.tipo_documento,surnameMaternal:M,nameComplete:V,surnamePaternal:m,emailInstitutional:i.correo_institucional};console.log("updatePerson"),console.log($),this.loading=!0;let se=yield this.personService.patch($);this.loading=!1,se.state=="success"&&this.modalActive.close($)}})}isDocumentAllowed=!1;isUsernameAllowed=!1;findDuplicateUser(t){return x(this,null,function*(){if(this.error_message="",t=="numero"){if(this.isDocumentAllowed=!1,this.tipo_documentoControl.value=="DNI"&&this.numero_documentoControl.value.length!=8){this.toastService.error("Alerta","El DNI debe tener 8 digitos");return}}else if(t=="username"){if(this.isUsernameAllowed=!1,this.usernameControl.value.length<3){this.toastService.error("Alerta","El usuario debe tener al menos 3 caracteres");return}}else return;this.loading=!0;let e=yield this.userService.findDuplicate({campo:t,idinstitucion:this.idinstitution,value:t=="numero"?this.numero_documentoControl.value:this.usernameControl.value,tipo:"all"});if(this.loading=!1,console.log(e),e.state=="success"){if(!e.data)return;let{user:i,person:a}=e.data;if(i==null&&a==null){t=="numero"?this.isDocumentAllowed=!0:t=="username"&&(this.isUsernameAllowed=!0),this.isDocumentAllowed&&this.completar();return}if(t=="numero")if(this.error_message="El numero de documento ya se encuentra en uso. ",i==null){this.error_message="El numero de documento ya se encuentra en uso, solo falta asignarle un usuario. ";return}else this.error_message=`El numero de documento ya se encuentra en uso y se encuentra en estado: (${this.userService.stateMap[i.state]}). `;else this.error_message="El username ya se encuentra en uso. "}})}maximo=8;changeTipo(){switch(this.tipo_documentoControl?.value){case"DNI":this.maximo=8;break;case"PASAPORTE":this.maximo=15;break}}completar(){return x(this,null,function*(){let t=this.numero_documentoControl.value;if(t.length!=8)return;this.loading=!0;let e=yield this.generalService.getDataByDocument(t);if(this.loading=!1,e.state=="success"){let i=e.data.nombres,a=e.data.apellidoPaterno,s=e.data.apellidoMaterno;if(this.nombreControl.setValue(i),this.paternoControl.setValue(a),this.maternoControl.setValue(s),this.autocomplete){let m=this.template_username,M=[{field:"NOMBRES",value:i},{field:"PATERNO",value:a},{field:"MATERNO",value:s},{field:"DOCUMENTO",value:t}],P=this.userService.template(m,M);this.correo_institucionalControl.setValue(P),this.usernameControl.setValue(P);let V=this.template_password,$=this.userService.template(V,M);this.passwordControl.setValue($),this.passwordcControl.setValue($)}}})}currentFiles=null;file={required:!1,type:"file",name:"",url:""};eventFile(t){return x(this,null,function*(){if(this.file.type="file",this.file.name="",this.file.url="",t.event=="clear"){this.currentFiles=null;return}if(t.event=="files"){this.currentFiles=t.files??null;return}t.event=="link"&&(this.file.url=t.url??"",this.file.name=t.name??"",this.currentFiles=null,this.file.type="link")})}uploadFile(){return x(this,null,function*(){if(this.file.required&&this.accion=="add"&&this.file.type=="file"&&(!this.currentFiles||this.currentFiles?.length==0))return this.toastService.error("Debe seleccionar un archivo"),!1;if(this.file.type=="file"&&this.currentFiles&&this.currentFiles.length>0){let t=this.currentFiles[0],e=yield this.uploadService.uploadFile("user/type",t);if(e&&e.state=="success")this.file.url=e.url??"",this.file.name=e.nameFile??"";else return!1}return!0})}rols=[];selectRol(t){console.log("event"),console.log(t),t.event=="add_list"&&(this.rols=t.rols)}static \u0275fac=function(e){return new(e||n)(ee(ae,8))};static \u0275cmp=z({type:n,selectors:[["app-ui-user-form"]],inputs:{accion:"accion",user:"user",isModal:"isModal",idinstitution:"idinstitution",uid:"uid",isAcceso:"isAcceso",isAccesoRequerido:"isAccesoRequerido",titulo:"titulo",tipo_usuario:"tipo_usuario",idmicrored:"idmicrored",idestablecimiento:"idestablecimiento",institutionData:"institutionData"},outputs:{eventChange:"eventChange"},decls:121,vars:81,consts:[[1,"modal-header"],[1,"nav","nav-tabs","_nav_primary","mb-2"],[1,"nav-item"],[1,"nav-link",3,"click","ngClass"],[1,"icons","ion-md-person"],[1,"icons","ion-md-contact"],[1,"modal-body","p-0"],[1,"d-flex","align-items-center","justify-content-between"],[1,"___centrar","gap-1"],[1,"panel",3,"hidden"],[1,"form-horizontal","form-label-left","container-fluid",3,"submit","formGroup"],[1,"form-group","row","align-items-center",3,"ngClass"],["for","tipo_usuario",1,"control-label","col-12","col-md-3"],[1,"col-12","col-md-9"],["name","tipo_usuario","id","tipo_usuario","formControlName","tipo_usuario",1,"form-select"],["value","0"],[3,"value"],[1,"left",3,"control","show"],[1,"form-group","row"],[1,"col",3,"ngClass"],["for","tipo_documento",1,"control-label"],[1,""],[2,"display","flex","align-items","center"],[1,"flex-grow-1","d-flex"],["name","tipo_documento","id","tipo_documento","formControlName","tipo_documento",1,"form-select",2,"width","200px",3,"change"],["type","text","name","numero_documento","id","numero_documento","formControlName","numero_documento",1,"form-control",3,"maxlength"],[1,"input-group-append"],["type","button",1,"btn","btn-danger"],["type","button",1,"btn","btn-warning"],[1,"_nota","red"],[1,"col-12",3,"ngClass"],["for","nombre",1,"control-label"],["type","text","name","nombre","id","nombre","formControlName","nombre",1,"form-control"],[1,"col-12","col-md-6",3,"ngClass"],["for","paterno",1,"control-label"],["type","text","name","paterno","id","paterno","formControlName","paterno",1,"form-control"],["for","materno",1,"control-label"],["type","text","name","materno","id","materno","formControlName","materno",1,"form-control"],["for","fecha_nacimiento",1,"control-label"],["type","date","name","fecha_nacimiento","id","fecha_nacimiento","formControlName","fecha_nacimiento",1,"form-control"],["for","sexo",1,"control-label"],["name","sexo","id","sexo","formControlName","sexo",1,"form-select"],["value",""],["for","celular",1,"control-label"],["type","text","name","celular","id","celular","formControlName","celular",1,"form-control"],["for","telefono",1,"control-label"],["type","text","name","telefono","id","telefono","formControlName","telefono",1,"form-control"],["for","correo",1,"control-label"],["type","text","name","correo","id","correo","formControlName","correo",1,"form-control"],["for","correo_institucional",1,"control-label"],["type","text","name","correo_institucional","id","correo_institucional","formControlName","correo_institucional",1,"form-control"],["for","direccion",1,"control-label"],["type","text","name","direccion","id","direccion","formControlName","direccion",1,"form-control"],[1,"modal-footer"],["color","dark","variant","outline","app-button","","type","button","size","lg",3,"click"],["type","button","app-button","","size","lg"],[1,"modal-title"],["type","button",1,"btn","btn-close",3,"click"],[1,"icons","ion-md-key"],[1,"_label"],[1,"d-flex","align-items-center"],[1,"switch2","mr-2"],["type","checkbox","name","acceso"],[1,"slider","round"],["type","button",1,"btn","btn-danger",3,"click"],[1,"icon","ion-md-checkmark"],["type","button",1,"btn","btn-warning",3,"click"],[1,"icon","ion-md-search"],[1,"col-12"],[1,"form-group"],[1,"row"],[1,"col-12","_campo",3,"ngClass"],["for","estado",1,"control-label"],["name","estado","id","estado","formControlName","estado",1,"form-select"],["for","username",1,"control-label"],[1,"input-group"],["type","text","name","username","id","username","formControlName","username",1,"form-control",3,"change"],["type","button",1,"btn","btn-danger",2,"height","var(--control-form-md-height)",3,"click"],["for","password",1,"control-label","mt-2"],["type","password","name","password","id","password","formControlName","password",1,"form-control"],["for","passwordc",1,"control-label","mt-2"],["type","password","name","passwordc","id","passwordc","formControlName","passwordc",1,"form-control"],[1,"mb-1"],["addClass","p-500",3,"event","selectedAdd","multiple","idinstitution"],[1,"form-group","row","_acceso"],[1,"col"],[1,"form-control"],["type","button","app-button","","size","lg",3,"click"]],template:function(e,i){e&1&&(_(0,Hm,5,1,"div",0),r(1,"ul",1)(2,"li",2)(3,"a",3),f("click",function(){return i.spanel(1)}),p(4,"i",4),c(5," Datos"),o()(),r(6,"li",2)(7,"a",3),f("click",function(){return i.spanel(2)}),p(8,"i",5),c(9," Contacto"),o()(),_(10,Um,1,1),o(),r(11,"div",6)(12,"div",7),_(13,Rm,10,1,"div",8),o(),r(14,"div",9)(15,"form",10),f("submit",function(){return i.save()}),r(16,"div",11)(17,"label",12),c(18,"Tipo usuario"),o(),r(19,"div",13)(20,"select",14)(21,"option",15),c(22,"Si definir"),o(),L(23,Nm,2,3,"option",16,Im),o(),p(25,"app-control-messages",17),o()(),r(26,"div",18)(27,"div",19)(28,"label",20),c(29,"Documento de identidad"),o(),r(30,"div",21)(31,"div",22)(32,"div",23)(33,"select",24),f("change",function(){return i.changeTipo()}),L(34,Bm,2,3,"option",16,J),o(),p(36,"input",25),o(),r(37,"div",26),_(38,jm,2,0,"button",27),_(39,$m,2,0,"button",28),o()(),_(40,qm,2,1,"div",29),p(41,"app-control-messages",17),o()()(),r(42,"div",18)(43,"div",30)(44,"label",31),c(45,"Nombre(s)"),o(),r(46,"div",21),p(47,"input",32)(48,"app-control-messages",17),o()()(),r(49,"div",18)(50,"div",33)(51,"label",34),c(52,"A. Paterno"),o(),r(53,"div",21),p(54,"input",35)(55,"app-control-messages",17),o()(),r(56,"div",33)(57,"label",36),c(58,"A. Materno"),o(),r(59,"div",21),p(60,"input",37)(61,"app-control-messages",17),o()()(),r(62,"div",18)(63,"div",33)(64,"label",38),c(65,"Fecha nacimiento"),o(),r(66,"div",21),p(67,"input",39)(68,"app-control-messages",17),o()(),r(69,"div",33)(70,"label",40),c(71,"Sexo"),o(),r(72,"div",21)(73,"select",41)(74,"option",42),c(75,"Seleccione"),o(),L(76,Wm,2,3,"option",16,J),o(),p(78,"app-control-messages",17),o()()()()(),r(79,"div",9)(80,"form",10),f("submit",function(){return i.save()}),r(81,"div",18)(82,"div",19)(83,"label",43),c(84,"Celular"),o(),r(85,"div",21),p(86,"input",44)(87,"app-control-messages",17),o()(),r(88,"div",19)(89,"label",45),c(90,"Telefono"),o(),r(91,"div",21),p(92,"input",46)(93,"app-control-messages",17),o()()(),r(94,"div",18)(95,"div",19)(96,"label",47),c(97,"Correo"),o(),r(98,"div",21),p(99,"input",48)(100,"app-control-messages",17),o()(),r(101,"div",19)(102,"label",49),c(103,"Correo institucional"),o(),r(104,"div",21),p(105,"input",50)(106,"app-control-messages",17),o()()(),r(107,"div",18)(108,"div",19)(109,"label",51),c(110,"Direcci\xF3n"),o(),r(111,"div",21),p(112,"input",52)(113,"app-control-messages",17),o()()()()(),_(114,Zm,4,3,"div",9),o(),r(115,"div",53)(116,"button",54),f("click",function(){return i.close()}),c(117,"Cancelar"),o(),_(118,Jm,2,0,"button",55)(119,ep,2,0,"button",55),o(),_(120,tp,1,0,"app-loading")),e&2&&(C(i.isModal?0:-1),l(3),d("ngClass",y(53,ga,i.panel==1)),l(4),d("ngClass",y(55,ga,i.panel==2)),l(3),C(i.accion=="add"?10:-1),l(3),C(i.isAccesoRequerido?-1:13),l(),d("hidden",i.panel!=1),l(),d("formGroup",i.datosForm),l(),d("ngClass",y(57,vt,i.submit&&i.tipo_usuarioControl.invalid||i.tipo_usuarioControl.invalid&&i.tipo_usuarioControl.touched)),l(7),Y(i.userTypes()),l(2),d("control",i.tipo_usuarioControl)("show",i.submit),l(2),d("ngClass",y(59,vt,i.submit&&i.numero_documentoControl.invalid||i.numero_documentoControl.invalid&&i.numero_documentoControl.touched)),l(7),Y(i.PersonDocumentTypes),l(2),d("maxlength",R(i.maximo)),l(2),C(i.isDocumentAllowed?-1:38),l(),C(i.isDocumentAllowed?39:-1),l(),C(i.error_message!=""?40:-1),l(),d("control",i.numero_documentoControl)("show",i.submit),l(2),d("ngClass",y(61,vt,i.submit&&i.nombreControl.invalid||i.nombreControl.invalid&&i.nombreControl.touched)),l(5),d("control",i.nombreControl)("show",i.submit),l(2),d("ngClass",y(63,vt,i.submit&&i.paternoControl.invalid||i.paternoControl.invalid&&i.paternoControl.touched)),l(5),d("control",i.paternoControl)("show",i.submit),l(),d("ngClass",y(65,vt,i.submit&&i.maternoControl.invalid||i.maternoControl.invalid&&i.maternoControl.touched)),l(5),d("control",i.maternoControl)("show",i.submit),l(2),d("ngClass",y(67,vt,i.submit&&i.fecha_nacimientoControl.invalid||i.fecha_nacimientoControl.invalid&&i.fecha_nacimientoControl.touched)),l(5),d("control",i.fecha_nacimientoControl)("show",i.submit),l(),d("ngClass",y(69,vt,i.submit&&i.sexoControl.invalid||i.sexoControl.invalid&&i.sexoControl.touched)),l(7),Y(i.PersonSexes),l(2),d("control",i.sexoControl)("show",i.submit),l(),d("hidden",i.panel!=2),l(),d("formGroup",i.contactosForm),l(2),d("ngClass",y(71,vt,i.submit&&i.celularControl.invalid||i.celularControl.invalid&&i.celularControl.touched)),l(5),d("control",i.celularControl)("show",i.submit),l(),d("ngClass",y(73,vt,i.submit&&i.telefonoControl.invalid||i.telefonoControl.invalid&&i.telefonoControl.touched)),l(5),d("control",i.telefonoControl)("show",i.submit),l(2),d("ngClass",y(75,vt,i.submit&&i.correoControl.invalid||i.correoControl.invalid&&i.correoControl.touched)),l(5),d("control",i.correoControl)("show",i.submit),l(),d("ngClass",y(77,vt,i.submit&&i.correo_institucionalControl.invalid||i.correo_institucionalControl.invalid&&i.correo_institucionalControl.touched)),l(5),d("control",i.correo_institucionalControl)("show",i.submit),l(2),d("ngClass",y(79,vt,i.submit&&i.direccionControl.invalid||i.direccionControl.invalid&&i.direccionControl.touched)),l(5),d("control",i.direccionControl)("show",i.submit),l(),C(i.isAcceso?114:-1),l(4),C(i.panel!=3?118:119),l(2),C(i.loading?120:-1))},dependencies:[ye,we,Ge,Ke,qe,We,de,ze,Jn,Ee,Te,Pe,U,ie,Mi,zt,Zt],styles:[".modal-body[_ngcontent-%COMP%]{min-height:calc(100vh - 200px)}.panel[_ngcontent-%COMP%]{min-height:calc(100vh - 250px)}._campo[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}"]})};var ip=n=>({"modal-body":n}),f1=n=>({"has-danger":n});function np(n,t){if(n&1){let e=S();r(0,"div",0)(1,"h4",27),c(2,"DATOS DEL ACCESO"),o(),r(3,"button",28),f("click",function(){h(e);let a=u();return v(a.cancelar())}),o()()}}function op(n,t){if(n&1&&(r(0,"option",12),c(1),o()),n&2){let e=t.$implicit;d("value",R(e.code)),l(),b(e.denomination)}}function ap(n,t){n&1&&p(0,"app-loading")}var _1=class n{constructor(t){this.modalActive=t}user={};uid="";isModal=!0;idinstitucion="";institutionData;toastService=g(ce);userService=g(Vt);confirmationService=g(X);authService=g(A);form=new xe({username:new F("",{validators:[N.required],nonNullable:!0}),password:new F("",{validators:[N.required],nonNullable:!0}),passwordc:new F("",{validators:[N.required],nonNullable:!0}),estado:new F("1",{validators:[N.required],nonNullable:!0})});get usernameControl(){return this.form.get("username")}get passwordControl(){return this.form.get("password")}get passwordcControl(){return this.form.get("passwordc")}get estadoControl(){return this.form.get("estado")}states=this.userService.states;$tipo_documentos={};autocomplete=!1;template_username="";template_password="";ngOnInit(){return x(this,null,function*(){this.institutionData==null&&(this.institutionData=this.authService.institucionData),this.idinstitucion==""&&(this.idinstitucion=this.authService.institucionData?.idinstitucion+"");let t=this.institutionData?.setting;if(t?.template_auto=="1"&&(this.autocomplete=!0,this.template_username=t?.template_username??"",this.template_password=t?.template_password??""),this.$tipo_documentos=ke.map_tipo_documento_persona,this.autocomplete){let e=this.template_username,i=[{field:"NOMBRES",value:this.user.name},{field:"PATERNO",value:this.user.surnamePaternal},{field:"MATERNO",value:this.user.surnameMaternal},{field:"DOCUMENTO",value:this.user.numberDocument}],a=this.userService.template(e,i);this.usernameControl.setValue(a);let s=this.template_password,m=this.userService.template(s,i);this.passwordControl.setValue(m),this.passwordcControl.setValue(m)}})}cancelar(){this.modalActive.dismiss()}error=!1;submit=!1;loading=!1;rols=[];save(){return x(this,null,function*(){if(this.error=!1,this.submit=!0,!this.form.valid)return;this.submit=!1;let t=this.form.value;if(t.password!=t.passwordc){this.toastService.error("Error","Las contrase\xF1as no coinciden.");return}if(this.rols.length==0&&!(yield this.confirmationService.create("Confirmar","No se ha seleccionado ning\xFAn rol. \xBFDesea continuar?")))return;this.loading=!0;let e={id:this.user.id,username:t.username,password:t.password,state:t.estado+"",typeUser:+this.user.personDetail?.typeUser,privileges:"",subPrivileges:"",idinstitucion:+this.idinstitucion,accessApp:"",settings:"",rols:this.rols},i=yield this.userService.addUser(e);this.loading=!1,i.state=="success"&&this.isModal&&this.modalActive.close(i.data)})}selectRol(t){console.log("event"),console.log(t),t.event=="add_list"&&(this.rols=t.rols)}static \u0275fac=function(e){return new(e||n)(ee(ae,8))};static \u0275cmp=z({type:n,selectors:[["app-ui-auth-access-form"]],inputs:{user:"user",uid:"uid",isModal:"isModal",idinstitucion:"idinstitucion",institutionData:"institutionData"},decls:49,vars:25,consts:[[1,"modal-header"],[1,"",3,"ngClass"],[1,"form-horizontal","form-label-left",3,"submit","formGroup"],[1,"row"],[1,"col-12"],[2,"max-width","500px","margin","auto"],["card","box",3,"item"],[1,"col-12","_campo",3,"ngClass"],["for","estado",1,"control-label"],[1,""],["name","estado","id","estado","formControlName","estado",1,"form-select"],["value",""],[3,"value"],[1,"left",3,"control"],[1,"col-12",3,"ngClass"],["for","username",1,"control-label","mt-2"],["type","text","name","username","id","username","formControlName","username",1,"form-control"],[1,"col",3,"ngClass"],["for","password",1,"control-label","mt-2"],["type","password","name","password","id","password","formControlName","password",1,"form-control"],["for","passwordc",1,"control-label","mt-2"],["type","password","name","passwordc","id","passwordc","formControlName","passwordc",1,"form-control"],[1,"my-1"],[3,"event","multiple","idinstitution"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary","btn-lg-medio","mr-1",3,"click"],["type","button",1,"btn","btn-primary","btn-lg-medio",3,"click"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"]],template:function(e,i){e&1&&(_(0,np,4,0,"div",0),r(1,"div",1)(2,"form",2),f("submit",function(){return i.save()}),r(3,"div",3)(4,"div",4)(5,"div")(6,"div",5),p(7,"app-ui-user-card",6),o()()()(),r(8,"div",3)(9,"div",7)(10,"label",8),c(11,"Estado"),o(),r(12,"div",9)(13,"select",10)(14,"option",11),c(15,"Seleccione"),o(),L(16,op,2,3,"option",12,J),o(),p(18,"app-control-messages",13),o()(),r(19,"div",14)(20,"label",15),c(21,"Username"),o(),r(22,"div",9),p(23,"input",16)(24,"app-control-messages",13),o()(),r(25,"div",17)(26,"label",18),c(27,"Contrase\xF1a"),o(),r(28,"div",9),p(29,"input",19)(30,"app-control-messages",13),o()(),r(31,"div",17)(32,"label",20),c(33,"Confirma contrase\xF1a"),o(),r(34,"div",9),p(35,"input",21)(36,"app-control-messages",13),o()()(),r(37,"div",3)(38,"div",4)(39,"div",22)(40,"b"),c(41,"Asignar privilegios"),o()(),r(42,"app-ui-rol-panel-select",23),f("event",function(s){return i.selectRol(s)}),o()()()()(),r(43,"div",24)(44,"button",25),f("click",function(){return i.cancelar()}),c(45," Cancelar "),o(),r(46,"button",26),f("click",function(){return i.save()}),c(47," Guardar "),o()(),_(48,ap,1,0,"app-loading")),e&2&&(C(i.isModal?0:-1),l(),d("ngClass",y(15,ip,i.isModal)),l(),d("formGroup",i.form),l(5),d("item",i.user),l(2),d("ngClass",y(17,f1,i.submit&&i.estadoControl.invalid||i.estadoControl.invalid&&i.estadoControl.touched)),l(7),Y(i.states),l(2),d("control",i.estadoControl),l(),d("ngClass",y(19,f1,i.submit&&i.usernameControl.invalid||i.usernameControl.invalid&&i.usernameControl.touched)),l(5),d("control",i.usernameControl),l(),d("ngClass",y(21,f1,i.submit&&i.passwordControl.invalid||i.passwordControl.invalid&&i.passwordControl.touched)),l(5),d("control",i.passwordControl),l(),d("ngClass",y(23,f1,i.submit&&i.passwordcControl.invalid||i.passwordcControl.invalid&&i.passwordcControl.touched)),l(5),d("control",i.passwordcControl),l(6),d("multiple",!0)("idinstitution",i.idinstitucion),l(6),C(i.loading?48:-1))},dependencies:[U,Se,we,Ge,Ke,qe,We,de,ze,ye,Ee,Te,Pe,ie,Xi,Mi],encapsulation:2})};var Hn=n=>({active:n}),S0=(n,t)=>t.id;function rp(n,t){if(n&1){let e=S();r(0,"button",13),f("click",function(){h(e);let a=u(2);return v(a.selectalmacen(0))}),p(1,"span",14),o()}}function lp(n,t){if(n&1){let e=S();r(0,"li",15),f("click",function(){let a=h(e).$implicit,s=u(2);return v(s.selectalmacen(a))}),c(1),o()}if(n&2){let e=t.$implicit,i=u(2);d("ngClass",y(2,Hn,i.filtro.area_id==e.id+"")),l(),O(" ",e.denomination," ")}}function cp(n,t){if(n&1&&(r(0,"div",0)(1,"div",2),p(2,"i",3),r(3,"div",4),c(4,"Areas"),o(),_(5,rp,2,0,"button",5),o(),r(6,"div",6),p(7,"i",11),o(),r(8,"div",8)(9,"ul"),L(10,lp,2,4,"li",12,S0),o()()()),n&2){let e=u();l(5),C(e.filtro.area_id!=""?5:-1),l(5),Y(e.areas)}}function sp(n,t){if(n&1){let e=S();r(0,"button",13),f("click",function(){h(e);let a=u();return v(a.selecttipo(""))}),p(1,"span",14),o()}}function dp(n,t){if(n&1){let e=S();r(0,"li",16),f("click",function(){let a=h(e).$implicit,s=u();return v(s.selecttipo(a.code))}),r(1,"div",17),p(2,"img",18),o(),r(3,"div",4),c(4),o()()}if(n&2){let e=t.$implicit,i=u();d("ngClass",y(4,Hn,i.filtro.typeUser==e.code)),l(2),d("src",R(e.imgUrl),_e),l(2),O(" ",e.denomination," ")}}function mp(n,t){if(n&1){let e=S();r(0,"button",13),f("click",function(){h(e);let a=u();return v(a.selectsistema())}),p(1,"span",14),o()}}function pp(n,t){if(n&1){let e=S();r(0,"li",16),f("click",function(){let a=h(e).$implicit,s=u();return v(s.selectsistema(a))}),r(1,"div",17),p(2,"img",18),o(),r(3,"div",4),c(4),o()()}if(n&2){let e=t.$implicit,i=u();d("ngClass",y(4,Hn,i.filtro.system==e.codigo)),l(2),d("src",R(e.icono),_e),l(2),O(" ",e.denominacion," ")}}function up(n,t){if(n&1){let e=S();r(0,"button",13),f("click",function(){h(e);let a=u(2);return v(a.selectrol(""))}),p(1,"span",14),o()}}function hp(n,t){if(n&1){let e=S();r(0,"li",16),f("click",function(){let a=h(e).$implicit,s=u(2);return v(s.selectrol(a.idrol+""))}),c(1),o()}if(n&2){let e=t.$implicit,i=u(2);d("ngClass",y(2,Hn,i.filtro.rol_id==e.idrol+"")),l(),O(" ",e.denominacion_rol," ")}}function vp(n,t){if(n&1&&(r(0,"div",1)(1,"div",2),p(2,"i",3),r(3,"div",4),c(4,"Rol"),o(),_(5,up,2,0,"button",5),o(),r(6,"div",6),p(7,"i",7),o(),r(8,"div",8)(9,"ul"),L(10,hp,2,4,"li",9,J),o()()()),n&2){let e=u();l(5),C(e.filtro.rol_id!=""?5:-1),l(5),Y(e.roles)}}function gp(n,t){if(n&1){let e=S();r(0,"button",13),f("click",function(){h(e);let a=u();return v(a.selectsexo(""))}),p(1,"span",14),o()}}function fp(n,t){if(n&1){let e=S();r(0,"li",19),f("click",function(){let a=h(e).$implicit,s=u();return v(s.selectsexo(a.codigo))}),c(1),o()}if(n&2){let e=t.$implicit,i=u();d("ngClass",y(2,Hn,i.filtro.sex==e.codigo)),l(),O(" ",e.denominacion," ")}}var C1=class n{evento=new H;idinstitucion="";idalmacen="";areas=[];sexos=[{codigo:"Mujer",denominacion:"Mujer"},{codigo:"Hombre",denominacion:"Hombre"}];roles=[];filtro={typeUser:"",idinstitucion:"",sex:"",system:"",rol_id:""};cs=g(ke);rolService=g(Rt);constructor(){}userTypes=this.cs.getSignal("userTypes");applications=this.cs.getSignal("applications");ngOnInit(){return x(this,null,function*(){this.filtro.idinstitucion=this.idinstitucion+"",yield this.cs.getCatalogos({idinstitution:this.idinstitucion,applications:!0,userTypes:!0})})}asignar(){console.log("ASIGNAR ")}selectalmacen(t){t==0?this.filtro.area_id="":this.filtro.area_id=t.id+"",this.evento.emit({event:"categoria",filtro:this.filtro})}selectsistema(t){return x(this,null,function*(){t?(this.filtro.system=t.codigo,this.roles=t.rols??[]):(this.filtro.system="",this.roles=[]),this.filtro.rol_id="",this.evento.emit({event:"sistema",filtro:this.filtro})})}selectrol(t){this.filtro.rol_id=t,this.evento.emit({event:"rol",filtro:this.filtro})}selectsexo(t){this.filtro.sex=t,this.evento.emit({event:"sexo",filtro:this.filtro})}selecttipo(t){this.filtro.typeUser=t,this.evento.emit({event:"tipo",filtro:this.filtro})}selectcargo(t){this.filtro.cargo_id=t,this.evento.emit({event:"cargo",filtro:this.filtro})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=z({type:n,selectors:[["app-ui-user-filter"]],inputs:{idinstitucion:"idinstitucion",idalmacen:"idalmacen"},outputs:{evento:"evento"},decls:38,vars:5,consts:[[1,"box","_items","box-almacenes","box-grid"],[1,"box","_items"],[1,"box-header"],[1,"icon","ion-ios-arrow-down"],[1,"flex-grow-1"],["type","button",1,"btn","btn-outline-danger","btn-sm-custom"],[1,"_icons"],[1,"icon","ion-md-ribbon"],[1,"body"],[3,"ngClass"],[1,"d-inline-block",3,"ngClass"],[1,"icon","ion-md-cube"],[1,"box-ellipsis",3,"ngClass"],["type","button",1,"btn","btn-outline-danger","btn-sm-custom",3,"click"],[1,"icons","ion-md-close"],[1,"box-ellipsis",3,"click","ngClass"],[3,"click","ngClass"],[1,"img"],["alt","",3,"src"],[1,"d-inline-block",3,"click","ngClass"]],template:function(e,i){e&1&&(_(0,cp,12,1,"div",0),r(1,"div",1)(2,"div",2),p(3,"i",3),r(4,"div",4),c(5,"Tipo de usuario"),o(),_(6,sp,2,0,"button",5),o(),r(7,"div",6),p(8,"i",7),o(),r(9,"div",8)(10,"ul"),L(11,dp,5,6,"li",9,S0),o()()(),r(13,"div",1)(14,"div",2),p(15,"i",3),r(16,"div",4),c(17,"Aplicaci\xF3n"),o(),_(18,mp,2,0,"button",5),o(),r(19,"div",6),p(20,"i",7),o(),r(21,"div",8)(22,"ul"),L(23,pp,5,6,"li",9,J),o()()(),_(25,vp,12,1,"div",1),r(26,"div",1)(27,"div",2),p(28,"i",3),r(29,"div",4),c(30,"Sexo"),o(),_(31,gp,2,0,"button",5),o(),r(32,"div",6),p(33,"i",7),o(),r(34,"div",8)(35,"ul"),L(36,fp,2,4,"li",10,J),o()()()),e&2&&(C(i.areas.length>1?0:-1),l(6),C(i.filtro.typeUser!=""?6:-1),l(5),Y(i.userTypes()),l(7),C(i.filtro.system!=""?18:-1),l(5),Y(i.applications()),l(2),C(i.filtro.system!=""?25:-1),l(6),C(i.filtro.sex!=""?31:-1),l(5),Y(i.sexos))},dependencies:[U],styles:["._items[_ngcontent-%COMP%]{background:var(--fuse-bg-card);padding:0;position:relative;box-shadow:none;border:none;border-bottom:1px solid var(--border-color)}._items[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding:0 7px}._items[_ngcontent-%COMP%]   ._icons[_ngcontent-%COMP%]{display:none}._items[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{overflow:auto}._items[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;padding-left:.25rem}._items[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:.1rem .4rem;cursor:pointer;display:flex;align-items:center;gap:.25rem}._items[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:15px;height:15px;display:flex;align-items:center;justify-content:center}._items[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:15px;max-height:15px;border-radius:.5rem}._items[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:var(--primary-pastel)}._items[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{background-color:var(--primary-pastel);border-radius:5px;font-weight:700;color:var(--primary)}._items[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{margin-bottom:0}.box-header[_ngcontent-%COMP%]{padding:.2rem .4rem;text-transform:uppercase;font-weight:700;font-size:.9rem;display:flex;align-items:center;border-bottom:1px solid var(--border-color)}.box-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px;color:#000}.box-header[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{line-height:1}"]})};function _p(n,t){if(n&1){let e=S();r(0,"div",0)(1,"div",5),c(2,"Sincronizar usuarios"),o(),r(3,"button",6),f("click",function(){h(e);let a=u();return v(a.close())}),o()()}}function Cp(n,t){n&1&&p(0,"app-loading")}var x1=class n{constructor(t){this.modalActive=t}idinstitution="";idpartner="";isModal=!0;userService=g(Vt);ngOnInit(){}close(){this.isModal&&this.modalActive.dismiss()}loading=!1;synchronize(){return x(this,null,function*(){try{this.loading=!0;let t=yield this.userService.synchronize({idinstitution:this.idinstitution,idpartner:this.idpartner});this.loading=!1,console.log(t)}catch(t){console.log(t)}})}static \u0275fac=function(e){return new(e||n)(ee(ae,8))};static \u0275cmp=z({type:n,selectors:[["app-ui-user-synchronize"]],inputs:{idinstitution:"idinstitution",idpartner:"idpartner",isModal:"isModal"},decls:8,vars:2,consts:[[1,"modal-header"],[1,"modal-body","p-0"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary","btn-lg-custom",3,"click"],["type","button",1,"btn","btn-primary","btn-lg-custom",3,"click"],[1,"modal-title"],["type","button",1,"btn","btn-close",3,"click"]],template:function(e,i){e&1&&(_(0,_p,4,0,"div",0),p(1,"div",1),r(2,"div",2)(3,"button",3),f("click",function(){return i.close()}),c(4,"Cancelar"),o(),r(5,"button",4),f("click",function(){return i.synchronize()}),c(6,"Sincronizar"),o()(),_(7,Cp,1,0,"app-loading")),e&2&&(C(i.isModal?0:-1),l(7),C(i.loading?7:-1))},dependencies:[ie],encapsulation:2})};var Ni=n=>({active:n}),y0=(n,t)=>({item:n,indice:t}),xp=(n,t)=>t.code,bp=(n,t)=>t.id;function Sp(n,t){if(n&1){let e=S();r(0,"li",11)(1,"a",12),f("click",function(){let a=h(e).$implicit,s=u();return v(s.selectState(a.code))}),c(2),o()()}if(n&2){let e=t.$implicit,i=u();l(),d("ngClass",y(2,Ni,i.filter.state==e.code)),l(),O(" ",e.denomination," ")}}function yp(n,t){if(n&1){let e=S();p(0,"div",30),r(1,"button",23),f("click",function(){h(e);let a=u(2);return v(a.import())}),r(2,"div",24)(3,"div",25),p(4,"img",31),o(),r(5,"div",27),c(6,"Sincronizar con FE"),o(),p(7,"div",28),o()()}}function Mp(n,t){if(n&1){let e=S();r(0,"button",23),f("click",function(){h(e);let a=u();return v(a.export("pdf","access"))}),r(1,"div",24)(2,"div",25),p(3,"img",26),o(),r(4,"div",27),c(5,"Exportar con Roles"),o(),p(6,"div",28),o()(),r(7,"button",23),f("click",function(){h(e);let a=u();return v(a.export("excel","access"))}),r(8,"div",24)(9,"div",25),p(10,"img",29),o(),r(11,"div",27),c(12,"Exportar con Roles"),o(),p(13,"div",28),o()(),_(14,yp,8,0)}if(n&2){let e=u();l(14),C(e.idpartner=="6"?14:-1)}}function zp(n,t){n&1&&(r(0,"th",35),c(1,"Rol"),o())}function wp(n,t){n&1&&p(0,"i",48)}function Ep(n,t){n&1&&p(0,"i",49)}function Tp(n,t){if(n&1&&(r(0,"div",53),p(1,"i",59),o()),n&2){let e=u().$implicit;d("ngbTooltip",R(e.personDetail==null?null:e.personDetail.uidOld))}}function Pp(n,t){if(n&1&&(r(0,"li",61),c(1),o()),n&2){let e=t.$implicit;l(),O(" ",e.rol," ")}}function Vp(n,t){if(n&1&&L(0,Pp,2,1,"li",61,bp),n&2){let e=u(3).$implicit;Y(e.user.roles)}}function kp(n,t){if(n&1&&_(0,Vp,2,0),n&2){let e=u(2).$implicit;C(e.user.roles?0:-1)}}function Dp(n,t){if(n&1&&(r(0,"td")(1,"ul",60),_(2,kp,1,1),o()()),n&2){let e=u().$implicit;l(2),C(e.user?2:-1)}}function Ip(n,t){if(n&1&&p(0,"app-text-state",54),n&2){let e=u().$implicit,i=u(2);d("EStateCustom",i.stateMap)("state",e.user.state)}}function Op(n,t){n&1&&c(0," NO ")}function Fp(n,t){if(n&1){let e=S();r(0,"div",62)(1,"button",63),c(2,"Acceder"),o(),r(3,"div",64)(4,"button",65),f("click",function(){h(e);let a=u(2).$implicit,s=u(2);return v(s.acceder(a))}),c(5,"Producci\xF3n"),o(),r(6,"button",65),f("click",function(){h(e);let a=u(2).$implicit,s=u(2);return v(s.acceder(a,!1))}),c(7,"Desarrollo"),o()()()}}function Hp(n,t){if(n&1&&_(0,Fp,8,0,"div",62),n&2){let e=u(3);C(e.filter.system!=""&&e.sistema=="suite"?0:-1)}}function Ap(n,t){if(n&1){let e=S();r(0,"button",66),f("click",function(){h(e);let a=u().$implicit,s=u(2);return v(s.darAcceso(a))}),c(1,"Dar acceso"),o()}}function Up(n,t){if(n&1){let e=S();r(0,"tr",38,4),f("click",function(){let a=h(e).$implicit,s=u(2);return v(s.select(a))})("dblclick",function(){let a=h(e).$implicit,s=u(2);return v(s.select(a,"dblclick"))})("contextmenu",function(){let a=h(e).$implicit,s=u(2);return v(s.select(a,"contextmenu"))}),r(2,"td",39),c(3),o(),r(4,"td")(5,"div",40)(6,"div")(7,"div",41)(8,"b",41),c(9),o()(),p(10,"app-text-copy",42),o()()(),r(11,"td")(12,"div",43),p(13,"img",44),o()(),r(14,"td")(15,"div")(16,"b"),c(17),o()(),r(18,"div",41),p(19,"i",45),c(20),o(),r(21,"div",46)(22,"div",47),_(23,wp,1,0,"i",48),_(24,Ep,1,0,"i",49),c(25),o(),p(26,"app-ui-user-type-card",50),r(27,"div",51),p(28,"i",52),c(29),je(30,"date"),o(),_(31,Tp,2,2,"div",53),o()(),_(32,Dp,3,1,"td"),r(33,"td",39),_(34,Ip,1,2,"app-text-state",54)(35,Op,1,0),o(),r(36,"td",55),_(37,Hp,1,1)(38,Ap,2,0,"button",56),o(),r(39,"td")(40,"button",57),f("click",function(a){let s=h(e).$implicit,m=G(1);return u(2).select(s),v(m.open(a))}),p(41,"i",58),o()()()}if(n&2){let e=t.$implicit,i=t.$index,a=u(2),s=G(28);d("ngClass",y(25,Ni,e.id==a.selected.id))("contextMenu",s)("contextMenuValue",be(27,y0,e,i)),l(3),O(" ",(i+1).zfill(2)," "),l(6),b(e.typeDocument),l(),d("text",e.numberDocument),l(3),d("src",R(e.imgUrl),_e),l(4),Be("",e.name,", ",e.surname),l(3),O(" ",e.cellphone),l(3),C(e.sex=="Masculino"?23:-1),l(),C(e.sex!="Masculino"?24:-1),l(),O(" ",e.sex," "),l(),d("type",R(e.personDetail==null?null:e.personDetail.typeUser))("idinstitution",a.idinstitution),l(3),O(" ",$e(30,22,e.user==null||e.user.setting==null?null:e.user.setting.createAt,"HH:mm:ss dd/MM/yyyy")," "),l(2),C((e.personDetail==null?null:e.personDetail.uidOld)!==""?31:-1),l(),C(a.filter.system!=""?32:-1),l(2),C(e.user?34:35),l(3),C(e.user?37:38)}}function Lp(n,t){if(n&1&&(r(0,"div",16)(1,"div")(2,"table",32)(3,"thead")(4,"tr")(5,"th"),c(6,"#"),o(),r(7,"th",33),c(8,"Documento"),o(),p(9,"th",34),r(10,"th"),c(11,"Personal"),o(),_(12,zp,2,0,"th",35),r(13,"th"),c(14,"Estado"),o(),p(15,"th")(16,"th",36),o()(),r(17,"tbody"),L(18,Up,42,30,"tr",37,J),o()()()()),n&2){let e=u();l(12),C(e.filter.system!=""?12:-1),l(6),Y(e.users)}}function Yp(n,t){if(n&1){let e=S();r(0,"div",71,4),f("click",function(){let a=h(e).$implicit,s=u(2);return v(s.select(a))})("dblclick",function(){let a=h(e).$implicit,s=u(2);return v(s.select(a,"dblclick"))})("contextmenu",function(){let a=h(e).$implicit,s=u(2);return v(s.select(a,"contextmenu"))}),r(2,"div")(3,"div",72),p(4,"img",44),o()(),r(5,"div",73)(6,"b"),c(7),o()(),r(8,"div",74),c(9),o(),r(10,"div")(11,"button",57),f("click",function(a){let s=h(e).$implicit,m=G(1);return u(2).select(s),v(m.open(a))}),p(12,"i",58),o()()()}if(n&2){let e=t.$implicit,i=t.$index,a=u(2),s=G(28);d("ngClass",y(7,Ni,e.id==a.selected.id))("contextMenu",s)("contextMenuValue",be(9,y0,e,i)),l(4),d("src",R(e.imgUrl),_e),l(3),b(e.numberDocument),l(2),b(e.nameComplete)}}function Rp(n,t){n&1&&(r(0,"div",68)(1,"div",75),c(2,"No hay registros"),o()())}function Np(n,t){if(n&1){let e=S();r(0,"div",17),L(1,Yp,13,12,"div",67,J,!1,Rp,3,0,"div",68),r(4,"div",41)(5,"button",69),f("click",function(){h(e);let a=u();return v(a.add())}),p(6,"i",70),o()()()}if(n&2){let e=u();l(),Y(e.users)}}function Bp(n,t){n&1&&(r(0,"div",24)(1,"div",25),p(2,"i",76),o(),r(3,"div",27),c(4,"Ver detalles"),o(),r(5,"div",28),c(6,"F1"),o()())}function jp(n,t){n&1&&(r(0,"div",24)(1,"div",25),p(2,"i",77),o(),r(3,"div",27),c(4,"Adicionar"),o(),r(5,"div",28),c(6,"F1"),o()())}function $p(n,t){n&1&&(r(0,"div",24)(1,"div",25),p(2,"i",78),o(),r(3,"div",27),c(4,"Editar"),o(),r(5,"div",28),c(6,"F1"),o()())}function qp(n,t){n&1&&(r(0,"div",24)(1,"div",25),p(2,"i",79),o(),r(3,"div",27),c(4,"Eliminar"),o(),r(5,"div",28),c(6,"F1"),o()())}function Wp(n,t){}function Gp(n,t){n&1&&(r(0,"div",80)(1,"div",25),p(2,"i",81),o(),r(3,"div",27),c(4,"Dar acceso al usuario"),o(),p(5,"div",28),o())}function Kp(n,t){n&1&&(r(0,"div",80)(1,"div",25),p(2,"i",81),o(),r(3,"div",82),c(4,"Activar usuario"),o(),p(5,"div",28),o())}function Xp(n,t){n&1&&(r(0,"div",80)(1,"div",25),p(2,"i",83),o(),r(3,"div",84),c(4,"Dar de baja al usuario"),o(),p(5,"div",28),o())}function Qp(n,t){}function Zp(n,t){n&1&&(r(0,"div",24)(1,"div",25),p(2,"img",85),o(),r(3,"div",27),c(4,"Exportar"),o(),r(5,"div",28),c(6,"F1"),o()())}function Jp(n,t){n&1&&(r(0,"div",24)(1,"div",25),p(2,"img",86),o(),r(3,"div",27),c(4,"Cambiar tipo de usuario"),o(),p(5,"div",28),o())}function eu(n,t){}function tu(n,t){n&1&&(r(0,"div",24)(1,"div",25),p(2,"i",87),o(),r(3,"div",27),c(4,"Actualizar lista"),o(),r(5,"div",28),c(6,"F1"),o()())}function iu(n,t){n&1&&(r(0,"div",24)(1,"div",25),p(2,"img",26),o(),r(3,"div",27),c(4,"En formato PDF"),o(),r(5,"div",28),c(6,"F1"),o()())}function nu(n,t){n&1&&(r(0,"div",24)(1,"div",25),p(2,"img",29),o(),r(3,"div",27),c(4,"En formato Excel"),o(),r(5,"div",28),c(6,"F1"),o()())}function ou(n,t){if(n&1&&(r(0,"div",24)(1,"div",25),p(2,"img",44),o(),r(3,"div",27),c(4),o(),p(5,"div",28),o()),n&2){let e=u().$implicit;l(2),d("src",R(e.imgUrl),_e),l(2),O(" ",e.denomination," ")}}function au(n,t){if(n&1){let e=S();E(0,ou,6,3,"ng-template",18),f("execute",function(a){let s=h(e).$implicit,m=u();return v(m.changeTypeUser(a.value.item,s))})}}function ru(n,t){n&1&&(r(0,"div",24)(1,"div",25),p(2,"img",26),o(),r(3,"div",27),c(4,"En formato PDF"),o(),r(5,"div",28),c(6,"F1"),o()())}function lu(n,t){n&1&&(r(0,"div",24)(1,"div",25),p(2,"img",29),o(),r(3,"div",27),c(4,"En formato Excel"),o(),r(5,"div",28),c(6,"F1"),o()())}function cu(n,t){n&1&&p(0,"app-loading")}var pn=class n{idinstitution="";idpartner="";state="1";tipo_usuario="";mode="table";size="lg";event=new H;institutionData;sistema=K.sistema;userService=g(Vt);modalService=g(Ie);authService=g(A);cs=g(ke);toastrService=g(ce);searchFieldList=[{code:"document",denomination:"Nro. documento"},{code:"cellphone",denomination:"Celular"}];loading=!1;users=[];filter={idinstitucion:"",texto:"",acceso:"",state:"",typeUser:"",searchField:"text",system:""};states=this.userService.states;stateMap=this.userService.stateMap;EUserState=ti;userTypes=this.cs.getSignal("userTypes");ngOnInit(){return x(this,null,function*(){this.idinstitution===""&&(this.idinstitution=this.authService.institucionData?.idinstitucion+""),this.filter.idinstitucion=this.idinstitution,this.filter.state=this.state+"",this.filter.typeUser=this.tipo_usuario,yield this.cs.getCatalogos({idinstitution:this.idinstitution,userTypes:!0}),this.list()})}list(){return x(this,null,function*(){this.loading=!0,this.filter.page=this.page;let t=yield this.userService.list(this.filter);this.loading=!1,t&&t.state=="success"&&(this.users=t.data)})}add(){this.openForm()}update(t){this.openForm("update",t)}openForm(t="add",e){return x(this,null,function*(){try{let i=this.modalService.open(g1,{size:"lg",backdrop:"static",windowClass:"modal_1000"});i.componentInstance.accion=t,i.componentInstance.idinstitution=this.idinstitution,i.componentInstance.institutionData=this.institutionData,i.componentInstance.tipo_usuario=this.filter.typeUser,t=="update"&&(i.componentInstance.user=JSON.parse(JSON.stringify(e)));let a=yield i.result;if(t=="add")this.users.unshift(a);else if(t=="update"){if(!e)return;Object.assign(e,a)}}catch{}})}remove(t,e=-1){return x(this,null,function*(){})}watchDetail(t){return x(this,null,function*(){let e=yield this.modalService.open(u1,{windowClass:"modal_1250",size:"lg",backdrop:"static"});e.componentInstance.user=t,e.componentInstance.idinstitution=this.idinstitution})}stateFilterChange(){this.list()}selected={};select(t,e="click"){this.selected=t,e=="dblclick"?this.watchDetail(t):this.event.emit({event:e,item:t})}searchChange(){this.list()}changeMode(t){this.mode=t}changeTypeUser(t,e){return x(this,null,function*(){if(t.personDetail?.typeUser==e.code){this.toastrService.error("El usuario ya tiene este tipo de usuario");return}(yield this.userService.changeTypeUser(t,e))?.state=="success"&&(t.personDetail&&(t.personDetail.typeUser=e.code+""),t.user&&(t.user.typeUser=+e.code))})}changeState(t,e){return x(this,null,function*(){if(!t.user)return;let i=yield this.userService.changeState(t.user,e);i&&i.state=="success"&&(t.user.state=e+"")})}canAdd=()=>this.userService.canAdd;canEdit=()=>this.userService.canEdit;canRemove=()=>this.userService.canRemove;canChangeState=()=>this.userService.canChangeState;canExport=()=>this.userService.canExport;canExportExcel=()=>this.userService.canExportExcel;canExportPdf=()=>this.userService.canExportPdf;export(t="pdf",e="list"){return x(this,null,function*(){this.filter.format=e,yield this.userService.export(this.filter,t)})}isAcceso=t=>(console.log(t),t.item.user==null);isActive=t=>(console.log(t),this.userService.canChangeState&&t.item.user!=null&&t.item.user.state=="2");isDesactive=t=>(console.log(t),this.userService.canChangeState&&t.item.user!=null&&t.item.user.state=="1");darAcceso(t){return x(this,null,function*(){let e=this.modalService.open(_1,{size:"lg",backdrop:"static",windowClass:"modal_1000"});e.componentInstance.user=t,e.componentInstance.idinstitucion=this.idinstitution,e.componentInstance.institutionData=this.institutionData;try{let i=yield e.result;console.log("result"),console.log(i),t.user=i}catch{}})}acceder(t,e=!0){return x(this,null,function*(){if(this.filter.system!=""){let i=e?"https://fe.codicore.com":"http://localhost:4202",a={idusuario:t.id+"",tipo_usuario:t.user?.typeUser+"",rol:"",idinstitucion:this.idinstitution};this.loading=!0;let s=yield this.authService.getToken(a);if(this.loading=!1,s.state=="success"){let m=s.data?.token;m=m.replace(/=/g,"");let M=i+"/roles/"+m;window.open(M,"_blank")}}else this.toastrService.error("Error","Seleccione un sistema")})}selectState(t){this.filter.state=t,this.resetPage()}selectAccess(t){this.filter.acceso=t,this.resetPage()}changeFilter(t){console.log(t.filtro),this.filter=Object.assign(this.filter,t.filtro),console.log(this.filter),this.resetPage()}page=1;resetPage(){return x(this,null,function*(){this.page=1,this.list()})}onPage(){this.list()}import(){return x(this,null,function*(){try{let t=yield this.modalService.open(x1,{backdrop:"static",keyboard:!1,size:"lg"}),e=t.componentInstance;e.idinstitution=this.idinstitution,e.idpartner=this.idpartner;let i=yield t.result;console.log("institution"),console.log(i)}catch{}})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=z({type:n,selectors:[["app-ui-user-list"]],inputs:{idinstitution:"idinstitution",idpartner:"idpartner",state:"state",tipo_usuario:"tipo_usuario",mode:"mode",size:"size",institutionData:"institutionData"},outputs:{event:"event"},decls:55,vars:38,consts:[["menuProcess",""],["menu",""],["SubMenu",""],["SubMenuType",""],["ngxContextMenu","ngxContextMenu"],[1,"_users"],[1,"filtro"],[3,"evento","idinstitucion"],[1,"b-l"],[1,"___header"],[1,"nav","nav-tabs","_nav_primary","justify-content-start","pl-4"],[1,"nav-item"],["href","javascript:void(0);",1,"nav-link",3,"click","ngClass"],[1,"nav","nav-tabs","_nav_primary","justify-content-start","pl-2"],[1,"nav","pe-2"],["labelExport","Procesos",3,"searchFieldChange","stateChange","searchChange","onAdd","onExport","onSearch","reload","modeChange","pageChange","searchFieldList","searchField","state","search","states","canExport","canExportExcel","canExportPdf","canNew","mode","size","showPagination","page","templateProcess","showMode"],[1,"_panel"],[1,"_box"],["contextMenuItem","",3,"execute"],["contextMenuItem","",3,"divider"],["contextMenuItem","",3,"execute","visible"],["contextMenuItem","",3,"subMenu"],["contextMenuItem",""],["ngbDropdownItem","","type","button",3,"click"],[1,"_items"],[1,"icons"],["src","assets/img/icons/pdf.png","alt",""],[1,"label"],[1,"atajo"],["src","assets/img/icons/excel.png","alt",""],[1,"dropdown-divider"],["src","https://cdn-icons-png.flaticon.com/512/4103/4103192.png","alt",""],[1,"table","table-sm","table-box","table-fixed","table-striped"],[2,"width","120px"],[2,"width","70px"],[2,"width","100px"],[2,"max-width","10px","min-width","10px","width","10px"],[3,"ngClass","contextMenu","contextMenuValue"],[3,"click","dblclick","contextmenu","ngClass","contextMenu","contextMenuValue"],[1,"text-center"],[1,"_centro",2,"height","70px"],[1,""],[3,"text"],[1,"img"],["alt","",3,"src"],[1,"ion-md-call"],[1,"detalle","d-flex","align-items-center","gap-1","px-1"],[1,"sexo","text-truncate"],[1,"ion-md-male"],[1,"ion-md-female"],["card","card",1,"ps-1","b-l","text-truncate",3,"idinstitution","type"],[1,"ps-1","b-l","text-truncate"],[1,"ion-md-time"],[1,"uidold",3,"ngbTooltip"],[3,"EStateCustom","state"],["nowrap","",1,"text-center"],["type","button",1,"btn","btn-outline-primary","btn-md-custom"],["type","button",1,"btn","btn-more",3,"click"],[1,"icon","ion-md-more"],[1,"ion-md-key"],[1,"_roles"],[1,"text-truncate"],["ngbDropdown",""],["type","button","ngbDropdownToggle","",1,"btn","btn-outline-primary","btn-sm-custom"],["ngbDropdownMenu",""],["ngbDropdownItem","",3,"click"],["type","button",1,"btn","btn-outline-primary","btn-md-custom",3,"click"],[1,"items","box-main",3,"ngClass","contextMenu","contextMenuValue"],[1,"empty"],["type","button",1,"btn","btn-outline-dark","btn-icon",3,"click"],[1,"icon","ion-md-add"],[1,"items","box-main",3,"click","dblclick","contextmenu","ngClass","contextMenu","contextMenuValue"],[1,"_img"],[1,"abreviatura","text-truncate"],[1,"title","text-truncate"],[1,"text"],[1,"icons","icon","ion-md-list-box"],[1,"icons","icon","ion-md-add"],[1,"icons","icon","ion-md-create"],[1,"icons","icon","ion-md-trash"],[1,"d-flex","align-items-center","_items"],[1,"icon","ion-md-checkmark-circle-outline"],[1,"label","text-success"],[1,"icon","ion-md-close-circle"],[1,"label","text-danger"],["src","https://cdn-icons-png.flaticon.com/512/5414/5414637.png","alt","icon_export"],["src","https://cdn-icons-png.flaticon.com/512/8999/8999067.png","alt","icon_export"],[1,"icons","icon","ion-md-refresh"]],template:function(e,i){if(e&1){let a=S();r(0,"div",5)(1,"div",6)(2,"app-ui-user-filter",7),f("evento",function(m){return h(a),v(i.changeFilter(m))}),o()(),r(3,"div",8)(4,"div",9)(5,"ul",10)(6,"li",11)(7,"a",12),f("click",function(){return h(a),v(i.selectAccess(""))}),c(8," Todos "),o()(),r(9,"li",11)(10,"a",12),f("click",function(){return h(a),v(i.selectAccess("1"))}),c(11," Con acceso "),o()(),r(12,"li",11)(13,"a",12),f("click",function(){return h(a),v(i.selectAccess("0"))}),c(14," Sin acceso "),o()()(),r(15,"ul",13)(16,"li",11)(17,"a",12),f("click",function(){return h(a),v(i.selectState(""))}),c(18," Todos "),o()(),L(19,Sp,3,4,"li",11,xp),o(),p(21,"ul",14),o(),E(22,Mp,15,1,"ng-template",null,0,Pi),r(24,"app-ui-header-management",15),le("searchFieldChange",function(m){return h(a),Q(i.filter.searchField,m)||(i.filter.searchField=m),v(m)})("stateChange",function(m){return h(a),Q(i.filter.state,m)||(i.filter.state=m),v(m)})("searchChange",function(m){return h(a),Q(i.filter.texto,m)||(i.filter.texto=m),v(m)}),f("onAdd",function(){return h(a),v(i.add())})("onExport",function(m){return h(a),v(i.export(m))})("onSearch",function(){return h(a),v(i.searchChange())})("reload",function(){return h(a),v(i.list())}),le("modeChange",function(m){return h(a),Q(i.mode,m)||(i.mode=m),v(m)})("pageChange",function(m){return h(a),Q(i.page,m)||(i.page=m),v(m)}),f("pageChange",function(){return h(a),v(i.onPage())}),o(),_(25,Lp,20,1,"div",16)(26,Np,7,1,"div",17),o()(),r(27,"context-menu",null,1),E(29,Bp,7,0,"ng-template",18),f("execute",function(m){return h(a),v(i.watchDetail(m.value.item))}),E(30,jp,7,0,"ng-template",18),f("execute",function(){return h(a),v(i.add())}),E(31,$p,7,0,"ng-template",18),f("execute",function(m){return h(a),v(i.update(m.value.item))}),E(32,qp,7,0,"ng-template",18),f("execute",function(m){return h(a),v(i.remove(m.value.item,m.value.indice))}),E(33,Wp,0,0,"ng-template",19)(34,Gp,6,0,"ng-template",20),f("execute",function(m){return h(a),v(i.darAcceso(m.value.item))}),E(35,Kp,6,0,"ng-template",20),f("execute",function(m){return h(a),v(i.changeState(m.value.item,i.EUserState.ACTIVE))}),E(36,Xp,6,0,"ng-template",20),f("execute",function(m){return h(a),v(i.changeState(m.value.item,i.EUserState.BLOQUEADO))}),E(37,Qp,0,0,"ng-template",19)(38,Zp,7,0,"ng-template",21)(39,Jp,6,0,"ng-template",21)(40,eu,0,0,"ng-template",19)(41,tu,7,0,"ng-template",18),f("execute",function(){return h(a),v(i.list())}),o(),r(42,"context-menu",null,2),E(44,iu,7,0,"ng-template",18),f("execute",function(){return h(a),v(i.export())}),E(45,nu,7,0,"ng-template",18),f("execute",function(){return h(a),v(i.export("excel"))}),o(),r(46,"context-menu",null,3),L(48,au,1,0,null,22,J),o(),r(50,"context-menu",null,2),E(52,ru,7,0,"ng-template",18),f("execute",function(){return h(a),v(i.export())}),E(53,lu,7,0,"ng-template",18),f("execute",function(){return h(a),v(i.export("excel"))}),o(),_(54,cu,1,0,"app-loading")}if(e&2){let a=G(23),s=G(43),m=G(47);l(2),d("idinstitucion",i.idinstitution),l(5),d("ngClass",y(30,Ni,i.filter.acceso=="")),l(3),d("ngClass",y(32,Ni,i.filter.acceso=="1")),l(3),d("ngClass",y(34,Ni,i.filter.acceso=="0")),l(4),d("ngClass",y(36,Ni,i.filter.state=="")),l(2),Y(i.states),l(5),d("searchFieldList",i.searchFieldList),oe("searchField",i.filter.searchField)("state",i.filter.state)("search",i.filter.texto),d("states",i.userService.states)("canExport",i.userService.canExport)("canExportExcel",i.userService.canExportExcel)("canExportPdf",i.userService.canExportPdf)("canNew",i.userService.canAdd),oe("mode",i.mode),d("size",i.size)("showPagination",!0),oe("page",i.page),d("templateProcess",a)("showMode",!1),l(),C(i.mode=="table"?25:i.mode=="box"?26:-1),l(8),d("divider",!0),l(),d("visible",i.isAcceso),l(),d("visible",i.isActive),l(),d("visible",i.isDesactive),l(),d("divider",!0),l(),d("subMenu",s),l(),d("subMenu",m),l(),d("divider",!0),l(8),Y(i.userTypes()),l(6),C(i.loading?54:-1)}},dependencies:[ut,pt,mt,dt,U,Se,ie,Ki,C1,Et,ni,ht,Je,oo,no,io,eo,to,Mt,gr,Ne],styles:["._users[_ngcontent-%COMP%]{display:grid;grid-template-columns:220px 1fr}._users[_ngcontent-%COMP%]   .filtro[_ngcontent-%COMP%]{height:calc(100vh - var(--h-navbar));overflow:auto}.table[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:60px;max-width:60px;border-radius:8px}.table[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{height:60px;display:flex;align-items:center;justify-content:center}.detalle[_ngcontent-%COMP%]{font-size:.8rem;color:var(--text-secondary)}.detalle[_ngcontent-%COMP%]   .box-main[_ngcontent-%COMP%]{padding:0 .25rem}._roles[_ngcontent-%COMP%]{list-style:none;display:flex;align-items:center;flex-wrap:wrap;padding:0;gap:.1rem}._roles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:0 .25rem;border-radius:.5rem;font-size:.75rem}._roles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child{background:#ebf2ff;color:#4b83fe}._roles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(2){background:#dcffe4;color:#26cc2c}._roles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(3){background:#fff3d6;color:#ff9f00}._roles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(4){background:#ffdede;color:red}._roles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(5){background:#f5f5f5;color:#313131}._roles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(6){background:#f5f5f5;color:#313131}.uidold[_ngcontent-%COMP%]{background-color:#ff9e00;color:#fff;border-radius:.5rem;padding:0 .25rem}"]})};function su(n,t){if(n&1&&p(0,"app-ui-user-list",0),n&2){let e=u();d("tipo_usuario",e.tipo_usuario)}}var b1=class n{tipo_usuario="";activedRoute=g(Gn);show=!1;ngOnInit(){this.activedRoute.queryParams.subscribe(t=>{console.log(t),t.tipo_usuario&&(this.tipo_usuario=t.tipo_usuario),this.show=!1,setTimeout(()=>{this.show=!0},100)})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=z({type:n,selectors:[["app-users-list-page"]],decls:1,vars:1,consts:[[3,"tipo_usuario"]],template:function(e,i){e&1&&_(0,su,1,1,"app-ui-user-list",0),e&2&&C(i.show?0:-1)},dependencies:[pn],encapsulation:2})};function du(n,t){if(n&1&&p(0,"app-ui-user-list",0),n&2){let e=u();d("tipo_usuario",e.tipo_usuario)}}var S1=class n{tipo_usuario="";activedRoute=g(Gn);show=!1;ngOnInit(){this.activedRoute.params.subscribe(t=>{t.tipo_usuario&&(this.tipo_usuario=t.tipo_usuario),this.show=!1,setTimeout(()=>{this.show=!0},100)})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=z({type:n,selectors:[["app-users-type-page"]],decls:1,vars:1,consts:[[3,"tipo_usuario"]],template:function(e,i){e&1&&_(0,du,1,1,"app-ui-user-list",0),e&2&&C(i.show?0:-1)},dependencies:[pn],encapsulation:2})};var y1=class n{tiempo=3e3;imagenes=["assets/img/medic.png","assets/img/medicos.png","assets/img/enfermera.png"];destroyRef=g(at);currentIndex=W(0);isPlaying=W(!1);imageList=W([]);currentImage=te(()=>{let t=this.imageList(),e=this.currentIndex();return t.length>0?t[e]:""});isVisible=te(()=>this.isPlaying());ngOnInit(){this.imageList.set(this.shuffleArray([...this.imagenes])),this.startCarousel()}ngOnDestroy(){this.stopCarousel()}startCarousel(){this.isPlaying.set(!0),za(this.tiempo).pipe(De(this.destroyRef)).subscribe(()=>{this.nextImage()})}stopCarousel(){this.isPlaying.set(!1)}nextImage(){let t=this.imageList();if(t.length===0)return;let e=(this.currentIndex()+1)%t.length;this.currentIndex.set(e)}goToImage(t){let e=this.imageList();t>=0&&t<e.length&&this.currentIndex.set(t)}previousImage(){let t=this.imageList();if(t.length===0)return;let e=this.currentIndex()===0?t.length-1:this.currentIndex()-1;this.currentIndex.set(e)}togglePlayPause(){this.isPlaying()?this.stopCarousel():this.startCarousel()}shuffleArray(t){let e=[...t];for(let i=e.length-1;i>0;i--){let a=Math.floor(Math.random()*(i+1));[e[i],e[a]]=[e[a],e[i]]}return e}get totalImages(){return this.imageList().length}get currentImageNumber(){return this.currentIndex()+1}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=z({type:n,selectors:[["app-carousel-images"]],inputs:{tiempo:"tiempo",imagenes:"imagenes"},decls:1,vars:2,consts:[["alt","",3,"src"]],template:function(e,i){e&1&&Bt(0,"img",0),e&2&&(d("@slideAnimation",void 0),Bn("src",i.currentImage(),_e))},styles:["img[_ngcontent-%COMP%]{max-height:250px;max-width:100%}"],data:{animation:[ct("slideAnimation",[ue(":enter",[q({opacity:0,transform:"translateX(50px)"}),pe("800ms ease-in-out",q({opacity:1,transform:"translateX(0)"}))]),ue(":leave",[pe("800ms ease-in-out",q({opacity:0,transform:"translateX(-50px)"}))])])]}})};function mu(n,t){if(n&1&&p(0,"app-carousel-images",2),n&2){let e=u();d("imagenes",e.images())}}function pu(n,t){if(n&1&&p(0,"img",3),n&2){let e=u();d("src",e.img(),_e)}}var M1=class n{constructor(t){this.auth=t}size="";item={idinstitucion:0,nombre_comercial:"",razon_social:"",imgUrl:"",ruc:"",cantidad_sucursales:0,cantidad_series:0,cantidad_usuarios:0,certificado_institucion:"",demo_institucion:0,password_institucion:"",usuario_institucion:""};img=W("");nombre_comercial="";razon="";images=te(()=>this.img().split(",").map(t=>t.trim()).filter(t=>t!==""));ngOnInit(){this.img.set(this.auth.institucionData?.imgUrl??""),this.nombre_comercial=this.auth.institucionData?.nombre_comercial??"",this.auth.institucionData?.ruc.substring(0,2)=="20"&&(this.razon=this.auth.institucionData?.razon_social),this.auth.userData.establishment&&this.auth.userData.establishment.imgUrl&&this.auth.userData.establishment.imgUrl!=""&&(this.img.set(this.auth.userData.establishment.imgUrl??""),this.nombre_comercial=this.auth.userData.establishment.denomination),this.auth.institucionData?.idinstitucion==3&&this.img.set(`${this.auth.institucionData?.imgUrl}, https://storage2.institucional.pe/f/view/SS02L2dsb2JhbC1tdWx0aW1lZGlh/sharp_n3t2e_diresa-digital.jpeg`)}static \u0275fac=function(e){return new(e||n)(ee(A))};static \u0275cmp=z({type:n,selectors:[["app-institution-info"]],inputs:{size:"size",item:"item"},decls:12,vars:9,consts:[[1,"text-center","w-sm-100"],[1,"_img"],[3,"imagenes"],["alt","",3,"src"],[1,"_description","flex-grow-1"],[1,"m-0"],[1,"text-truncate",2,"font-size","1.1rem"],[3,"text","limit"]],template:function(e,i){e&1&&(r(0,"div")(1,"div",0)(2,"div",1),_(3,mu,1,1,"app-carousel-images",2)(4,pu,1,1,"img",3),o()(),r(5,"div",4)(6,"h3",5),c(7),o(),r(8,"div",6),p(9,"app-text-limit",7),o(),r(10,"h6",5),c(11),o()()()),e&2&&(Ce(he("_info _",i.size)),l(3),C(i.images().length>1?3:i.images().length==1?4:-1),l(4),b(i.nombre_comercial),l(2),d("text",R(i.item==null?null:i.item.razon_social))("limit",30),l(2),b(i.item==null?null:i.item.ruc))},dependencies:[_r,y1],styles:["[_nghost-%COMP%]{--size: 180px}img[_ngcontent-%COMP%]{max-width:var(--size);max-height:var(--size);width:100%;margin:auto;border-radius:10px}._img[_ngcontent-%COMP%]{width:var(--size);height:var(--size);margin:0 auto;display:flex;align-items:center;justify-content:center}._info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;overflow:hidden}._info._sm[_ngcontent-%COMP%]{--size: 100px}@media (max-width: 768px){.w-sm-100[_ngcontent-%COMP%]{width:100%}}"]})};var z1=class n{item={};static \u0275fac=function(e){return new(e||n)};static \u0275cmp=z({type:n,selectors:[["app-user-info"]],inputs:{item:"item"},decls:9,vars:4,consts:[[1,"_info"],[1,"_img"],["alt","",3,"src"],[1,"flex-grow-1","_description"],[1,"text-truncate",2,"max-width","250px"]],template:function(e,i){e&1&&(Ht(0,"div",0)(1,"div")(2,"div",1),Bt(3,"img",2),Gt()(),Ht(4,"div",3),c(5),Bt(6,"br"),Ht(7,"div",4),c(8),Gt()()()),e&2&&(l(3),Bn("src",R(i.item.personDetail==null||i.item.personDetail.person==null?null:i.item.personDetail.person.imgUrl),_e),l(2),O(" ",i.item.personDetail==null||i.item.personDetail.person==null?null:i.item.personDetail.person.name," "),l(3),O(" ",i.item.personDetail==null||i.item.personDetail.person==null?null:i.item.personDetail.person.surname," "))},styles:["img[_ngcontent-%COMP%]{max-width:120px;max-height:120px;width:100%;margin:auto;border-radius:10px}._img[_ngcontent-%COMP%]{width:120px;height:120px;margin:0 auto}._info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;overflow:hidden}@media (max-width: 768px){.w-sm-100[_ngcontent-%COMP%]{width:100%}}._description[_ngcontent-%COMP%]{font-size:1.1rem}"]})};var w1=class n{auth=g(A);usuario=this.auth.userData;institution=this.auth.institucionData;loading=!0;base=this.auth.projectPath();static \u0275fac=function(e){return new(e||n)};static \u0275cmp=z({type:n,selectors:[["app-welcome"]],decls:34,vars:6,consts:[[1,"container","_welcome"],[1,"row","align-items-center","main"],[1,"col-12","col-md-8","menu"],[1,"_title"],[1,"s-p"],[1,"d-flex","d-menu"],[3,"routerLink"],[1,"_img"],["src","https://cdn-icons-png.flaticon.com/512/3237/3237472.png","alt",""],[1,"container-label"],["for","",1,"label","text-truncate"],["src","https://cdn-icons-png.flaticon.com/512/947/947496.png","alt",""],[1,"mt-4","_title"],[1,"box-main"],[3,"item"],[1,"col-12","col-md-4"],["size","small"]],template:function(e,i){e&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),c(4,"Opciones"),o(),r(5,"div",4)(6,"ul",5)(7,"li")(8,"a",6)(9,"div",7),p(10,"img",8),o(),r(11,"div",9)(12,"label",10),c(13,"Usuarios"),o()()()(),r(14,"li")(15,"a",6)(16,"div",7),p(17,"img",11),o(),r(18,"div",9)(19,"label",10),c(20,"Tipos de usuarios"),o()()()()()(),r(21,"div",12),c(22,"Datos de la instituci\xF3n"),o(),r(23,"div",13),p(24,"app-institution-info",14),o()(),r(25,"div",15)(26,"div",3),c(27,"Datos de usuario"),o(),r(28,"div",13),p(29,"app-user-info",14),o(),r(30,"div",12),c(31,"Seleccione su tema"),o(),r(32,"div",13),p(33,"app-select-theme",16),o()()()()),e&2&&(l(8),d("routerLink",he("/",i.base,"/users")),l(7),d("routerLink",he("/",i.base,"/tipos")),l(9),d("item",i.institution),l(5),d("item",i.usuario))},dependencies:[Xn,xr,M1,z1],styles:[".main[_ngcontent-%COMP%]{min-height:calc(100vh - var(--h-navbar))}"]})};var fH=[{path:"",component:r1,children:[{path:"bienvenido",component:w1},{path:"users",component:l1,children:[{path:"list",component:b1},{path:"rol",component:Li},{path:"roles",component:No},{path:"tipos",component:On},{path:"importar",component:Fn},{path:"contratados",component:Fn},{path:"",redirectTo:"list",pathMatch:"full"}]},{path:"usuario/:tipo_usuario/:codigo",component:S1},{path:"historial/accesos",component:en},{path:"historial/cambios",component:Qi},{path:"tipos",component:On},{path:"asignaciones",component:Li},{path:"",redirectTo:"bienvenido",pathMatch:"full"}]},{path:"",redirectTo:"bienvenido",pathMatch:"full"}];export{fH as routes};
